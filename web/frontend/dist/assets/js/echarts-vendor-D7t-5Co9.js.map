{"version":3,"file":"echarts-vendor-D7t-5Co9.js","sources":["../../../node_modules/zrender/lib/core/env.js","../../../node_modules/zrender/lib/core/platform.js","../../../node_modules/zrender/lib/core/util.js","../../../node_modules/zrender/lib/core/vector.js","../../../node_modules/zrender/lib/mixin/Draggable.js","../../../node_modules/zrender/lib/core/Eventful.js","../../../node_modules/zrender/lib/core/fourPointsTransform.js","../../../node_modules/zrender/lib/core/dom.js","../../../node_modules/zrender/lib/core/event.js","../../../node_modules/zrender/lib/core/GestureMgr.js","../../../node_modules/zrender/lib/core/matrix.js","../../../node_modules/zrender/lib/core/Point.js","../../../node_modules/zrender/lib/core/BoundingRect.js","../../../node_modules/zrender/lib/Handler.js","../../../node_modules/zrender/lib/core/timsort.js","../../../node_modules/zrender/lib/graphic/constants.js","../../../node_modules/zrender/lib/Storage.js","../../../node_modules/zrender/lib/animation/requestAnimationFrame.js","../../../node_modules/zrender/lib/animation/easing.js","../../../node_modules/zrender/lib/core/curve.js","../../../node_modules/zrender/lib/animation/cubicEasing.js","../../../node_modules/zrender/lib/animation/Clip.js","../../../node_modules/zrender/lib/core/LRU.js","../../../node_modules/zrender/lib/tool/color.js","../../../node_modules/zrender/lib/svg/helper.js","../../../node_modules/zrender/lib/animation/Animator.js","../../../node_modules/zrender/lib/animation/Animation.js","../../../node_modules/zrender/lib/dom/HandlerProxy.js","../../../node_modules/zrender/lib/config.js","../../../node_modules/zrender/lib/core/Transformable.js","../../../node_modules/zrender/lib/contain/text.js","../../../node_modules/zrender/lib/Element.js","../../../node_modules/zrender/lib/graphic/Group.js","../../../node_modules/zrender/lib/zrender.js","../../../node_modules/zrender/lib/graphic/helper/image.js","../../../node_modules/zrender/lib/graphic/helper/parseText.js","../../../node_modules/zrender/lib/graphic/Displayable.js","../../../node_modules/zrender/lib/core/bbox.js","../../../node_modules/zrender/lib/core/PathProxy.js","../../../node_modules/zrender/lib/contain/line.js","../../../node_modules/zrender/lib/contain/cubic.js","../../../node_modules/zrender/lib/contain/quadratic.js","../../../node_modules/zrender/lib/contain/util.js","../../../node_modules/zrender/lib/contain/arc.js","../../../node_modules/zrender/lib/contain/windingLine.js","../../../node_modules/zrender/lib/contain/path.js","../../../node_modules/zrender/lib/graphic/Path.js","../../../node_modules/zrender/lib/graphic/TSpan.js","../../../node_modules/zrender/lib/graphic/Image.js","../../../node_modules/zrender/lib/graphic/helper/subPixelOptimize.js","../../../node_modules/zrender/lib/graphic/shape/Rect.js","../../../node_modules/zrender/lib/graphic/helper/roundRect.js","../../../node_modules/zrender/lib/graphic/Text.js","../../../node_modules/zrender/lib/tool/transformPath.js","../../../node_modules/zrender/lib/tool/path.js","../../../node_modules/zrender/lib/graphic/shape/Circle.js","../../../node_modules/zrender/lib/graphic/shape/Ellipse.js","../../../node_modules/zrender/lib/graphic/helper/roundSector.js","../../../node_modules/zrender/lib/graphic/shape/Sector.js","../../../node_modules/zrender/lib/graphic/shape/Ring.js","../../../node_modules/zrender/lib/graphic/helper/poly.js","../../../node_modules/zrender/lib/graphic/helper/smoothBezier.js","../../../node_modules/zrender/lib/graphic/shape/Polygon.js","../../../node_modules/zrender/lib/graphic/shape/Polyline.js","../../../node_modules/zrender/lib/graphic/shape/Line.js","../../../node_modules/zrender/lib/graphic/shape/BezierCurve.js","../../../node_modules/zrender/lib/graphic/shape/Arc.js","../../../node_modules/zrender/lib/graphic/CompoundPath.js","../../../node_modules/zrender/lib/graphic/Gradient.js","../../../node_modules/zrender/lib/graphic/LinearGradient.js","../../../node_modules/zrender/lib/graphic/RadialGradient.js","../../../node_modules/zrender/lib/core/OrientedBoundingRect.js","../../../node_modules/zrender/lib/graphic/IncrementalDisplayable.js","../../../node_modules/zrender/lib/core/WeakMap.js","../../../node_modules/zrender/lib/canvas/helper.js","../../../node_modules/zrender/lib/canvas/dashStyle.js","../../../node_modules/zrender/lib/canvas/graphic.js","../../../node_modules/zrender/lib/contain/polygon.js","../../../node_modules/zrender/lib/svg/SVGPathRebuilder.js","../../../node_modules/zrender/lib/svg/mapStyleToAttrs.js","../../../node_modules/zrender/lib/svg/core.js","../../../node_modules/zrender/lib/svg/cssClassId.js","../../../node_modules/zrender/lib/svg/cssAnimation.js","../../../node_modules/zrender/lib/svg/cssEmphasis.js","../../../node_modules/zrender/lib/svg/graphic.js","../../../node_modules/zrender/lib/svg/domapi.js","../../../node_modules/zrender/lib/svg/patch.js","../../../node_modules/zrender/lib/svg/Painter.js","../../../node_modules/zrender/lib/canvas/Layer.js","../../../node_modules/zrender/lib/canvas/Painter.js","../../../node_modules/zrender/lib/tool/parseSVG.js","../../../node_modules/zrender/lib/tool/parseXML.js","../../../node_modules/zrender/lib/tool/convertPath.js","../../../node_modules/zrender/lib/tool/dividePath.js","../../../node_modules/zrender/lib/tool/morphPath.js","../../../node_modules/echarts/index.js"],"sourcesContent":["var Browser = (function () {\n    function Browser() {\n        this.firefox = false;\n        this.ie = false;\n        this.edge = false;\n        this.newEdge = false;\n        this.weChat = false;\n    }\n    return Browser;\n}());\nvar Env = (function () {\n    function Env() {\n        this.browser = new Browser();\n        this.node = false;\n        this.wxa = false;\n        this.worker = false;\n        this.svgSupported = false;\n        this.touchEventsSupported = false;\n        this.pointerEventsSupported = false;\n        this.domSupported = false;\n        this.transformSupported = false;\n        this.transform3dSupported = false;\n        this.hasGlobalWindow = typeof window !== 'undefined';\n    }\n    return Env;\n}());\nvar env = new Env();\nif (typeof wx === 'object' && typeof wx.getSystemInfoSync === 'function') {\n    env.wxa = true;\n    env.touchEventsSupported = true;\n}\nelse if (typeof document === 'undefined' && typeof self !== 'undefined') {\n    env.worker = true;\n}\nelse if (!env.hasGlobalWindow || 'Deno' in window) {\n    env.node = true;\n    env.svgSupported = true;\n}\nelse {\n    detect(navigator.userAgent, env);\n}\nfunction detect(ua, env) {\n    var browser = env.browser;\n    var firefox = ua.match(/Firefox\\/([\\d.]+)/);\n    var ie = ua.match(/MSIE\\s([\\d.]+)/)\n        || ua.match(/Trident\\/.+?rv:(([\\d.]+))/);\n    var edge = ua.match(/Edge?\\/([\\d.]+)/);\n    var weChat = (/micromessenger/i).test(ua);\n    if (firefox) {\n        browser.firefox = true;\n        browser.version = firefox[1];\n    }\n    if (ie) {\n        browser.ie = true;\n        browser.version = ie[1];\n    }\n    if (edge) {\n        browser.edge = true;\n        browser.version = edge[1];\n        browser.newEdge = +edge[1].split('.')[0] > 18;\n    }\n    if (weChat) {\n        browser.weChat = true;\n    }\n    env.svgSupported = typeof SVGRect !== 'undefined';\n    env.touchEventsSupported = 'ontouchstart' in window && !browser.ie && !browser.edge;\n    env.pointerEventsSupported = 'onpointerdown' in window\n        && (browser.edge || (browser.ie && +browser.version >= 11));\n    env.domSupported = typeof document !== 'undefined';\n    var style = document.documentElement.style;\n    env.transform3dSupported = ((browser.ie && 'transition' in style)\n        || browser.edge\n        || (('WebKitCSSMatrix' in window) && ('m11' in new WebKitCSSMatrix()))\n        || 'MozPerspective' in style)\n        && !('OTransition' in style);\n    env.transformSupported = env.transform3dSupported\n        || (browser.ie && +browser.version >= 9);\n}\nexport default env;\n","export var DEFAULT_FONT_SIZE = 12;\nexport var DEFAULT_FONT_FAMILY = 'sans-serif';\nexport var DEFAULT_FONT = DEFAULT_FONT_SIZE + \"px \" + DEFAULT_FONT_FAMILY;\nvar OFFSET = 20;\nvar SCALE = 100;\nvar defaultWidthMapStr = \"007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\\\\\WQb\\\\0FWLg\\\\bWb\\\\WQ\\\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\\\FFF5.5N\";\nfunction getTextWidthMap(mapStr) {\n    var map = {};\n    if (typeof JSON === 'undefined') {\n        return map;\n    }\n    for (var i = 0; i < mapStr.length; i++) {\n        var char = String.fromCharCode(i + 32);\n        var size = (mapStr.charCodeAt(i) - OFFSET) / SCALE;\n        map[char] = size;\n    }\n    return map;\n}\nexport var DEFAULT_TEXT_WIDTH_MAP = getTextWidthMap(defaultWidthMapStr);\nexport var platformApi = {\n    createCanvas: function () {\n        return typeof document !== 'undefined'\n            && document.createElement('canvas');\n    },\n    measureText: (function () {\n        var _ctx;\n        var _cachedFont;\n        return function (text, font) {\n            if (!_ctx) {\n                var canvas = platformApi.createCanvas();\n                _ctx = canvas && canvas.getContext('2d');\n            }\n            if (_ctx) {\n                if (_cachedFont !== font) {\n                    _cachedFont = _ctx.font = font || DEFAULT_FONT;\n                }\n                return _ctx.measureText(text);\n            }\n            else {\n                text = text || '';\n                font = font || DEFAULT_FONT;\n                var res = /((?:\\d+)?\\.?\\d*)px/.exec(font);\n                var fontSize = res && +res[1] || DEFAULT_FONT_SIZE;\n                var width = 0;\n                if (font.indexOf('mono') >= 0) {\n                    width = fontSize * text.length;\n                }\n                else {\n                    for (var i = 0; i < text.length; i++) {\n                        var preCalcWidth = DEFAULT_TEXT_WIDTH_MAP[text[i]];\n                        width += preCalcWidth == null ? fontSize : (preCalcWidth * fontSize);\n                    }\n                }\n                return { width: width };\n            }\n        };\n    })(),\n    loadImage: function (src, onload, onerror) {\n        var image = new Image();\n        image.onload = onload;\n        image.onerror = onerror;\n        image.src = src;\n        return image;\n    }\n};\nexport function setPlatformAPI(newPlatformApis) {\n    for (var key in platformApi) {\n        if (newPlatformApis[key]) {\n            platformApi[key] = newPlatformApis[key];\n        }\n    }\n}\n","import { platformApi } from './platform.js';\nvar BUILTIN_OBJECT = reduce([\n    'Function',\n    'RegExp',\n    'Date',\n    'Error',\n    'CanvasGradient',\n    'CanvasPattern',\n    'Image',\n    'Canvas'\n], function (obj, val) {\n    obj['[object ' + val + ']'] = true;\n    return obj;\n}, {});\nvar TYPED_ARRAY = reduce([\n    'Int8',\n    'Uint8',\n    'Uint8Clamped',\n    'Int16',\n    'Uint16',\n    'Int32',\n    'Uint32',\n    'Float32',\n    'Float64'\n], function (obj, val) {\n    obj['[object ' + val + 'Array]'] = true;\n    return obj;\n}, {});\nvar objToString = Object.prototype.toString;\nvar arrayProto = Array.prototype;\nvar nativeForEach = arrayProto.forEach;\nvar nativeFilter = arrayProto.filter;\nvar nativeSlice = arrayProto.slice;\nvar nativeMap = arrayProto.map;\nvar ctorFunction = function () { }.constructor;\nvar protoFunction = ctorFunction ? ctorFunction.prototype : null;\nvar protoKey = '__proto__';\nvar idStart = 0x0907;\nexport function guid() {\n    return idStart++;\n}\nexport function logError() {\n    var args = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n    }\n    if (typeof console !== 'undefined') {\n        console.error.apply(console, args);\n    }\n}\nexport function clone(source) {\n    if (source == null || typeof source !== 'object') {\n        return source;\n    }\n    var result = source;\n    var typeStr = objToString.call(source);\n    if (typeStr === '[object Array]') {\n        if (!isPrimitive(source)) {\n            result = [];\n            for (var i = 0, len = source.length; i < len; i++) {\n                result[i] = clone(source[i]);\n            }\n        }\n    }\n    else if (TYPED_ARRAY[typeStr]) {\n        if (!isPrimitive(source)) {\n            var Ctor = source.constructor;\n            if (Ctor.from) {\n                result = Ctor.from(source);\n            }\n            else {\n                result = new Ctor(source.length);\n                for (var i = 0, len = source.length; i < len; i++) {\n                    result[i] = source[i];\n                }\n            }\n        }\n    }\n    else if (!BUILTIN_OBJECT[typeStr] && !isPrimitive(source) && !isDom(source)) {\n        result = {};\n        for (var key in source) {\n            if (source.hasOwnProperty(key) && key !== protoKey) {\n                result[key] = clone(source[key]);\n            }\n        }\n    }\n    return result;\n}\nexport function merge(target, source, overwrite) {\n    if (!isObject(source) || !isObject(target)) {\n        return overwrite ? clone(source) : target;\n    }\n    for (var key in source) {\n        if (source.hasOwnProperty(key) && key !== protoKey) {\n            var targetProp = target[key];\n            var sourceProp = source[key];\n            if (isObject(sourceProp)\n                && isObject(targetProp)\n                && !isArray(sourceProp)\n                && !isArray(targetProp)\n                && !isDom(sourceProp)\n                && !isDom(targetProp)\n                && !isBuiltInObject(sourceProp)\n                && !isBuiltInObject(targetProp)\n                && !isPrimitive(sourceProp)\n                && !isPrimitive(targetProp)) {\n                merge(targetProp, sourceProp, overwrite);\n            }\n            else if (overwrite || !(key in target)) {\n                target[key] = clone(source[key]);\n            }\n        }\n    }\n    return target;\n}\nexport function mergeAll(targetAndSources, overwrite) {\n    var result = targetAndSources[0];\n    for (var i = 1, len = targetAndSources.length; i < len; i++) {\n        result = merge(result, targetAndSources[i], overwrite);\n    }\n    return result;\n}\nexport function extend(target, source) {\n    if (Object.assign) {\n        Object.assign(target, source);\n    }\n    else {\n        for (var key in source) {\n            if (source.hasOwnProperty(key) && key !== protoKey) {\n                target[key] = source[key];\n            }\n        }\n    }\n    return target;\n}\nexport function defaults(target, source, overlay) {\n    var keysArr = keys(source);\n    for (var i = 0, len = keysArr.length; i < len; i++) {\n        var key = keysArr[i];\n        if ((overlay ? source[key] != null : target[key] == null)) {\n            target[key] = source[key];\n        }\n    }\n    return target;\n}\nexport var createCanvas = platformApi.createCanvas;\nexport function indexOf(array, value) {\n    if (array) {\n        if (array.indexOf) {\n            return array.indexOf(value);\n        }\n        for (var i = 0, len = array.length; i < len; i++) {\n            if (array[i] === value) {\n                return i;\n            }\n        }\n    }\n    return -1;\n}\nexport function inherits(clazz, baseClazz) {\n    var clazzPrototype = clazz.prototype;\n    function F() { }\n    F.prototype = baseClazz.prototype;\n    clazz.prototype = new F();\n    for (var prop in clazzPrototype) {\n        if (clazzPrototype.hasOwnProperty(prop)) {\n            clazz.prototype[prop] = clazzPrototype[prop];\n        }\n    }\n    clazz.prototype.constructor = clazz;\n    clazz.superClass = baseClazz;\n}\nexport function mixin(target, source, override) {\n    target = 'prototype' in target ? target.prototype : target;\n    source = 'prototype' in source ? source.prototype : source;\n    if (Object.getOwnPropertyNames) {\n        var keyList = Object.getOwnPropertyNames(source);\n        for (var i = 0; i < keyList.length; i++) {\n            var key = keyList[i];\n            if (key !== 'constructor') {\n                if ((override ? source[key] != null : target[key] == null)) {\n                    target[key] = source[key];\n                }\n            }\n        }\n    }\n    else {\n        defaults(target, source, override);\n    }\n}\nexport function isArrayLike(data) {\n    if (!data) {\n        return false;\n    }\n    if (typeof data === 'string') {\n        return false;\n    }\n    return typeof data.length === 'number';\n}\nexport function each(arr, cb, context) {\n    if (!(arr && cb)) {\n        return;\n    }\n    if (arr.forEach && arr.forEach === nativeForEach) {\n        arr.forEach(cb, context);\n    }\n    else if (arr.length === +arr.length) {\n        for (var i = 0, len = arr.length; i < len; i++) {\n            cb.call(context, arr[i], i, arr);\n        }\n    }\n    else {\n        for (var key in arr) {\n            if (arr.hasOwnProperty(key)) {\n                cb.call(context, arr[key], key, arr);\n            }\n        }\n    }\n}\nexport function map(arr, cb, context) {\n    if (!arr) {\n        return [];\n    }\n    if (!cb) {\n        return slice(arr);\n    }\n    if (arr.map && arr.map === nativeMap) {\n        return arr.map(cb, context);\n    }\n    else {\n        var result = [];\n        for (var i = 0, len = arr.length; i < len; i++) {\n            result.push(cb.call(context, arr[i], i, arr));\n        }\n        return result;\n    }\n}\nexport function reduce(arr, cb, memo, context) {\n    if (!(arr && cb)) {\n        return;\n    }\n    for (var i = 0, len = arr.length; i < len; i++) {\n        memo = cb.call(context, memo, arr[i], i, arr);\n    }\n    return memo;\n}\nexport function filter(arr, cb, context) {\n    if (!arr) {\n        return [];\n    }\n    if (!cb) {\n        return slice(arr);\n    }\n    if (arr.filter && arr.filter === nativeFilter) {\n        return arr.filter(cb, context);\n    }\n    else {\n        var result = [];\n        for (var i = 0, len = arr.length; i < len; i++) {\n            if (cb.call(context, arr[i], i, arr)) {\n                result.push(arr[i]);\n            }\n        }\n        return result;\n    }\n}\nexport function find(arr, cb, context) {\n    if (!(arr && cb)) {\n        return;\n    }\n    for (var i = 0, len = arr.length; i < len; i++) {\n        if (cb.call(context, arr[i], i, arr)) {\n            return arr[i];\n        }\n    }\n}\nexport function keys(obj) {\n    if (!obj) {\n        return [];\n    }\n    if (Object.keys) {\n        return Object.keys(obj);\n    }\n    var keyList = [];\n    for (var key in obj) {\n        if (obj.hasOwnProperty(key)) {\n            keyList.push(key);\n        }\n    }\n    return keyList;\n}\nfunction bindPolyfill(func, context) {\n    var args = [];\n    for (var _i = 2; _i < arguments.length; _i++) {\n        args[_i - 2] = arguments[_i];\n    }\n    return function () {\n        return func.apply(context, args.concat(nativeSlice.call(arguments)));\n    };\n}\nexport var bind = (protoFunction && isFunction(protoFunction.bind))\n    ? protoFunction.call.bind(protoFunction.bind)\n    : bindPolyfill;\nfunction curry(func) {\n    var args = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        args[_i - 1] = arguments[_i];\n    }\n    return function () {\n        return func.apply(this, args.concat(nativeSlice.call(arguments)));\n    };\n}\nexport { curry };\nexport function isArray(value) {\n    if (Array.isArray) {\n        return Array.isArray(value);\n    }\n    return objToString.call(value) === '[object Array]';\n}\nexport function isFunction(value) {\n    return typeof value === 'function';\n}\nexport function isString(value) {\n    return typeof value === 'string';\n}\nexport function isStringSafe(value) {\n    return objToString.call(value) === '[object String]';\n}\nexport function isNumber(value) {\n    return typeof value === 'number';\n}\nexport function isObject(value) {\n    var type = typeof value;\n    return type === 'function' || (!!value && type === 'object');\n}\nexport function isBuiltInObject(value) {\n    return !!BUILTIN_OBJECT[objToString.call(value)];\n}\nexport function isTypedArray(value) {\n    return !!TYPED_ARRAY[objToString.call(value)];\n}\nexport function isDom(value) {\n    return typeof value === 'object'\n        && typeof value.nodeType === 'number'\n        && typeof value.ownerDocument === 'object';\n}\nexport function isGradientObject(value) {\n    return value.colorStops != null;\n}\nexport function isImagePatternObject(value) {\n    return value.image != null;\n}\nexport function isRegExp(value) {\n    return objToString.call(value) === '[object RegExp]';\n}\nexport function eqNaN(value) {\n    return value !== value;\n}\nexport function retrieve() {\n    var args = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n    }\n    for (var i = 0, len = args.length; i < len; i++) {\n        if (args[i] != null) {\n            return args[i];\n        }\n    }\n}\nexport function retrieve2(value0, value1) {\n    return value0 != null\n        ? value0\n        : value1;\n}\nexport function retrieve3(value0, value1, value2) {\n    return value0 != null\n        ? value0\n        : value1 != null\n            ? value1\n            : value2;\n}\nexport function slice(arr) {\n    var args = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        args[_i - 1] = arguments[_i];\n    }\n    return nativeSlice.apply(arr, args);\n}\nexport function normalizeCssArray(val) {\n    if (typeof (val) === 'number') {\n        return [val, val, val, val];\n    }\n    var len = val.length;\n    if (len === 2) {\n        return [val[0], val[1], val[0], val[1]];\n    }\n    else if (len === 3) {\n        return [val[0], val[1], val[2], val[1]];\n    }\n    return val;\n}\nexport function assert(condition, message) {\n    if (!condition) {\n        throw new Error(message);\n    }\n}\nexport function trim(str) {\n    if (str == null) {\n        return null;\n    }\n    else if (typeof str.trim === 'function') {\n        return str.trim();\n    }\n    else {\n        return str.replace(/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g, '');\n    }\n}\nvar primitiveKey = '__ec_primitive__';\nexport function setAsPrimitive(obj) {\n    obj[primitiveKey] = true;\n}\nexport function isPrimitive(obj) {\n    return obj[primitiveKey];\n}\nvar MapPolyfill = (function () {\n    function MapPolyfill() {\n        this.data = {};\n    }\n    MapPolyfill.prototype[\"delete\"] = function (key) {\n        var existed = this.has(key);\n        if (existed) {\n            delete this.data[key];\n        }\n        return existed;\n    };\n    MapPolyfill.prototype.has = function (key) {\n        return this.data.hasOwnProperty(key);\n    };\n    MapPolyfill.prototype.get = function (key) {\n        return this.data[key];\n    };\n    MapPolyfill.prototype.set = function (key, value) {\n        this.data[key] = value;\n        return this;\n    };\n    MapPolyfill.prototype.keys = function () {\n        return keys(this.data);\n    };\n    MapPolyfill.prototype.forEach = function (callback) {\n        var data = this.data;\n        for (var key in data) {\n            if (data.hasOwnProperty(key)) {\n                callback(data[key], key);\n            }\n        }\n    };\n    return MapPolyfill;\n}());\nvar isNativeMapSupported = typeof Map === 'function';\nfunction maybeNativeMap() {\n    return (isNativeMapSupported ? new Map() : new MapPolyfill());\n}\nvar HashMap = (function () {\n    function HashMap(obj) {\n        var isArr = isArray(obj);\n        this.data = maybeNativeMap();\n        var thisMap = this;\n        (obj instanceof HashMap)\n            ? obj.each(visit)\n            : (obj && each(obj, visit));\n        function visit(value, key) {\n            isArr ? thisMap.set(value, key) : thisMap.set(key, value);\n        }\n    }\n    HashMap.prototype.hasKey = function (key) {\n        return this.data.has(key);\n    };\n    HashMap.prototype.get = function (key) {\n        return this.data.get(key);\n    };\n    HashMap.prototype.set = function (key, value) {\n        this.data.set(key, value);\n        return value;\n    };\n    HashMap.prototype.each = function (cb, context) {\n        this.data.forEach(function (value, key) {\n            cb.call(context, value, key);\n        });\n    };\n    HashMap.prototype.keys = function () {\n        var keys = this.data.keys();\n        return isNativeMapSupported\n            ? Array.from(keys)\n            : keys;\n    };\n    HashMap.prototype.removeKey = function (key) {\n        this.data[\"delete\"](key);\n    };\n    return HashMap;\n}());\nexport { HashMap };\nexport function createHashMap(obj) {\n    return new HashMap(obj);\n}\nexport function concatArray(a, b) {\n    var newArray = new a.constructor(a.length + b.length);\n    for (var i = 0; i < a.length; i++) {\n        newArray[i] = a[i];\n    }\n    var offset = a.length;\n    for (var i = 0; i < b.length; i++) {\n        newArray[i + offset] = b[i];\n    }\n    return newArray;\n}\nexport function createObject(proto, properties) {\n    var obj;\n    if (Object.create) {\n        obj = Object.create(proto);\n    }\n    else {\n        var StyleCtor = function () { };\n        StyleCtor.prototype = proto;\n        obj = new StyleCtor();\n    }\n    if (properties) {\n        extend(obj, properties);\n    }\n    return obj;\n}\nexport function disableUserSelect(dom) {\n    var domStyle = dom.style;\n    domStyle.webkitUserSelect = 'none';\n    domStyle.userSelect = 'none';\n    domStyle.webkitTapHighlightColor = 'rgba(0,0,0,0)';\n    domStyle['-webkit-touch-callout'] = 'none';\n}\nexport function hasOwn(own, prop) {\n    return own.hasOwnProperty(prop);\n}\nexport function noop() { }\nexport var RADIAN_TO_DEGREE = 180 / Math.PI;\n","export function create(x, y) {\n    if (x == null) {\n        x = 0;\n    }\n    if (y == null) {\n        y = 0;\n    }\n    return [x, y];\n}\nexport function copy(out, v) {\n    out[0] = v[0];\n    out[1] = v[1];\n    return out;\n}\nexport function clone(v) {\n    return [v[0], v[1]];\n}\nexport function set(out, a, b) {\n    out[0] = a;\n    out[1] = b;\n    return out;\n}\nexport function add(out, v1, v2) {\n    out[0] = v1[0] + v2[0];\n    out[1] = v1[1] + v2[1];\n    return out;\n}\nexport function scaleAndAdd(out, v1, v2, a) {\n    out[0] = v1[0] + v2[0] * a;\n    out[1] = v1[1] + v2[1] * a;\n    return out;\n}\nexport function sub(out, v1, v2) {\n    out[0] = v1[0] - v2[0];\n    out[1] = v1[1] - v2[1];\n    return out;\n}\nexport function len(v) {\n    return Math.sqrt(lenSquare(v));\n}\nexport var length = len;\nexport function lenSquare(v) {\n    return v[0] * v[0] + v[1] * v[1];\n}\nexport var lengthSquare = lenSquare;\nexport function mul(out, v1, v2) {\n    out[0] = v1[0] * v2[0];\n    out[1] = v1[1] * v2[1];\n    return out;\n}\nexport function div(out, v1, v2) {\n    out[0] = v1[0] / v2[0];\n    out[1] = v1[1] / v2[1];\n    return out;\n}\nexport function dot(v1, v2) {\n    return v1[0] * v2[0] + v1[1] * v2[1];\n}\nexport function scale(out, v, s) {\n    out[0] = v[0] * s;\n    out[1] = v[1] * s;\n    return out;\n}\nexport function normalize(out, v) {\n    var d = len(v);\n    if (d === 0) {\n        out[0] = 0;\n        out[1] = 0;\n    }\n    else {\n        out[0] = v[0] / d;\n        out[1] = v[1] / d;\n    }\n    return out;\n}\nexport function distance(v1, v2) {\n    return Math.sqrt((v1[0] - v2[0]) * (v1[0] - v2[0])\n        + (v1[1] - v2[1]) * (v1[1] - v2[1]));\n}\nexport var dist = distance;\nexport function distanceSquare(v1, v2) {\n    return (v1[0] - v2[0]) * (v1[0] - v2[0])\n        + (v1[1] - v2[1]) * (v1[1] - v2[1]);\n}\nexport var distSquare = distanceSquare;\nexport function negate(out, v) {\n    out[0] = -v[0];\n    out[1] = -v[1];\n    return out;\n}\nexport function lerp(out, v1, v2, t) {\n    out[0] = v1[0] + t * (v2[0] - v1[0]);\n    out[1] = v1[1] + t * (v2[1] - v1[1]);\n    return out;\n}\nexport function applyTransform(out, v, m) {\n    var x = v[0];\n    var y = v[1];\n    out[0] = m[0] * x + m[2] * y + m[4];\n    out[1] = m[1] * x + m[3] * y + m[5];\n    return out;\n}\nexport function min(out, v1, v2) {\n    out[0] = Math.min(v1[0], v2[0]);\n    out[1] = Math.min(v1[1], v2[1]);\n    return out;\n}\nexport function max(out, v1, v2) {\n    out[0] = Math.max(v1[0], v2[0]);\n    out[1] = Math.max(v1[1], v2[1]);\n    return out;\n}\n","var Param = (function () {\n    function Param(target, e) {\n        this.target = target;\n        this.topTarget = e && e.topTarget;\n    }\n    return Param;\n}());\nvar Draggable = (function () {\n    function Draggable(handler) {\n        this.handler = handler;\n        handler.on('mousedown', this._dragStart, this);\n        handler.on('mousemove', this._drag, this);\n        handler.on('mouseup', this._dragEnd, this);\n    }\n    Draggable.prototype._dragStart = function (e) {\n        var draggingTarget = e.target;\n        while (draggingTarget && !draggingTarget.draggable) {\n            draggingTarget = draggingTarget.parent || draggingTarget.__hostTarget;\n        }\n        if (draggingTarget) {\n            this._draggingTarget = draggingTarget;\n            draggingTarget.dragging = true;\n            this._x = e.offsetX;\n            this._y = e.offsetY;\n            this.handler.dispatchToElement(new Param(draggingTarget, e), 'dragstart', e.event);\n        }\n    };\n    Draggable.prototype._drag = function (e) {\n        var draggingTarget = this._draggingTarget;\n        if (draggingTarget) {\n            var x = e.offsetX;\n            var y = e.offsetY;\n            var dx = x - this._x;\n            var dy = y - this._y;\n            this._x = x;\n            this._y = y;\n            draggingTarget.drift(dx, dy, e);\n            this.handler.dispatchToElement(new Param(draggingTarget, e), 'drag', e.event);\n            var dropTarget = this.handler.findHover(x, y, draggingTarget).target;\n            var lastDropTarget = this._dropTarget;\n            this._dropTarget = dropTarget;\n            if (draggingTarget !== dropTarget) {\n                if (lastDropTarget && dropTarget !== lastDropTarget) {\n                    this.handler.dispatchToElement(new Param(lastDropTarget, e), 'dragleave', e.event);\n                }\n                if (dropTarget && dropTarget !== lastDropTarget) {\n                    this.handler.dispatchToElement(new Param(dropTarget, e), 'dragenter', e.event);\n                }\n            }\n        }\n    };\n    Draggable.prototype._dragEnd = function (e) {\n        var draggingTarget = this._draggingTarget;\n        if (draggingTarget) {\n            draggingTarget.dragging = false;\n        }\n        this.handler.dispatchToElement(new Param(draggingTarget, e), 'dragend', e.event);\n        if (this._dropTarget) {\n            this.handler.dispatchToElement(new Param(this._dropTarget, e), 'drop', e.event);\n        }\n        this._draggingTarget = null;\n        this._dropTarget = null;\n    };\n    return Draggable;\n}());\nexport default Draggable;\n","var Eventful = (function () {\n    function Eventful(eventProcessors) {\n        if (eventProcessors) {\n            this._$eventProcessor = eventProcessors;\n        }\n    }\n    Eventful.prototype.on = function (event, query, handler, context) {\n        if (!this._$handlers) {\n            this._$handlers = {};\n        }\n        var _h = this._$handlers;\n        if (typeof query === 'function') {\n            context = handler;\n            handler = query;\n            query = null;\n        }\n        if (!handler || !event) {\n            return this;\n        }\n        var eventProcessor = this._$eventProcessor;\n        if (query != null && eventProcessor && eventProcessor.normalizeQuery) {\n            query = eventProcessor.normalizeQuery(query);\n        }\n        if (!_h[event]) {\n            _h[event] = [];\n        }\n        for (var i = 0; i < _h[event].length; i++) {\n            if (_h[event][i].h === handler) {\n                return this;\n            }\n        }\n        var wrap = {\n            h: handler,\n            query: query,\n            ctx: (context || this),\n            callAtLast: handler.zrEventfulCallAtLast\n        };\n        var lastIndex = _h[event].length - 1;\n        var lastWrap = _h[event][lastIndex];\n        (lastWrap && lastWrap.callAtLast)\n            ? _h[event].splice(lastIndex, 0, wrap)\n            : _h[event].push(wrap);\n        return this;\n    };\n    Eventful.prototype.isSilent = function (eventName) {\n        var _h = this._$handlers;\n        return !_h || !_h[eventName] || !_h[eventName].length;\n    };\n    Eventful.prototype.off = function (eventType, handler) {\n        var _h = this._$handlers;\n        if (!_h) {\n            return this;\n        }\n        if (!eventType) {\n            this._$handlers = {};\n            return this;\n        }\n        if (handler) {\n            if (_h[eventType]) {\n                var newList = [];\n                for (var i = 0, l = _h[eventType].length; i < l; i++) {\n                    if (_h[eventType][i].h !== handler) {\n                        newList.push(_h[eventType][i]);\n                    }\n                }\n                _h[eventType] = newList;\n            }\n            if (_h[eventType] && _h[eventType].length === 0) {\n                delete _h[eventType];\n            }\n        }\n        else {\n            delete _h[eventType];\n        }\n        return this;\n    };\n    Eventful.prototype.trigger = function (eventType) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        if (!this._$handlers) {\n            return this;\n        }\n        var _h = this._$handlers[eventType];\n        var eventProcessor = this._$eventProcessor;\n        if (_h) {\n            var argLen = args.length;\n            var len = _h.length;\n            for (var i = 0; i < len; i++) {\n                var hItem = _h[i];\n                if (eventProcessor\n                    && eventProcessor.filter\n                    && hItem.query != null\n                    && !eventProcessor.filter(eventType, hItem.query)) {\n                    continue;\n                }\n                switch (argLen) {\n                    case 0:\n                        hItem.h.call(hItem.ctx);\n                        break;\n                    case 1:\n                        hItem.h.call(hItem.ctx, args[0]);\n                        break;\n                    case 2:\n                        hItem.h.call(hItem.ctx, args[0], args[1]);\n                        break;\n                    default:\n                        hItem.h.apply(hItem.ctx, args);\n                        break;\n                }\n            }\n        }\n        eventProcessor && eventProcessor.afterTrigger\n            && eventProcessor.afterTrigger(eventType);\n        return this;\n    };\n    Eventful.prototype.triggerWithContext = function (type) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        if (!this._$handlers) {\n            return this;\n        }\n        var _h = this._$handlers[type];\n        var eventProcessor = this._$eventProcessor;\n        if (_h) {\n            var argLen = args.length;\n            var ctx = args[argLen - 1];\n            var len = _h.length;\n            for (var i = 0; i < len; i++) {\n                var hItem = _h[i];\n                if (eventProcessor\n                    && eventProcessor.filter\n                    && hItem.query != null\n                    && !eventProcessor.filter(type, hItem.query)) {\n                    continue;\n                }\n                switch (argLen) {\n                    case 0:\n                        hItem.h.call(ctx);\n                        break;\n                    case 1:\n                        hItem.h.call(ctx, args[0]);\n                        break;\n                    case 2:\n                        hItem.h.call(ctx, args[0], args[1]);\n                        break;\n                    default:\n                        hItem.h.apply(ctx, args.slice(1, argLen - 1));\n                        break;\n                }\n            }\n        }\n        eventProcessor && eventProcessor.afterTrigger\n            && eventProcessor.afterTrigger(type);\n        return this;\n    };\n    return Eventful;\n}());\nexport default Eventful;\n","var LN2 = Math.log(2);\nfunction determinant(rows, rank, rowStart, rowMask, colMask, detCache) {\n    var cacheKey = rowMask + '-' + colMask;\n    var fullRank = rows.length;\n    if (detCache.hasOwnProperty(cacheKey)) {\n        return detCache[cacheKey];\n    }\n    if (rank === 1) {\n        var colStart = Math.round(Math.log(((1 << fullRank) - 1) & ~colMask) / LN2);\n        return rows[rowStart][colStart];\n    }\n    var subRowMask = rowMask | (1 << rowStart);\n    var subRowStart = rowStart + 1;\n    while (rowMask & (1 << subRowStart)) {\n        subRowStart++;\n    }\n    var sum = 0;\n    for (var j = 0, colLocalIdx = 0; j < fullRank; j++) {\n        var colTag = 1 << j;\n        if (!(colTag & colMask)) {\n            sum += (colLocalIdx % 2 ? -1 : 1) * rows[rowStart][j]\n                * determinant(rows, rank - 1, subRowStart, subRowMask, colMask | colTag, detCache);\n            colLocalIdx++;\n        }\n    }\n    detCache[cacheKey] = sum;\n    return sum;\n}\nexport function buildTransformer(src, dest) {\n    var mA = [\n        [src[0], src[1], 1, 0, 0, 0, -dest[0] * src[0], -dest[0] * src[1]],\n        [0, 0, 0, src[0], src[1], 1, -dest[1] * src[0], -dest[1] * src[1]],\n        [src[2], src[3], 1, 0, 0, 0, -dest[2] * src[2], -dest[2] * src[3]],\n        [0, 0, 0, src[2], src[3], 1, -dest[3] * src[2], -dest[3] * src[3]],\n        [src[4], src[5], 1, 0, 0, 0, -dest[4] * src[4], -dest[4] * src[5]],\n        [0, 0, 0, src[4], src[5], 1, -dest[5] * src[4], -dest[5] * src[5]],\n        [src[6], src[7], 1, 0, 0, 0, -dest[6] * src[6], -dest[6] * src[7]],\n        [0, 0, 0, src[6], src[7], 1, -dest[7] * src[6], -dest[7] * src[7]]\n    ];\n    var detCache = {};\n    var det = determinant(mA, 8, 0, 0, 0, detCache);\n    if (det === 0) {\n        return;\n    }\n    var vh = [];\n    for (var i = 0; i < 8; i++) {\n        for (var j = 0; j < 8; j++) {\n            vh[j] == null && (vh[j] = 0);\n            vh[j] += ((i + j) % 2 ? -1 : 1)\n                * determinant(mA, 7, i === 0 ? 1 : 0, 1 << i, 1 << j, detCache)\n                / det * dest[i];\n        }\n    }\n    return function (out, srcPointX, srcPointY) {\n        var pk = srcPointX * vh[6] + srcPointY * vh[7] + 1;\n        out[0] = (srcPointX * vh[0] + srcPointY * vh[1] + vh[2]) / pk;\n        out[1] = (srcPointX * vh[3] + srcPointY * vh[4] + vh[5]) / pk;\n    };\n}\n","import env from './env.js';\nimport { buildTransformer } from './fourPointsTransform.js';\nvar EVENT_SAVED_PROP = '___zrEVENTSAVED';\nvar _calcOut = [];\nexport function transformLocalCoord(out, elFrom, elTarget, inX, inY) {\n    return transformCoordWithViewport(_calcOut, elFrom, inX, inY, true)\n        && transformCoordWithViewport(out, elTarget, _calcOut[0], _calcOut[1]);\n}\nexport function transformCoordWithViewport(out, el, inX, inY, inverse) {\n    if (el.getBoundingClientRect && env.domSupported && !isCanvasEl(el)) {\n        var saved = el[EVENT_SAVED_PROP] || (el[EVENT_SAVED_PROP] = {});\n        var markers = prepareCoordMarkers(el, saved);\n        var transformer = preparePointerTransformer(markers, saved, inverse);\n        if (transformer) {\n            transformer(out, inX, inY);\n            return true;\n        }\n    }\n    return false;\n}\nfunction prepareCoordMarkers(el, saved) {\n    var markers = saved.markers;\n    if (markers) {\n        return markers;\n    }\n    markers = saved.markers = [];\n    var propLR = ['left', 'right'];\n    var propTB = ['top', 'bottom'];\n    for (var i = 0; i < 4; i++) {\n        var marker = document.createElement('div');\n        var stl = marker.style;\n        var idxLR = i % 2;\n        var idxTB = (i >> 1) % 2;\n        stl.cssText = [\n            'position: absolute',\n            'visibility: hidden',\n            'padding: 0',\n            'margin: 0',\n            'border-width: 0',\n            'user-select: none',\n            'width:0',\n            'height:0',\n            propLR[idxLR] + ':0',\n            propTB[idxTB] + ':0',\n            propLR[1 - idxLR] + ':auto',\n            propTB[1 - idxTB] + ':auto',\n            ''\n        ].join('!important;');\n        el.appendChild(marker);\n        markers.push(marker);\n    }\n    return markers;\n}\nfunction preparePointerTransformer(markers, saved, inverse) {\n    var transformerName = inverse ? 'invTrans' : 'trans';\n    var transformer = saved[transformerName];\n    var oldSrcCoords = saved.srcCoords;\n    var srcCoords = [];\n    var destCoords = [];\n    var oldCoordTheSame = true;\n    for (var i = 0; i < 4; i++) {\n        var rect = markers[i].getBoundingClientRect();\n        var ii = 2 * i;\n        var x = rect.left;\n        var y = rect.top;\n        srcCoords.push(x, y);\n        oldCoordTheSame = oldCoordTheSame && oldSrcCoords && x === oldSrcCoords[ii] && y === oldSrcCoords[ii + 1];\n        destCoords.push(markers[i].offsetLeft, markers[i].offsetTop);\n    }\n    return (oldCoordTheSame && transformer)\n        ? transformer\n        : (saved.srcCoords = srcCoords,\n            saved[transformerName] = inverse\n                ? buildTransformer(destCoords, srcCoords)\n                : buildTransformer(srcCoords, destCoords));\n}\nexport function isCanvasEl(el) {\n    return el.nodeName.toUpperCase() === 'CANVAS';\n}\nvar replaceReg = /([&<>\"'])/g;\nvar replaceMap = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    '\\'': '&#39;'\n};\nexport function encodeHTML(source) {\n    return source == null\n        ? ''\n        : (source + '').replace(replaceReg, function (str, c) {\n            return replaceMap[c];\n        });\n}\n","import Eventful from './Eventful.js';\nimport env from './env.js';\nimport { isCanvasEl, transformCoordWithViewport } from './dom.js';\nvar MOUSE_EVENT_REG = /^(?:mouse|pointer|contextmenu|drag|drop)|click/;\nvar _calcOut = [];\nvar firefoxNotSupportOffsetXY = env.browser.firefox\n    && +env.browser.version.split('.')[0] < 39;\nexport function clientToLocal(el, e, out, calculate) {\n    out = out || {};\n    if (calculate) {\n        calculateZrXY(el, e, out);\n    }\n    else if (firefoxNotSupportOffsetXY\n        && e.layerX != null\n        && e.layerX !== e.offsetX) {\n        out.zrX = e.layerX;\n        out.zrY = e.layerY;\n    }\n    else if (e.offsetX != null) {\n        out.zrX = e.offsetX;\n        out.zrY = e.offsetY;\n    }\n    else {\n        calculateZrXY(el, e, out);\n    }\n    return out;\n}\nfunction calculateZrXY(el, e, out) {\n    if (env.domSupported && el.getBoundingClientRect) {\n        var ex = e.clientX;\n        var ey = e.clientY;\n        if (isCanvasEl(el)) {\n            var box = el.getBoundingClientRect();\n            out.zrX = ex - box.left;\n            out.zrY = ey - box.top;\n            return;\n        }\n        else {\n            if (transformCoordWithViewport(_calcOut, el, ex, ey)) {\n                out.zrX = _calcOut[0];\n                out.zrY = _calcOut[1];\n                return;\n            }\n        }\n    }\n    out.zrX = out.zrY = 0;\n}\nexport function getNativeEvent(e) {\n    return e\n        || window.event;\n}\nexport function normalizeEvent(el, e, calculate) {\n    e = getNativeEvent(e);\n    if (e.zrX != null) {\n        return e;\n    }\n    var eventType = e.type;\n    var isTouch = eventType && eventType.indexOf('touch') >= 0;\n    if (!isTouch) {\n        clientToLocal(el, e, e, calculate);\n        var wheelDelta = getWheelDeltaMayPolyfill(e);\n        e.zrDelta = wheelDelta ? wheelDelta / 120 : -(e.detail || 0) / 3;\n    }\n    else {\n        var touch = eventType !== 'touchend'\n            ? e.targetTouches[0]\n            : e.changedTouches[0];\n        touch && clientToLocal(el, touch, e, calculate);\n    }\n    var button = e.button;\n    if (e.which == null && button !== undefined && MOUSE_EVENT_REG.test(e.type)) {\n        e.which = (button & 1 ? 1 : (button & 2 ? 3 : (button & 4 ? 2 : 0)));\n    }\n    return e;\n}\nfunction getWheelDeltaMayPolyfill(e) {\n    var rawWheelDelta = e.wheelDelta;\n    if (rawWheelDelta) {\n        return rawWheelDelta;\n    }\n    var deltaX = e.deltaX;\n    var deltaY = e.deltaY;\n    if (deltaX == null || deltaY == null) {\n        return rawWheelDelta;\n    }\n    var delta = deltaY !== 0 ? Math.abs(deltaY) : Math.abs(deltaX);\n    var sign = deltaY > 0 ? -1\n        : deltaY < 0 ? 1\n            : deltaX > 0 ? -1\n                : 1;\n    return 3 * delta * sign;\n}\nexport function addEventListener(el, name, handler, opt) {\n    el.addEventListener(name, handler, opt);\n}\nexport function removeEventListener(el, name, handler, opt) {\n    el.removeEventListener(name, handler, opt);\n}\nexport var stop = function (e) {\n    e.preventDefault();\n    e.stopPropagation();\n    e.cancelBubble = true;\n};\nexport function isMiddleOrRightButtonOnMouseUpDown(e) {\n    return e.which === 2 || e.which === 3;\n}\nexport { Eventful as Dispatcher };\n","import * as eventUtil from './event.js';\nvar GestureMgr = (function () {\n    function GestureMgr() {\n        this._track = [];\n    }\n    GestureMgr.prototype.recognize = function (event, target, root) {\n        this._doTrack(event, target, root);\n        return this._recognize(event);\n    };\n    GestureMgr.prototype.clear = function () {\n        this._track.length = 0;\n        return this;\n    };\n    GestureMgr.prototype._doTrack = function (event, target, root) {\n        var touches = event.touches;\n        if (!touches) {\n            return;\n        }\n        var trackItem = {\n            points: [],\n            touches: [],\n            target: target,\n            event: event\n        };\n        for (var i = 0, len = touches.length; i < len; i++) {\n            var touch = touches[i];\n            var pos = eventUtil.clientToLocal(root, touch, {});\n            trackItem.points.push([pos.zrX, pos.zrY]);\n            trackItem.touches.push(touch);\n        }\n        this._track.push(trackItem);\n    };\n    GestureMgr.prototype._recognize = function (event) {\n        for (var eventName in recognizers) {\n            if (recognizers.hasOwnProperty(eventName)) {\n                var gestureInfo = recognizers[eventName](this._track, event);\n                if (gestureInfo) {\n                    return gestureInfo;\n                }\n            }\n        }\n    };\n    return GestureMgr;\n}());\nexport { GestureMgr };\nfunction dist(pointPair) {\n    var dx = pointPair[1][0] - pointPair[0][0];\n    var dy = pointPair[1][1] - pointPair[0][1];\n    return Math.sqrt(dx * dx + dy * dy);\n}\nfunction center(pointPair) {\n    return [\n        (pointPair[0][0] + pointPair[1][0]) / 2,\n        (pointPair[0][1] + pointPair[1][1]) / 2\n    ];\n}\nvar recognizers = {\n    pinch: function (tracks, event) {\n        var trackLen = tracks.length;\n        if (!trackLen) {\n            return;\n        }\n        var pinchEnd = (tracks[trackLen - 1] || {}).points;\n        var pinchPre = (tracks[trackLen - 2] || {}).points || pinchEnd;\n        if (pinchPre\n            && pinchPre.length > 1\n            && pinchEnd\n            && pinchEnd.length > 1) {\n            var pinchScale = dist(pinchEnd) / dist(pinchPre);\n            !isFinite(pinchScale) && (pinchScale = 1);\n            event.pinchScale = pinchScale;\n            var pinchCenter = center(pinchEnd);\n            event.pinchX = pinchCenter[0];\n            event.pinchY = pinchCenter[1];\n            return {\n                type: 'pinch',\n                target: tracks[0].target,\n                event: event\n            };\n        }\n    }\n};\n","export function create() {\n    return [1, 0, 0, 1, 0, 0];\n}\nexport function identity(out) {\n    out[0] = 1;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 1;\n    out[4] = 0;\n    out[5] = 0;\n    return out;\n}\nexport function copy(out, m) {\n    out[0] = m[0];\n    out[1] = m[1];\n    out[2] = m[2];\n    out[3] = m[3];\n    out[4] = m[4];\n    out[5] = m[5];\n    return out;\n}\nexport function mul(out, m1, m2) {\n    var out0 = m1[0] * m2[0] + m1[2] * m2[1];\n    var out1 = m1[1] * m2[0] + m1[3] * m2[1];\n    var out2 = m1[0] * m2[2] + m1[2] * m2[3];\n    var out3 = m1[1] * m2[2] + m1[3] * m2[3];\n    var out4 = m1[0] * m2[4] + m1[2] * m2[5] + m1[4];\n    var out5 = m1[1] * m2[4] + m1[3] * m2[5] + m1[5];\n    out[0] = out0;\n    out[1] = out1;\n    out[2] = out2;\n    out[3] = out3;\n    out[4] = out4;\n    out[5] = out5;\n    return out;\n}\nexport function translate(out, a, v) {\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    out[4] = a[4] + v[0];\n    out[5] = a[5] + v[1];\n    return out;\n}\nexport function rotate(out, a, rad, pivot) {\n    if (pivot === void 0) { pivot = [0, 0]; }\n    var aa = a[0];\n    var ac = a[2];\n    var atx = a[4];\n    var ab = a[1];\n    var ad = a[3];\n    var aty = a[5];\n    var st = Math.sin(rad);\n    var ct = Math.cos(rad);\n    out[0] = aa * ct + ab * st;\n    out[1] = -aa * st + ab * ct;\n    out[2] = ac * ct + ad * st;\n    out[3] = -ac * st + ct * ad;\n    out[4] = ct * (atx - pivot[0]) + st * (aty - pivot[1]) + pivot[0];\n    out[5] = ct * (aty - pivot[1]) - st * (atx - pivot[0]) + pivot[1];\n    return out;\n}\nexport function scale(out, a, v) {\n    var vx = v[0];\n    var vy = v[1];\n    out[0] = a[0] * vx;\n    out[1] = a[1] * vy;\n    out[2] = a[2] * vx;\n    out[3] = a[3] * vy;\n    out[4] = a[4] * vx;\n    out[5] = a[5] * vy;\n    return out;\n}\nexport function invert(out, a) {\n    var aa = a[0];\n    var ac = a[2];\n    var atx = a[4];\n    var ab = a[1];\n    var ad = a[3];\n    var aty = a[5];\n    var det = aa * ad - ab * ac;\n    if (!det) {\n        return null;\n    }\n    det = 1.0 / det;\n    out[0] = ad * det;\n    out[1] = -ab * det;\n    out[2] = -ac * det;\n    out[3] = aa * det;\n    out[4] = (ac * aty - ad * atx) * det;\n    out[5] = (ab * atx - aa * aty) * det;\n    return out;\n}\nexport function clone(a) {\n    var b = create();\n    copy(b, a);\n    return b;\n}\n","var Point = (function () {\n    function Point(x, y) {\n        this.x = x || 0;\n        this.y = y || 0;\n    }\n    Point.prototype.copy = function (other) {\n        this.x = other.x;\n        this.y = other.y;\n        return this;\n    };\n    Point.prototype.clone = function () {\n        return new Point(this.x, this.y);\n    };\n    Point.prototype.set = function (x, y) {\n        this.x = x;\n        this.y = y;\n        return this;\n    };\n    Point.prototype.equal = function (other) {\n        return other.x === this.x && other.y === this.y;\n    };\n    Point.prototype.add = function (other) {\n        this.x += other.x;\n        this.y += other.y;\n        return this;\n    };\n    Point.prototype.scale = function (scalar) {\n        this.x *= scalar;\n        this.y *= scalar;\n    };\n    Point.prototype.scaleAndAdd = function (other, scalar) {\n        this.x += other.x * scalar;\n        this.y += other.y * scalar;\n    };\n    Point.prototype.sub = function (other) {\n        this.x -= other.x;\n        this.y -= other.y;\n        return this;\n    };\n    Point.prototype.dot = function (other) {\n        return this.x * other.x + this.y * other.y;\n    };\n    Point.prototype.len = function () {\n        return Math.sqrt(this.x * this.x + this.y * this.y);\n    };\n    Point.prototype.lenSquare = function () {\n        return this.x * this.x + this.y * this.y;\n    };\n    Point.prototype.normalize = function () {\n        var len = this.len();\n        this.x /= len;\n        this.y /= len;\n        return this;\n    };\n    Point.prototype.distance = function (other) {\n        var dx = this.x - other.x;\n        var dy = this.y - other.y;\n        return Math.sqrt(dx * dx + dy * dy);\n    };\n    Point.prototype.distanceSquare = function (other) {\n        var dx = this.x - other.x;\n        var dy = this.y - other.y;\n        return dx * dx + dy * dy;\n    };\n    Point.prototype.negate = function () {\n        this.x = -this.x;\n        this.y = -this.y;\n        return this;\n    };\n    Point.prototype.transform = function (m) {\n        if (!m) {\n            return;\n        }\n        var x = this.x;\n        var y = this.y;\n        this.x = m[0] * x + m[2] * y + m[4];\n        this.y = m[1] * x + m[3] * y + m[5];\n        return this;\n    };\n    Point.prototype.toArray = function (out) {\n        out[0] = this.x;\n        out[1] = this.y;\n        return out;\n    };\n    Point.prototype.fromArray = function (input) {\n        this.x = input[0];\n        this.y = input[1];\n    };\n    Point.set = function (p, x, y) {\n        p.x = x;\n        p.y = y;\n    };\n    Point.copy = function (p, p2) {\n        p.x = p2.x;\n        p.y = p2.y;\n    };\n    Point.len = function (p) {\n        return Math.sqrt(p.x * p.x + p.y * p.y);\n    };\n    Point.lenSquare = function (p) {\n        return p.x * p.x + p.y * p.y;\n    };\n    Point.dot = function (p0, p1) {\n        return p0.x * p1.x + p0.y * p1.y;\n    };\n    Point.add = function (out, p0, p1) {\n        out.x = p0.x + p1.x;\n        out.y = p0.y + p1.y;\n    };\n    Point.sub = function (out, p0, p1) {\n        out.x = p0.x - p1.x;\n        out.y = p0.y - p1.y;\n    };\n    Point.scale = function (out, p0, scalar) {\n        out.x = p0.x * scalar;\n        out.y = p0.y * scalar;\n    };\n    Point.scaleAndAdd = function (out, p0, p1, scalar) {\n        out.x = p0.x + p1.x * scalar;\n        out.y = p0.y + p1.y * scalar;\n    };\n    Point.lerp = function (out, p0, p1, t) {\n        var onet = 1 - t;\n        out.x = onet * p0.x + t * p1.x;\n        out.y = onet * p0.y + t * p1.y;\n    };\n    return Point;\n}());\nexport default Point;\n","import * as matrix from './matrix.js';\nimport Point from './Point.js';\nvar mathMin = Math.min;\nvar mathMax = Math.max;\nvar lt = new Point();\nvar rb = new Point();\nvar lb = new Point();\nvar rt = new Point();\nvar minTv = new Point();\nvar maxTv = new Point();\nvar BoundingRect = (function () {\n    function BoundingRect(x, y, width, height) {\n        if (width < 0) {\n            x = x + width;\n            width = -width;\n        }\n        if (height < 0) {\n            y = y + height;\n            height = -height;\n        }\n        this.x = x;\n        this.y = y;\n        this.width = width;\n        this.height = height;\n    }\n    BoundingRect.prototype.union = function (other) {\n        var x = mathMin(other.x, this.x);\n        var y = mathMin(other.y, this.y);\n        if (isFinite(this.x) && isFinite(this.width)) {\n            this.width = mathMax(other.x + other.width, this.x + this.width) - x;\n        }\n        else {\n            this.width = other.width;\n        }\n        if (isFinite(this.y) && isFinite(this.height)) {\n            this.height = mathMax(other.y + other.height, this.y + this.height) - y;\n        }\n        else {\n            this.height = other.height;\n        }\n        this.x = x;\n        this.y = y;\n    };\n    BoundingRect.prototype.applyTransform = function (m) {\n        BoundingRect.applyTransform(this, this, m);\n    };\n    BoundingRect.prototype.calculateTransform = function (b) {\n        var a = this;\n        var sx = b.width / a.width;\n        var sy = b.height / a.height;\n        var m = matrix.create();\n        matrix.translate(m, m, [-a.x, -a.y]);\n        matrix.scale(m, m, [sx, sy]);\n        matrix.translate(m, m, [b.x, b.y]);\n        return m;\n    };\n    BoundingRect.prototype.intersect = function (b, mtv) {\n        if (!b) {\n            return false;\n        }\n        if (!(b instanceof BoundingRect)) {\n            b = BoundingRect.create(b);\n        }\n        var a = this;\n        var ax0 = a.x;\n        var ax1 = a.x + a.width;\n        var ay0 = a.y;\n        var ay1 = a.y + a.height;\n        var bx0 = b.x;\n        var bx1 = b.x + b.width;\n        var by0 = b.y;\n        var by1 = b.y + b.height;\n        var overlap = !(ax1 < bx0 || bx1 < ax0 || ay1 < by0 || by1 < ay0);\n        if (mtv) {\n            var dMin = Infinity;\n            var dMax = 0;\n            var d0 = Math.abs(ax1 - bx0);\n            var d1 = Math.abs(bx1 - ax0);\n            var d2 = Math.abs(ay1 - by0);\n            var d3 = Math.abs(by1 - ay0);\n            var dx = Math.min(d0, d1);\n            var dy = Math.min(d2, d3);\n            if (ax1 < bx0 || bx1 < ax0) {\n                if (dx > dMax) {\n                    dMax = dx;\n                    if (d0 < d1) {\n                        Point.set(maxTv, -d0, 0);\n                    }\n                    else {\n                        Point.set(maxTv, d1, 0);\n                    }\n                }\n            }\n            else {\n                if (dx < dMin) {\n                    dMin = dx;\n                    if (d0 < d1) {\n                        Point.set(minTv, d0, 0);\n                    }\n                    else {\n                        Point.set(minTv, -d1, 0);\n                    }\n                }\n            }\n            if (ay1 < by0 || by1 < ay0) {\n                if (dy > dMax) {\n                    dMax = dy;\n                    if (d2 < d3) {\n                        Point.set(maxTv, 0, -d2);\n                    }\n                    else {\n                        Point.set(maxTv, 0, d3);\n                    }\n                }\n            }\n            else {\n                if (dx < dMin) {\n                    dMin = dx;\n                    if (d2 < d3) {\n                        Point.set(minTv, 0, d2);\n                    }\n                    else {\n                        Point.set(minTv, 0, -d3);\n                    }\n                }\n            }\n        }\n        if (mtv) {\n            Point.copy(mtv, overlap ? minTv : maxTv);\n        }\n        return overlap;\n    };\n    BoundingRect.prototype.contain = function (x, y) {\n        var rect = this;\n        return x >= rect.x\n            && x <= (rect.x + rect.width)\n            && y >= rect.y\n            && y <= (rect.y + rect.height);\n    };\n    BoundingRect.prototype.clone = function () {\n        return new BoundingRect(this.x, this.y, this.width, this.height);\n    };\n    BoundingRect.prototype.copy = function (other) {\n        BoundingRect.copy(this, other);\n    };\n    BoundingRect.prototype.plain = function () {\n        return {\n            x: this.x,\n            y: this.y,\n            width: this.width,\n            height: this.height\n        };\n    };\n    BoundingRect.prototype.isFinite = function () {\n        return isFinite(this.x)\n            && isFinite(this.y)\n            && isFinite(this.width)\n            && isFinite(this.height);\n    };\n    BoundingRect.prototype.isZero = function () {\n        return this.width === 0 || this.height === 0;\n    };\n    BoundingRect.create = function (rect) {\n        return new BoundingRect(rect.x, rect.y, rect.width, rect.height);\n    };\n    BoundingRect.copy = function (target, source) {\n        target.x = source.x;\n        target.y = source.y;\n        target.width = source.width;\n        target.height = source.height;\n    };\n    BoundingRect.applyTransform = function (target, source, m) {\n        if (!m) {\n            if (target !== source) {\n                BoundingRect.copy(target, source);\n            }\n            return;\n        }\n        if (m[1] < 1e-5 && m[1] > -1e-5 && m[2] < 1e-5 && m[2] > -1e-5) {\n            var sx = m[0];\n            var sy = m[3];\n            var tx = m[4];\n            var ty = m[5];\n            target.x = source.x * sx + tx;\n            target.y = source.y * sy + ty;\n            target.width = source.width * sx;\n            target.height = source.height * sy;\n            if (target.width < 0) {\n                target.x += target.width;\n                target.width = -target.width;\n            }\n            if (target.height < 0) {\n                target.y += target.height;\n                target.height = -target.height;\n            }\n            return;\n        }\n        lt.x = lb.x = source.x;\n        lt.y = rt.y = source.y;\n        rb.x = rt.x = source.x + source.width;\n        rb.y = lb.y = source.y + source.height;\n        lt.transform(m);\n        rt.transform(m);\n        rb.transform(m);\n        lb.transform(m);\n        target.x = mathMin(lt.x, rb.x, lb.x, rt.x);\n        target.y = mathMin(lt.y, rb.y, lb.y, rt.y);\n        var maxX = mathMax(lt.x, rb.x, lb.x, rt.x);\n        var maxY = mathMax(lt.y, rb.y, lb.y, rt.y);\n        target.width = maxX - target.x;\n        target.height = maxY - target.y;\n    };\n    return BoundingRect;\n}());\nexport default BoundingRect;\n","import { __extends } from \"tslib\";\nimport * as util from './core/util.js';\nimport * as vec2 from './core/vector.js';\nimport Draggable from './mixin/Draggable.js';\nimport Eventful from './core/Eventful.js';\nimport * as eventTool from './core/event.js';\nimport { GestureMgr } from './core/GestureMgr.js';\nimport BoundingRect from './core/BoundingRect.js';\nvar SILENT = 'silent';\nfunction makeEventPacket(eveType, targetInfo, event) {\n    return {\n        type: eveType,\n        event: event,\n        target: targetInfo.target,\n        topTarget: targetInfo.topTarget,\n        cancelBubble: false,\n        offsetX: event.zrX,\n        offsetY: event.zrY,\n        gestureEvent: event.gestureEvent,\n        pinchX: event.pinchX,\n        pinchY: event.pinchY,\n        pinchScale: event.pinchScale,\n        wheelDelta: event.zrDelta,\n        zrByTouch: event.zrByTouch,\n        which: event.which,\n        stop: stopEvent\n    };\n}\nfunction stopEvent() {\n    eventTool.stop(this.event);\n}\nvar EmptyProxy = (function (_super) {\n    __extends(EmptyProxy, _super);\n    function EmptyProxy() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handler = null;\n        return _this;\n    }\n    EmptyProxy.prototype.dispose = function () { };\n    EmptyProxy.prototype.setCursor = function () { };\n    return EmptyProxy;\n}(Eventful));\nvar HoveredResult = (function () {\n    function HoveredResult(x, y) {\n        this.x = x;\n        this.y = y;\n    }\n    return HoveredResult;\n}());\nvar handlerNames = [\n    'click', 'dblclick', 'mousewheel', 'mouseout',\n    'mouseup', 'mousedown', 'mousemove', 'contextmenu'\n];\nvar tmpRect = new BoundingRect(0, 0, 0, 0);\nvar Handler = (function (_super) {\n    __extends(Handler, _super);\n    function Handler(storage, painter, proxy, painterRoot, pointerSize) {\n        var _this = _super.call(this) || this;\n        _this._hovered = new HoveredResult(0, 0);\n        _this.storage = storage;\n        _this.painter = painter;\n        _this.painterRoot = painterRoot;\n        _this._pointerSize = pointerSize;\n        proxy = proxy || new EmptyProxy();\n        _this.proxy = null;\n        _this.setHandlerProxy(proxy);\n        _this._draggingMgr = new Draggable(_this);\n        return _this;\n    }\n    Handler.prototype.setHandlerProxy = function (proxy) {\n        if (this.proxy) {\n            this.proxy.dispose();\n        }\n        if (proxy) {\n            util.each(handlerNames, function (name) {\n                proxy.on && proxy.on(name, this[name], this);\n            }, this);\n            proxy.handler = this;\n        }\n        this.proxy = proxy;\n    };\n    Handler.prototype.mousemove = function (event) {\n        var x = event.zrX;\n        var y = event.zrY;\n        var isOutside = isOutsideBoundary(this, x, y);\n        var lastHovered = this._hovered;\n        var lastHoveredTarget = lastHovered.target;\n        if (lastHoveredTarget && !lastHoveredTarget.__zr) {\n            lastHovered = this.findHover(lastHovered.x, lastHovered.y);\n            lastHoveredTarget = lastHovered.target;\n        }\n        var hovered = this._hovered = isOutside ? new HoveredResult(x, y) : this.findHover(x, y);\n        var hoveredTarget = hovered.target;\n        var proxy = this.proxy;\n        proxy.setCursor && proxy.setCursor(hoveredTarget ? hoveredTarget.cursor : 'default');\n        if (lastHoveredTarget && hoveredTarget !== lastHoveredTarget) {\n            this.dispatchToElement(lastHovered, 'mouseout', event);\n        }\n        this.dispatchToElement(hovered, 'mousemove', event);\n        if (hoveredTarget && hoveredTarget !== lastHoveredTarget) {\n            this.dispatchToElement(hovered, 'mouseover', event);\n        }\n    };\n    Handler.prototype.mouseout = function (event) {\n        var eventControl = event.zrEventControl;\n        if (eventControl !== 'only_globalout') {\n            this.dispatchToElement(this._hovered, 'mouseout', event);\n        }\n        if (eventControl !== 'no_globalout') {\n            this.trigger('globalout', { type: 'globalout', event: event });\n        }\n    };\n    Handler.prototype.resize = function () {\n        this._hovered = new HoveredResult(0, 0);\n    };\n    Handler.prototype.dispatch = function (eventName, eventArgs) {\n        var handler = this[eventName];\n        handler && handler.call(this, eventArgs);\n    };\n    Handler.prototype.dispose = function () {\n        this.proxy.dispose();\n        this.storage = null;\n        this.proxy = null;\n        this.painter = null;\n    };\n    Handler.prototype.setCursorStyle = function (cursorStyle) {\n        var proxy = this.proxy;\n        proxy.setCursor && proxy.setCursor(cursorStyle);\n    };\n    Handler.prototype.dispatchToElement = function (targetInfo, eventName, event) {\n        targetInfo = targetInfo || {};\n        var el = targetInfo.target;\n        if (el && el.silent) {\n            return;\n        }\n        var eventKey = ('on' + eventName);\n        var eventPacket = makeEventPacket(eventName, targetInfo, event);\n        while (el) {\n            el[eventKey]\n                && (eventPacket.cancelBubble = !!el[eventKey].call(el, eventPacket));\n            el.trigger(eventName, eventPacket);\n            el = el.__hostTarget ? el.__hostTarget : el.parent;\n            if (eventPacket.cancelBubble) {\n                break;\n            }\n        }\n        if (!eventPacket.cancelBubble) {\n            this.trigger(eventName, eventPacket);\n            if (this.painter && this.painter.eachOtherLayer) {\n                this.painter.eachOtherLayer(function (layer) {\n                    if (typeof (layer[eventKey]) === 'function') {\n                        layer[eventKey].call(layer, eventPacket);\n                    }\n                    if (layer.trigger) {\n                        layer.trigger(eventName, eventPacket);\n                    }\n                });\n            }\n        }\n    };\n    Handler.prototype.findHover = function (x, y, exclude) {\n        var list = this.storage.getDisplayList();\n        var out = new HoveredResult(x, y);\n        setHoverTarget(list, out, x, y, exclude);\n        if (this._pointerSize && !out.target) {\n            var candidates = [];\n            var pointerSize = this._pointerSize;\n            var targetSizeHalf = pointerSize / 2;\n            var pointerRect = new BoundingRect(x - targetSizeHalf, y - targetSizeHalf, pointerSize, pointerSize);\n            for (var i = list.length - 1; i >= 0; i--) {\n                var el = list[i];\n                if (el !== exclude\n                    && !el.ignore\n                    && !el.ignoreCoarsePointer\n                    && (!el.parent || !el.parent.ignoreCoarsePointer)) {\n                    tmpRect.copy(el.getBoundingRect());\n                    if (el.transform) {\n                        tmpRect.applyTransform(el.transform);\n                    }\n                    if (tmpRect.intersect(pointerRect)) {\n                        candidates.push(el);\n                    }\n                }\n            }\n            if (candidates.length) {\n                var rStep = 4;\n                var thetaStep = Math.PI / 12;\n                var PI2 = Math.PI * 2;\n                for (var r = 0; r < targetSizeHalf; r += rStep) {\n                    for (var theta = 0; theta < PI2; theta += thetaStep) {\n                        var x1 = x + r * Math.cos(theta);\n                        var y1 = y + r * Math.sin(theta);\n                        setHoverTarget(candidates, out, x1, y1, exclude);\n                        if (out.target) {\n                            return out;\n                        }\n                    }\n                }\n            }\n        }\n        return out;\n    };\n    Handler.prototype.processGesture = function (event, stage) {\n        if (!this._gestureMgr) {\n            this._gestureMgr = new GestureMgr();\n        }\n        var gestureMgr = this._gestureMgr;\n        stage === 'start' && gestureMgr.clear();\n        var gestureInfo = gestureMgr.recognize(event, this.findHover(event.zrX, event.zrY, null).target, this.proxy.dom);\n        stage === 'end' && gestureMgr.clear();\n        if (gestureInfo) {\n            var type = gestureInfo.type;\n            event.gestureEvent = type;\n            var res = new HoveredResult();\n            res.target = gestureInfo.target;\n            this.dispatchToElement(res, type, gestureInfo.event);\n        }\n    };\n    return Handler;\n}(Eventful));\nutil.each(['click', 'mousedown', 'mouseup', 'mousewheel', 'dblclick', 'contextmenu'], function (name) {\n    Handler.prototype[name] = function (event) {\n        var x = event.zrX;\n        var y = event.zrY;\n        var isOutside = isOutsideBoundary(this, x, y);\n        var hovered;\n        var hoveredTarget;\n        if (name !== 'mouseup' || !isOutside) {\n            hovered = this.findHover(x, y);\n            hoveredTarget = hovered.target;\n        }\n        if (name === 'mousedown') {\n            this._downEl = hoveredTarget;\n            this._downPoint = [event.zrX, event.zrY];\n            this._upEl = hoveredTarget;\n        }\n        else if (name === 'mouseup') {\n            this._upEl = hoveredTarget;\n        }\n        else if (name === 'click') {\n            if (this._downEl !== this._upEl\n                || !this._downPoint\n                || vec2.dist(this._downPoint, [event.zrX, event.zrY]) > 4) {\n                return;\n            }\n            this._downPoint = null;\n        }\n        this.dispatchToElement(hovered, name, event);\n    };\n});\nfunction isHover(displayable, x, y) {\n    if (displayable[displayable.rectHover ? 'rectContain' : 'contain'](x, y)) {\n        var el = displayable;\n        var isSilent = void 0;\n        var ignoreClip = false;\n        while (el) {\n            if (el.ignoreClip) {\n                ignoreClip = true;\n            }\n            if (!ignoreClip) {\n                var clipPath = el.getClipPath();\n                if (clipPath && !clipPath.contain(x, y)) {\n                    return false;\n                }\n            }\n            if (el.silent) {\n                isSilent = true;\n            }\n            var hostEl = el.__hostTarget;\n            el = hostEl ? hostEl : el.parent;\n        }\n        return isSilent ? SILENT : true;\n    }\n    return false;\n}\nfunction setHoverTarget(list, out, x, y, exclude) {\n    for (var i = list.length - 1; i >= 0; i--) {\n        var el = list[i];\n        var hoverCheckResult = void 0;\n        if (el !== exclude\n            && !el.ignore\n            && (hoverCheckResult = isHover(el, x, y))) {\n            !out.topTarget && (out.topTarget = el);\n            if (hoverCheckResult !== SILENT) {\n                out.target = el;\n                break;\n            }\n        }\n    }\n}\nfunction isOutsideBoundary(handlerInstance, x, y) {\n    var painter = handlerInstance.painter;\n    return x < 0 || x > painter.getWidth() || y < 0 || y > painter.getHeight();\n}\nexport default Handler;\n","var DEFAULT_MIN_MERGE = 32;\nvar DEFAULT_MIN_GALLOPING = 7;\nfunction minRunLength(n) {\n    var r = 0;\n    while (n >= DEFAULT_MIN_MERGE) {\n        r |= n & 1;\n        n >>= 1;\n    }\n    return n + r;\n}\nfunction makeAscendingRun(array, lo, hi, compare) {\n    var runHi = lo + 1;\n    if (runHi === hi) {\n        return 1;\n    }\n    if (compare(array[runHi++], array[lo]) < 0) {\n        while (runHi < hi && compare(array[runHi], array[runHi - 1]) < 0) {\n            runHi++;\n        }\n        reverseRun(array, lo, runHi);\n    }\n    else {\n        while (runHi < hi && compare(array[runHi], array[runHi - 1]) >= 0) {\n            runHi++;\n        }\n    }\n    return runHi - lo;\n}\nfunction reverseRun(array, lo, hi) {\n    hi--;\n    while (lo < hi) {\n        var t = array[lo];\n        array[lo++] = array[hi];\n        array[hi--] = t;\n    }\n}\nfunction binaryInsertionSort(array, lo, hi, start, compare) {\n    if (start === lo) {\n        start++;\n    }\n    for (; start < hi; start++) {\n        var pivot = array[start];\n        var left = lo;\n        var right = start;\n        var mid;\n        while (left < right) {\n            mid = left + right >>> 1;\n            if (compare(pivot, array[mid]) < 0) {\n                right = mid;\n            }\n            else {\n                left = mid + 1;\n            }\n        }\n        var n = start - left;\n        switch (n) {\n            case 3:\n                array[left + 3] = array[left + 2];\n            case 2:\n                array[left + 2] = array[left + 1];\n            case 1:\n                array[left + 1] = array[left];\n                break;\n            default:\n                while (n > 0) {\n                    array[left + n] = array[left + n - 1];\n                    n--;\n                }\n        }\n        array[left] = pivot;\n    }\n}\nfunction gallopLeft(value, array, start, length, hint, compare) {\n    var lastOffset = 0;\n    var maxOffset = 0;\n    var offset = 1;\n    if (compare(value, array[start + hint]) > 0) {\n        maxOffset = length - hint;\n        while (offset < maxOffset && compare(value, array[start + hint + offset]) > 0) {\n            lastOffset = offset;\n            offset = (offset << 1) + 1;\n            if (offset <= 0) {\n                offset = maxOffset;\n            }\n        }\n        if (offset > maxOffset) {\n            offset = maxOffset;\n        }\n        lastOffset += hint;\n        offset += hint;\n    }\n    else {\n        maxOffset = hint + 1;\n        while (offset < maxOffset && compare(value, array[start + hint - offset]) <= 0) {\n            lastOffset = offset;\n            offset = (offset << 1) + 1;\n            if (offset <= 0) {\n                offset = maxOffset;\n            }\n        }\n        if (offset > maxOffset) {\n            offset = maxOffset;\n        }\n        var tmp = lastOffset;\n        lastOffset = hint - offset;\n        offset = hint - tmp;\n    }\n    lastOffset++;\n    while (lastOffset < offset) {\n        var m = lastOffset + (offset - lastOffset >>> 1);\n        if (compare(value, array[start + m]) > 0) {\n            lastOffset = m + 1;\n        }\n        else {\n            offset = m;\n        }\n    }\n    return offset;\n}\nfunction gallopRight(value, array, start, length, hint, compare) {\n    var lastOffset = 0;\n    var maxOffset = 0;\n    var offset = 1;\n    if (compare(value, array[start + hint]) < 0) {\n        maxOffset = hint + 1;\n        while (offset < maxOffset && compare(value, array[start + hint - offset]) < 0) {\n            lastOffset = offset;\n            offset = (offset << 1) + 1;\n            if (offset <= 0) {\n                offset = maxOffset;\n            }\n        }\n        if (offset > maxOffset) {\n            offset = maxOffset;\n        }\n        var tmp = lastOffset;\n        lastOffset = hint - offset;\n        offset = hint - tmp;\n    }\n    else {\n        maxOffset = length - hint;\n        while (offset < maxOffset && compare(value, array[start + hint + offset]) >= 0) {\n            lastOffset = offset;\n            offset = (offset << 1) + 1;\n            if (offset <= 0) {\n                offset = maxOffset;\n            }\n        }\n        if (offset > maxOffset) {\n            offset = maxOffset;\n        }\n        lastOffset += hint;\n        offset += hint;\n    }\n    lastOffset++;\n    while (lastOffset < offset) {\n        var m = lastOffset + (offset - lastOffset >>> 1);\n        if (compare(value, array[start + m]) < 0) {\n            offset = m;\n        }\n        else {\n            lastOffset = m + 1;\n        }\n    }\n    return offset;\n}\nfunction TimSort(array, compare) {\n    var minGallop = DEFAULT_MIN_GALLOPING;\n    var runStart;\n    var runLength;\n    var stackSize = 0;\n    var tmp = [];\n    runStart = [];\n    runLength = [];\n    function pushRun(_runStart, _runLength) {\n        runStart[stackSize] = _runStart;\n        runLength[stackSize] = _runLength;\n        stackSize += 1;\n    }\n    function mergeRuns() {\n        while (stackSize > 1) {\n            var n = stackSize - 2;\n            if ((n >= 1 && runLength[n - 1] <= runLength[n] + runLength[n + 1])\n                || (n >= 2 && runLength[n - 2] <= runLength[n] + runLength[n - 1])) {\n                if (runLength[n - 1] < runLength[n + 1]) {\n                    n--;\n                }\n            }\n            else if (runLength[n] > runLength[n + 1]) {\n                break;\n            }\n            mergeAt(n);\n        }\n    }\n    function forceMergeRuns() {\n        while (stackSize > 1) {\n            var n = stackSize - 2;\n            if (n > 0 && runLength[n - 1] < runLength[n + 1]) {\n                n--;\n            }\n            mergeAt(n);\n        }\n    }\n    function mergeAt(i) {\n        var start1 = runStart[i];\n        var length1 = runLength[i];\n        var start2 = runStart[i + 1];\n        var length2 = runLength[i + 1];\n        runLength[i] = length1 + length2;\n        if (i === stackSize - 3) {\n            runStart[i + 1] = runStart[i + 2];\n            runLength[i + 1] = runLength[i + 2];\n        }\n        stackSize--;\n        var k = gallopRight(array[start2], array, start1, length1, 0, compare);\n        start1 += k;\n        length1 -= k;\n        if (length1 === 0) {\n            return;\n        }\n        length2 = gallopLeft(array[start1 + length1 - 1], array, start2, length2, length2 - 1, compare);\n        if (length2 === 0) {\n            return;\n        }\n        if (length1 <= length2) {\n            mergeLow(start1, length1, start2, length2);\n        }\n        else {\n            mergeHigh(start1, length1, start2, length2);\n        }\n    }\n    function mergeLow(start1, length1, start2, length2) {\n        var i = 0;\n        for (i = 0; i < length1; i++) {\n            tmp[i] = array[start1 + i];\n        }\n        var cursor1 = 0;\n        var cursor2 = start2;\n        var dest = start1;\n        array[dest++] = array[cursor2++];\n        if (--length2 === 0) {\n            for (i = 0; i < length1; i++) {\n                array[dest + i] = tmp[cursor1 + i];\n            }\n            return;\n        }\n        if (length1 === 1) {\n            for (i = 0; i < length2; i++) {\n                array[dest + i] = array[cursor2 + i];\n            }\n            array[dest + length2] = tmp[cursor1];\n            return;\n        }\n        var _minGallop = minGallop;\n        var count1;\n        var count2;\n        var exit;\n        while (1) {\n            count1 = 0;\n            count2 = 0;\n            exit = false;\n            do {\n                if (compare(array[cursor2], tmp[cursor1]) < 0) {\n                    array[dest++] = array[cursor2++];\n                    count2++;\n                    count1 = 0;\n                    if (--length2 === 0) {\n                        exit = true;\n                        break;\n                    }\n                }\n                else {\n                    array[dest++] = tmp[cursor1++];\n                    count1++;\n                    count2 = 0;\n                    if (--length1 === 1) {\n                        exit = true;\n                        break;\n                    }\n                }\n            } while ((count1 | count2) < _minGallop);\n            if (exit) {\n                break;\n            }\n            do {\n                count1 = gallopRight(array[cursor2], tmp, cursor1, length1, 0, compare);\n                if (count1 !== 0) {\n                    for (i = 0; i < count1; i++) {\n                        array[dest + i] = tmp[cursor1 + i];\n                    }\n                    dest += count1;\n                    cursor1 += count1;\n                    length1 -= count1;\n                    if (length1 <= 1) {\n                        exit = true;\n                        break;\n                    }\n                }\n                array[dest++] = array[cursor2++];\n                if (--length2 === 0) {\n                    exit = true;\n                    break;\n                }\n                count2 = gallopLeft(tmp[cursor1], array, cursor2, length2, 0, compare);\n                if (count2 !== 0) {\n                    for (i = 0; i < count2; i++) {\n                        array[dest + i] = array[cursor2 + i];\n                    }\n                    dest += count2;\n                    cursor2 += count2;\n                    length2 -= count2;\n                    if (length2 === 0) {\n                        exit = true;\n                        break;\n                    }\n                }\n                array[dest++] = tmp[cursor1++];\n                if (--length1 === 1) {\n                    exit = true;\n                    break;\n                }\n                _minGallop--;\n            } while (count1 >= DEFAULT_MIN_GALLOPING || count2 >= DEFAULT_MIN_GALLOPING);\n            if (exit) {\n                break;\n            }\n            if (_minGallop < 0) {\n                _minGallop = 0;\n            }\n            _minGallop += 2;\n        }\n        minGallop = _minGallop;\n        minGallop < 1 && (minGallop = 1);\n        if (length1 === 1) {\n            for (i = 0; i < length2; i++) {\n                array[dest + i] = array[cursor2 + i];\n            }\n            array[dest + length2] = tmp[cursor1];\n        }\n        else if (length1 === 0) {\n            throw new Error();\n        }\n        else {\n            for (i = 0; i < length1; i++) {\n                array[dest + i] = tmp[cursor1 + i];\n            }\n        }\n    }\n    function mergeHigh(start1, length1, start2, length2) {\n        var i = 0;\n        for (i = 0; i < length2; i++) {\n            tmp[i] = array[start2 + i];\n        }\n        var cursor1 = start1 + length1 - 1;\n        var cursor2 = length2 - 1;\n        var dest = start2 + length2 - 1;\n        var customCursor = 0;\n        var customDest = 0;\n        array[dest--] = array[cursor1--];\n        if (--length1 === 0) {\n            customCursor = dest - (length2 - 1);\n            for (i = 0; i < length2; i++) {\n                array[customCursor + i] = tmp[i];\n            }\n            return;\n        }\n        if (length2 === 1) {\n            dest -= length1;\n            cursor1 -= length1;\n            customDest = dest + 1;\n            customCursor = cursor1 + 1;\n            for (i = length1 - 1; i >= 0; i--) {\n                array[customDest + i] = array[customCursor + i];\n            }\n            array[dest] = tmp[cursor2];\n            return;\n        }\n        var _minGallop = minGallop;\n        while (true) {\n            var count1 = 0;\n            var count2 = 0;\n            var exit = false;\n            do {\n                if (compare(tmp[cursor2], array[cursor1]) < 0) {\n                    array[dest--] = array[cursor1--];\n                    count1++;\n                    count2 = 0;\n                    if (--length1 === 0) {\n                        exit = true;\n                        break;\n                    }\n                }\n                else {\n                    array[dest--] = tmp[cursor2--];\n                    count2++;\n                    count1 = 0;\n                    if (--length2 === 1) {\n                        exit = true;\n                        break;\n                    }\n                }\n            } while ((count1 | count2) < _minGallop);\n            if (exit) {\n                break;\n            }\n            do {\n                count1 = length1 - gallopRight(tmp[cursor2], array, start1, length1, length1 - 1, compare);\n                if (count1 !== 0) {\n                    dest -= count1;\n                    cursor1 -= count1;\n                    length1 -= count1;\n                    customDest = dest + 1;\n                    customCursor = cursor1 + 1;\n                    for (i = count1 - 1; i >= 0; i--) {\n                        array[customDest + i] = array[customCursor + i];\n                    }\n                    if (length1 === 0) {\n                        exit = true;\n                        break;\n                    }\n                }\n                array[dest--] = tmp[cursor2--];\n                if (--length2 === 1) {\n                    exit = true;\n                    break;\n                }\n                count2 = length2 - gallopLeft(array[cursor1], tmp, 0, length2, length2 - 1, compare);\n                if (count2 !== 0) {\n                    dest -= count2;\n                    cursor2 -= count2;\n                    length2 -= count2;\n                    customDest = dest + 1;\n                    customCursor = cursor2 + 1;\n                    for (i = 0; i < count2; i++) {\n                        array[customDest + i] = tmp[customCursor + i];\n                    }\n                    if (length2 <= 1) {\n                        exit = true;\n                        break;\n                    }\n                }\n                array[dest--] = array[cursor1--];\n                if (--length1 === 0) {\n                    exit = true;\n                    break;\n                }\n                _minGallop--;\n            } while (count1 >= DEFAULT_MIN_GALLOPING || count2 >= DEFAULT_MIN_GALLOPING);\n            if (exit) {\n                break;\n            }\n            if (_minGallop < 0) {\n                _minGallop = 0;\n            }\n            _minGallop += 2;\n        }\n        minGallop = _minGallop;\n        if (minGallop < 1) {\n            minGallop = 1;\n        }\n        if (length2 === 1) {\n            dest -= length1;\n            cursor1 -= length1;\n            customDest = dest + 1;\n            customCursor = cursor1 + 1;\n            for (i = length1 - 1; i >= 0; i--) {\n                array[customDest + i] = array[customCursor + i];\n            }\n            array[dest] = tmp[cursor2];\n        }\n        else if (length2 === 0) {\n            throw new Error();\n        }\n        else {\n            customCursor = dest - (length2 - 1);\n            for (i = 0; i < length2; i++) {\n                array[customCursor + i] = tmp[i];\n            }\n        }\n    }\n    return {\n        mergeRuns: mergeRuns,\n        forceMergeRuns: forceMergeRuns,\n        pushRun: pushRun\n    };\n}\nexport default function sort(array, compare, lo, hi) {\n    if (!lo) {\n        lo = 0;\n    }\n    if (!hi) {\n        hi = array.length;\n    }\n    var remaining = hi - lo;\n    if (remaining < 2) {\n        return;\n    }\n    var runLength = 0;\n    if (remaining < DEFAULT_MIN_MERGE) {\n        runLength = makeAscendingRun(array, lo, hi, compare);\n        binaryInsertionSort(array, lo, hi, lo + runLength, compare);\n        return;\n    }\n    var ts = TimSort(array, compare);\n    var minRun = minRunLength(remaining);\n    do {\n        runLength = makeAscendingRun(array, lo, hi, compare);\n        if (runLength < minRun) {\n            var force = remaining;\n            if (force > minRun) {\n                force = minRun;\n            }\n            binaryInsertionSort(array, lo, lo + force, lo + runLength, compare);\n            runLength = force;\n        }\n        ts.pushRun(lo, runLength);\n        ts.mergeRuns();\n        remaining -= runLength;\n        lo += runLength;\n    } while (remaining !== 0);\n    ts.forceMergeRuns();\n}\n","export var REDRAW_BIT = 1;\nexport var STYLE_CHANGED_BIT = 2;\nexport var SHAPE_CHANGED_BIT = 4;\n","import * as util from './core/util.js';\nimport timsort from './core/timsort.js';\nimport { REDRAW_BIT } from './graphic/constants.js';\nvar invalidZErrorLogged = false;\nfunction logInvalidZError() {\n    if (invalidZErrorLogged) {\n        return;\n    }\n    invalidZErrorLogged = true;\n    console.warn('z / z2 / zlevel of displayable is invalid, which may cause unexpected errors');\n}\nfunction shapeCompareFunc(a, b) {\n    if (a.zlevel === b.zlevel) {\n        if (a.z === b.z) {\n            return a.z2 - b.z2;\n        }\n        return a.z - b.z;\n    }\n    return a.zlevel - b.zlevel;\n}\nvar Storage = (function () {\n    function Storage() {\n        this._roots = [];\n        this._displayList = [];\n        this._displayListLen = 0;\n        this.displayableSortFunc = shapeCompareFunc;\n    }\n    Storage.prototype.traverse = function (cb, context) {\n        for (var i = 0; i < this._roots.length; i++) {\n            this._roots[i].traverse(cb, context);\n        }\n    };\n    Storage.prototype.getDisplayList = function (update, includeIgnore) {\n        includeIgnore = includeIgnore || false;\n        var displayList = this._displayList;\n        if (update || !displayList.length) {\n            this.updateDisplayList(includeIgnore);\n        }\n        return displayList;\n    };\n    Storage.prototype.updateDisplayList = function (includeIgnore) {\n        this._displayListLen = 0;\n        var roots = this._roots;\n        var displayList = this._displayList;\n        for (var i = 0, len = roots.length; i < len; i++) {\n            this._updateAndAddDisplayable(roots[i], null, includeIgnore);\n        }\n        displayList.length = this._displayListLen;\n        timsort(displayList, shapeCompareFunc);\n    };\n    Storage.prototype._updateAndAddDisplayable = function (el, clipPaths, includeIgnore) {\n        if (el.ignore && !includeIgnore) {\n            return;\n        }\n        el.beforeUpdate();\n        el.update();\n        el.afterUpdate();\n        var userSetClipPath = el.getClipPath();\n        if (el.ignoreClip) {\n            clipPaths = null;\n        }\n        else if (userSetClipPath) {\n            if (clipPaths) {\n                clipPaths = clipPaths.slice();\n            }\n            else {\n                clipPaths = [];\n            }\n            var currentClipPath = userSetClipPath;\n            var parentClipPath = el;\n            while (currentClipPath) {\n                currentClipPath.parent = parentClipPath;\n                currentClipPath.updateTransform();\n                clipPaths.push(currentClipPath);\n                parentClipPath = currentClipPath;\n                currentClipPath = currentClipPath.getClipPath();\n            }\n        }\n        if (el.childrenRef) {\n            var children = el.childrenRef();\n            for (var i = 0; i < children.length; i++) {\n                var child = children[i];\n                if (el.__dirty) {\n                    child.__dirty |= REDRAW_BIT;\n                }\n                this._updateAndAddDisplayable(child, clipPaths, includeIgnore);\n            }\n            el.__dirty = 0;\n        }\n        else {\n            var disp = el;\n            if (clipPaths && clipPaths.length) {\n                disp.__clipPaths = clipPaths;\n            }\n            else if (disp.__clipPaths && disp.__clipPaths.length > 0) {\n                disp.__clipPaths = [];\n            }\n            if (isNaN(disp.z)) {\n                logInvalidZError();\n                disp.z = 0;\n            }\n            if (isNaN(disp.z2)) {\n                logInvalidZError();\n                disp.z2 = 0;\n            }\n            if (isNaN(disp.zlevel)) {\n                logInvalidZError();\n                disp.zlevel = 0;\n            }\n            this._displayList[this._displayListLen++] = disp;\n        }\n        var decalEl = el.getDecalElement && el.getDecalElement();\n        if (decalEl) {\n            this._updateAndAddDisplayable(decalEl, clipPaths, includeIgnore);\n        }\n        var textGuide = el.getTextGuideLine();\n        if (textGuide) {\n            this._updateAndAddDisplayable(textGuide, clipPaths, includeIgnore);\n        }\n        var textEl = el.getTextContent();\n        if (textEl) {\n            this._updateAndAddDisplayable(textEl, clipPaths, includeIgnore);\n        }\n    };\n    Storage.prototype.addRoot = function (el) {\n        if (el.__zr && el.__zr.storage === this) {\n            return;\n        }\n        this._roots.push(el);\n    };\n    Storage.prototype.delRoot = function (el) {\n        if (el instanceof Array) {\n            for (var i = 0, l = el.length; i < l; i++) {\n                this.delRoot(el[i]);\n            }\n            return;\n        }\n        var idx = util.indexOf(this._roots, el);\n        if (idx >= 0) {\n            this._roots.splice(idx, 1);\n        }\n    };\n    Storage.prototype.delAllRoots = function () {\n        this._roots = [];\n        this._displayList = [];\n        this._displayListLen = 0;\n        return;\n    };\n    Storage.prototype.getRoots = function () {\n        return this._roots;\n    };\n    Storage.prototype.dispose = function () {\n        this._displayList = null;\n        this._roots = null;\n    };\n    return Storage;\n}());\nexport default Storage;\n","import env from '../core/env.js';\nvar requestAnimationFrame;\nrequestAnimationFrame = (env.hasGlobalWindow\n    && ((window.requestAnimationFrame && window.requestAnimationFrame.bind(window))\n        || (window.msRequestAnimationFrame && window.msRequestAnimationFrame.bind(window))\n        || window.mozRequestAnimationFrame\n        || window.webkitRequestAnimationFrame)) || function (func) {\n    return setTimeout(func, 16);\n};\nexport default requestAnimationFrame;\n","var easingFuncs = {\n    linear: function (k) {\n        return k;\n    },\n    quadraticIn: function (k) {\n        return k * k;\n    },\n    quadraticOut: function (k) {\n        return k * (2 - k);\n    },\n    quadraticInOut: function (k) {\n        if ((k *= 2) < 1) {\n            return 0.5 * k * k;\n        }\n        return -0.5 * (--k * (k - 2) - 1);\n    },\n    cubicIn: function (k) {\n        return k * k * k;\n    },\n    cubicOut: function (k) {\n        return --k * k * k + 1;\n    },\n    cubicInOut: function (k) {\n        if ((k *= 2) < 1) {\n            return 0.5 * k * k * k;\n        }\n        return 0.5 * ((k -= 2) * k * k + 2);\n    },\n    quarticIn: function (k) {\n        return k * k * k * k;\n    },\n    quarticOut: function (k) {\n        return 1 - (--k * k * k * k);\n    },\n    quarticInOut: function (k) {\n        if ((k *= 2) < 1) {\n            return 0.5 * k * k * k * k;\n        }\n        return -0.5 * ((k -= 2) * k * k * k - 2);\n    },\n    quinticIn: function (k) {\n        return k * k * k * k * k;\n    },\n    quinticOut: function (k) {\n        return --k * k * k * k * k + 1;\n    },\n    quinticInOut: function (k) {\n        if ((k *= 2) < 1) {\n            return 0.5 * k * k * k * k * k;\n        }\n        return 0.5 * ((k -= 2) * k * k * k * k + 2);\n    },\n    sinusoidalIn: function (k) {\n        return 1 - Math.cos(k * Math.PI / 2);\n    },\n    sinusoidalOut: function (k) {\n        return Math.sin(k * Math.PI / 2);\n    },\n    sinusoidalInOut: function (k) {\n        return 0.5 * (1 - Math.cos(Math.PI * k));\n    },\n    exponentialIn: function (k) {\n        return k === 0 ? 0 : Math.pow(1024, k - 1);\n    },\n    exponentialOut: function (k) {\n        return k === 1 ? 1 : 1 - Math.pow(2, -10 * k);\n    },\n    exponentialInOut: function (k) {\n        if (k === 0) {\n            return 0;\n        }\n        if (k === 1) {\n            return 1;\n        }\n        if ((k *= 2) < 1) {\n            return 0.5 * Math.pow(1024, k - 1);\n        }\n        return 0.5 * (-Math.pow(2, -10 * (k - 1)) + 2);\n    },\n    circularIn: function (k) {\n        return 1 - Math.sqrt(1 - k * k);\n    },\n    circularOut: function (k) {\n        return Math.sqrt(1 - (--k * k));\n    },\n    circularInOut: function (k) {\n        if ((k *= 2) < 1) {\n            return -0.5 * (Math.sqrt(1 - k * k) - 1);\n        }\n        return 0.5 * (Math.sqrt(1 - (k -= 2) * k) + 1);\n    },\n    elasticIn: function (k) {\n        var s;\n        var a = 0.1;\n        var p = 0.4;\n        if (k === 0) {\n            return 0;\n        }\n        if (k === 1) {\n            return 1;\n        }\n        if (!a || a < 1) {\n            a = 1;\n            s = p / 4;\n        }\n        else {\n            s = p * Math.asin(1 / a) / (2 * Math.PI);\n        }\n        return -(a * Math.pow(2, 10 * (k -= 1))\n            * Math.sin((k - s) * (2 * Math.PI) / p));\n    },\n    elasticOut: function (k) {\n        var s;\n        var a = 0.1;\n        var p = 0.4;\n        if (k === 0) {\n            return 0;\n        }\n        if (k === 1) {\n            return 1;\n        }\n        if (!a || a < 1) {\n            a = 1;\n            s = p / 4;\n        }\n        else {\n            s = p * Math.asin(1 / a) / (2 * Math.PI);\n        }\n        return (a * Math.pow(2, -10 * k)\n            * Math.sin((k - s) * (2 * Math.PI) / p) + 1);\n    },\n    elasticInOut: function (k) {\n        var s;\n        var a = 0.1;\n        var p = 0.4;\n        if (k === 0) {\n            return 0;\n        }\n        if (k === 1) {\n            return 1;\n        }\n        if (!a || a < 1) {\n            a = 1;\n            s = p / 4;\n        }\n        else {\n            s = p * Math.asin(1 / a) / (2 * Math.PI);\n        }\n        if ((k *= 2) < 1) {\n            return -0.5 * (a * Math.pow(2, 10 * (k -= 1))\n                * Math.sin((k - s) * (2 * Math.PI) / p));\n        }\n        return a * Math.pow(2, -10 * (k -= 1))\n            * Math.sin((k - s) * (2 * Math.PI) / p) * 0.5 + 1;\n    },\n    backIn: function (k) {\n        var s = 1.70158;\n        return k * k * ((s + 1) * k - s);\n    },\n    backOut: function (k) {\n        var s = 1.70158;\n        return --k * k * ((s + 1) * k + s) + 1;\n    },\n    backInOut: function (k) {\n        var s = 1.70158 * 1.525;\n        if ((k *= 2) < 1) {\n            return 0.5 * (k * k * ((s + 1) * k - s));\n        }\n        return 0.5 * ((k -= 2) * k * ((s + 1) * k + s) + 2);\n    },\n    bounceIn: function (k) {\n        return 1 - easingFuncs.bounceOut(1 - k);\n    },\n    bounceOut: function (k) {\n        if (k < (1 / 2.75)) {\n            return 7.5625 * k * k;\n        }\n        else if (k < (2 / 2.75)) {\n            return 7.5625 * (k -= (1.5 / 2.75)) * k + 0.75;\n        }\n        else if (k < (2.5 / 2.75)) {\n            return 7.5625 * (k -= (2.25 / 2.75)) * k + 0.9375;\n        }\n        else {\n            return 7.5625 * (k -= (2.625 / 2.75)) * k + 0.984375;\n        }\n    },\n    bounceInOut: function (k) {\n        if (k < 0.5) {\n            return easingFuncs.bounceIn(k * 2) * 0.5;\n        }\n        return easingFuncs.bounceOut(k * 2 - 1) * 0.5 + 0.5;\n    }\n};\nexport default easingFuncs;\n","import { create as v2Create, distSquare as v2DistSquare } from './vector.js';\nvar mathPow = Math.pow;\nvar mathSqrt = Math.sqrt;\nvar EPSILON = 1e-8;\nvar EPSILON_NUMERIC = 1e-4;\nvar THREE_SQRT = mathSqrt(3);\nvar ONE_THIRD = 1 / 3;\nvar _v0 = v2Create();\nvar _v1 = v2Create();\nvar _v2 = v2Create();\nfunction isAroundZero(val) {\n    return val > -EPSILON && val < EPSILON;\n}\nfunction isNotAroundZero(val) {\n    return val > EPSILON || val < -EPSILON;\n}\nexport function cubicAt(p0, p1, p2, p3, t) {\n    var onet = 1 - t;\n    return onet * onet * (onet * p0 + 3 * t * p1)\n        + t * t * (t * p3 + 3 * onet * p2);\n}\nexport function cubicDerivativeAt(p0, p1, p2, p3, t) {\n    var onet = 1 - t;\n    return 3 * (((p1 - p0) * onet + 2 * (p2 - p1) * t) * onet\n        + (p3 - p2) * t * t);\n}\nexport function cubicRootAt(p0, p1, p2, p3, val, roots) {\n    var a = p3 + 3 * (p1 - p2) - p0;\n    var b = 3 * (p2 - p1 * 2 + p0);\n    var c = 3 * (p1 - p0);\n    var d = p0 - val;\n    var A = b * b - 3 * a * c;\n    var B = b * c - 9 * a * d;\n    var C = c * c - 3 * b * d;\n    var n = 0;\n    if (isAroundZero(A) && isAroundZero(B)) {\n        if (isAroundZero(b)) {\n            roots[0] = 0;\n        }\n        else {\n            var t1 = -c / b;\n            if (t1 >= 0 && t1 <= 1) {\n                roots[n++] = t1;\n            }\n        }\n    }\n    else {\n        var disc = B * B - 4 * A * C;\n        if (isAroundZero(disc)) {\n            var K = B / A;\n            var t1 = -b / a + K;\n            var t2 = -K / 2;\n            if (t1 >= 0 && t1 <= 1) {\n                roots[n++] = t1;\n            }\n            if (t2 >= 0 && t2 <= 1) {\n                roots[n++] = t2;\n            }\n        }\n        else if (disc > 0) {\n            var discSqrt = mathSqrt(disc);\n            var Y1 = A * b + 1.5 * a * (-B + discSqrt);\n            var Y2 = A * b + 1.5 * a * (-B - discSqrt);\n            if (Y1 < 0) {\n                Y1 = -mathPow(-Y1, ONE_THIRD);\n            }\n            else {\n                Y1 = mathPow(Y1, ONE_THIRD);\n            }\n            if (Y2 < 0) {\n                Y2 = -mathPow(-Y2, ONE_THIRD);\n            }\n            else {\n                Y2 = mathPow(Y2, ONE_THIRD);\n            }\n            var t1 = (-b - (Y1 + Y2)) / (3 * a);\n            if (t1 >= 0 && t1 <= 1) {\n                roots[n++] = t1;\n            }\n        }\n        else {\n            var T = (2 * A * b - 3 * a * B) / (2 * mathSqrt(A * A * A));\n            var theta = Math.acos(T) / 3;\n            var ASqrt = mathSqrt(A);\n            var tmp = Math.cos(theta);\n            var t1 = (-b - 2 * ASqrt * tmp) / (3 * a);\n            var t2 = (-b + ASqrt * (tmp + THREE_SQRT * Math.sin(theta))) / (3 * a);\n            var t3 = (-b + ASqrt * (tmp - THREE_SQRT * Math.sin(theta))) / (3 * a);\n            if (t1 >= 0 && t1 <= 1) {\n                roots[n++] = t1;\n            }\n            if (t2 >= 0 && t2 <= 1) {\n                roots[n++] = t2;\n            }\n            if (t3 >= 0 && t3 <= 1) {\n                roots[n++] = t3;\n            }\n        }\n    }\n    return n;\n}\nexport function cubicExtrema(p0, p1, p2, p3, extrema) {\n    var b = 6 * p2 - 12 * p1 + 6 * p0;\n    var a = 9 * p1 + 3 * p3 - 3 * p0 - 9 * p2;\n    var c = 3 * p1 - 3 * p0;\n    var n = 0;\n    if (isAroundZero(a)) {\n        if (isNotAroundZero(b)) {\n            var t1 = -c / b;\n            if (t1 >= 0 && t1 <= 1) {\n                extrema[n++] = t1;\n            }\n        }\n    }\n    else {\n        var disc = b * b - 4 * a * c;\n        if (isAroundZero(disc)) {\n            extrema[0] = -b / (2 * a);\n        }\n        else if (disc > 0) {\n            var discSqrt = mathSqrt(disc);\n            var t1 = (-b + discSqrt) / (2 * a);\n            var t2 = (-b - discSqrt) / (2 * a);\n            if (t1 >= 0 && t1 <= 1) {\n                extrema[n++] = t1;\n            }\n            if (t2 >= 0 && t2 <= 1) {\n                extrema[n++] = t2;\n            }\n        }\n    }\n    return n;\n}\nexport function cubicSubdivide(p0, p1, p2, p3, t, out) {\n    var p01 = (p1 - p0) * t + p0;\n    var p12 = (p2 - p1) * t + p1;\n    var p23 = (p3 - p2) * t + p2;\n    var p012 = (p12 - p01) * t + p01;\n    var p123 = (p23 - p12) * t + p12;\n    var p0123 = (p123 - p012) * t + p012;\n    out[0] = p0;\n    out[1] = p01;\n    out[2] = p012;\n    out[3] = p0123;\n    out[4] = p0123;\n    out[5] = p123;\n    out[6] = p23;\n    out[7] = p3;\n}\nexport function cubicProjectPoint(x0, y0, x1, y1, x2, y2, x3, y3, x, y, out) {\n    var t;\n    var interval = 0.005;\n    var d = Infinity;\n    var prev;\n    var next;\n    var d1;\n    var d2;\n    _v0[0] = x;\n    _v0[1] = y;\n    for (var _t = 0; _t < 1; _t += 0.05) {\n        _v1[0] = cubicAt(x0, x1, x2, x3, _t);\n        _v1[1] = cubicAt(y0, y1, y2, y3, _t);\n        d1 = v2DistSquare(_v0, _v1);\n        if (d1 < d) {\n            t = _t;\n            d = d1;\n        }\n    }\n    d = Infinity;\n    for (var i = 0; i < 32; i++) {\n        if (interval < EPSILON_NUMERIC) {\n            break;\n        }\n        prev = t - interval;\n        next = t + interval;\n        _v1[0] = cubicAt(x0, x1, x2, x3, prev);\n        _v1[1] = cubicAt(y0, y1, y2, y3, prev);\n        d1 = v2DistSquare(_v1, _v0);\n        if (prev >= 0 && d1 < d) {\n            t = prev;\n            d = d1;\n        }\n        else {\n            _v2[0] = cubicAt(x0, x1, x2, x3, next);\n            _v2[1] = cubicAt(y0, y1, y2, y3, next);\n            d2 = v2DistSquare(_v2, _v0);\n            if (next <= 1 && d2 < d) {\n                t = next;\n                d = d2;\n            }\n            else {\n                interval *= 0.5;\n            }\n        }\n    }\n    if (out) {\n        out[0] = cubicAt(x0, x1, x2, x3, t);\n        out[1] = cubicAt(y0, y1, y2, y3, t);\n    }\n    return mathSqrt(d);\n}\nexport function cubicLength(x0, y0, x1, y1, x2, y2, x3, y3, iteration) {\n    var px = x0;\n    var py = y0;\n    var d = 0;\n    var step = 1 / iteration;\n    for (var i = 1; i <= iteration; i++) {\n        var t = i * step;\n        var x = cubicAt(x0, x1, x2, x3, t);\n        var y = cubicAt(y0, y1, y2, y3, t);\n        var dx = x - px;\n        var dy = y - py;\n        d += Math.sqrt(dx * dx + dy * dy);\n        px = x;\n        py = y;\n    }\n    return d;\n}\nexport function quadraticAt(p0, p1, p2, t) {\n    var onet = 1 - t;\n    return onet * (onet * p0 + 2 * t * p1) + t * t * p2;\n}\nexport function quadraticDerivativeAt(p0, p1, p2, t) {\n    return 2 * ((1 - t) * (p1 - p0) + t * (p2 - p1));\n}\nexport function quadraticRootAt(p0, p1, p2, val, roots) {\n    var a = p0 - 2 * p1 + p2;\n    var b = 2 * (p1 - p0);\n    var c = p0 - val;\n    var n = 0;\n    if (isAroundZero(a)) {\n        if (isNotAroundZero(b)) {\n            var t1 = -c / b;\n            if (t1 >= 0 && t1 <= 1) {\n                roots[n++] = t1;\n            }\n        }\n    }\n    else {\n        var disc = b * b - 4 * a * c;\n        if (isAroundZero(disc)) {\n            var t1 = -b / (2 * a);\n            if (t1 >= 0 && t1 <= 1) {\n                roots[n++] = t1;\n            }\n        }\n        else if (disc > 0) {\n            var discSqrt = mathSqrt(disc);\n            var t1 = (-b + discSqrt) / (2 * a);\n            var t2 = (-b - discSqrt) / (2 * a);\n            if (t1 >= 0 && t1 <= 1) {\n                roots[n++] = t1;\n            }\n            if (t2 >= 0 && t2 <= 1) {\n                roots[n++] = t2;\n            }\n        }\n    }\n    return n;\n}\nexport function quadraticExtremum(p0, p1, p2) {\n    var divider = p0 + p2 - 2 * p1;\n    if (divider === 0) {\n        return 0.5;\n    }\n    else {\n        return (p0 - p1) / divider;\n    }\n}\nexport function quadraticSubdivide(p0, p1, p2, t, out) {\n    var p01 = (p1 - p0) * t + p0;\n    var p12 = (p2 - p1) * t + p1;\n    var p012 = (p12 - p01) * t + p01;\n    out[0] = p0;\n    out[1] = p01;\n    out[2] = p012;\n    out[3] = p012;\n    out[4] = p12;\n    out[5] = p2;\n}\nexport function quadraticProjectPoint(x0, y0, x1, y1, x2, y2, x, y, out) {\n    var t;\n    var interval = 0.005;\n    var d = Infinity;\n    _v0[0] = x;\n    _v0[1] = y;\n    for (var _t = 0; _t < 1; _t += 0.05) {\n        _v1[0] = quadraticAt(x0, x1, x2, _t);\n        _v1[1] = quadraticAt(y0, y1, y2, _t);\n        var d1 = v2DistSquare(_v0, _v1);\n        if (d1 < d) {\n            t = _t;\n            d = d1;\n        }\n    }\n    d = Infinity;\n    for (var i = 0; i < 32; i++) {\n        if (interval < EPSILON_NUMERIC) {\n            break;\n        }\n        var prev = t - interval;\n        var next = t + interval;\n        _v1[0] = quadraticAt(x0, x1, x2, prev);\n        _v1[1] = quadraticAt(y0, y1, y2, prev);\n        var d1 = v2DistSquare(_v1, _v0);\n        if (prev >= 0 && d1 < d) {\n            t = prev;\n            d = d1;\n        }\n        else {\n            _v2[0] = quadraticAt(x0, x1, x2, next);\n            _v2[1] = quadraticAt(y0, y1, y2, next);\n            var d2 = v2DistSquare(_v2, _v0);\n            if (next <= 1 && d2 < d) {\n                t = next;\n                d = d2;\n            }\n            else {\n                interval *= 0.5;\n            }\n        }\n    }\n    if (out) {\n        out[0] = quadraticAt(x0, x1, x2, t);\n        out[1] = quadraticAt(y0, y1, y2, t);\n    }\n    return mathSqrt(d);\n}\nexport function quadraticLength(x0, y0, x1, y1, x2, y2, iteration) {\n    var px = x0;\n    var py = y0;\n    var d = 0;\n    var step = 1 / iteration;\n    for (var i = 1; i <= iteration; i++) {\n        var t = i * step;\n        var x = quadraticAt(x0, x1, x2, t);\n        var y = quadraticAt(y0, y1, y2, t);\n        var dx = x - px;\n        var dy = y - py;\n        d += Math.sqrt(dx * dx + dy * dy);\n        px = x;\n        py = y;\n    }\n    return d;\n}\n","import { cubicAt, cubicRootAt } from '../core/curve.js';\nimport { trim } from '../core/util.js';\nvar regexp = /cubic-bezier\\(([0-9,\\.e ]+)\\)/;\nexport function createCubicEasingFunc(cubicEasingStr) {\n    var cubic = cubicEasingStr && regexp.exec(cubicEasingStr);\n    if (cubic) {\n        var points = cubic[1].split(',');\n        var a_1 = +trim(points[0]);\n        var b_1 = +trim(points[1]);\n        var c_1 = +trim(points[2]);\n        var d_1 = +trim(points[3]);\n        if (isNaN(a_1 + b_1 + c_1 + d_1)) {\n            return;\n        }\n        var roots_1 = [];\n        return function (p) {\n            return p <= 0\n                ? 0 : p >= 1\n                ? 1\n                : cubicRootAt(0, a_1, c_1, 1, p, roots_1) && cubicAt(0, b_1, d_1, 1, roots_1[0]);\n        };\n    }\n}\n","import easingFuncs from './easing.js';\nimport { isFunction, noop } from '../core/util.js';\nimport { createCubicEasingFunc } from './cubicEasing.js';\nvar Clip = (function () {\n    function Clip(opts) {\n        this._inited = false;\n        this._startTime = 0;\n        this._pausedTime = 0;\n        this._paused = false;\n        this._life = opts.life || 1000;\n        this._delay = opts.delay || 0;\n        this.loop = opts.loop || false;\n        this.onframe = opts.onframe || noop;\n        this.ondestroy = opts.ondestroy || noop;\n        this.onrestart = opts.onrestart || noop;\n        opts.easing && this.setEasing(opts.easing);\n    }\n    Clip.prototype.step = function (globalTime, deltaTime) {\n        if (!this._inited) {\n            this._startTime = globalTime + this._delay;\n            this._inited = true;\n        }\n        if (this._paused) {\n            this._pausedTime += deltaTime;\n            return;\n        }\n        var life = this._life;\n        var elapsedTime = globalTime - this._startTime - this._pausedTime;\n        var percent = elapsedTime / life;\n        if (percent < 0) {\n            percent = 0;\n        }\n        percent = Math.min(percent, 1);\n        var easingFunc = this.easingFunc;\n        var schedule = easingFunc ? easingFunc(percent) : percent;\n        this.onframe(schedule);\n        if (percent === 1) {\n            if (this.loop) {\n                var remainder = elapsedTime % life;\n                this._startTime = globalTime - remainder;\n                this._pausedTime = 0;\n                this.onrestart();\n            }\n            else {\n                return true;\n            }\n        }\n        return false;\n    };\n    Clip.prototype.pause = function () {\n        this._paused = true;\n    };\n    Clip.prototype.resume = function () {\n        this._paused = false;\n    };\n    Clip.prototype.setEasing = function (easing) {\n        this.easing = easing;\n        this.easingFunc = isFunction(easing)\n            ? easing\n            : easingFuncs[easing] || createCubicEasingFunc(easing);\n    };\n    return Clip;\n}());\nexport default Clip;\n","var Entry = (function () {\n    function Entry(val) {\n        this.value = val;\n    }\n    return Entry;\n}());\nexport { Entry };\nvar LinkedList = (function () {\n    function LinkedList() {\n        this._len = 0;\n    }\n    LinkedList.prototype.insert = function (val) {\n        var entry = new Entry(val);\n        this.insertEntry(entry);\n        return entry;\n    };\n    LinkedList.prototype.insertEntry = function (entry) {\n        if (!this.head) {\n            this.head = this.tail = entry;\n        }\n        else {\n            this.tail.next = entry;\n            entry.prev = this.tail;\n            entry.next = null;\n            this.tail = entry;\n        }\n        this._len++;\n    };\n    LinkedList.prototype.remove = function (entry) {\n        var prev = entry.prev;\n        var next = entry.next;\n        if (prev) {\n            prev.next = next;\n        }\n        else {\n            this.head = next;\n        }\n        if (next) {\n            next.prev = prev;\n        }\n        else {\n            this.tail = prev;\n        }\n        entry.next = entry.prev = null;\n        this._len--;\n    };\n    LinkedList.prototype.len = function () {\n        return this._len;\n    };\n    LinkedList.prototype.clear = function () {\n        this.head = this.tail = null;\n        this._len = 0;\n    };\n    return LinkedList;\n}());\nexport { LinkedList };\nvar LRU = (function () {\n    function LRU(maxSize) {\n        this._list = new LinkedList();\n        this._maxSize = 10;\n        this._map = {};\n        this._maxSize = maxSize;\n    }\n    LRU.prototype.put = function (key, value) {\n        var list = this._list;\n        var map = this._map;\n        var removed = null;\n        if (map[key] == null) {\n            var len = list.len();\n            var entry = this._lastRemovedEntry;\n            if (len >= this._maxSize && len > 0) {\n                var leastUsedEntry = list.head;\n                list.remove(leastUsedEntry);\n                delete map[leastUsedEntry.key];\n                removed = leastUsedEntry.value;\n                this._lastRemovedEntry = leastUsedEntry;\n            }\n            if (entry) {\n                entry.value = value;\n            }\n            else {\n                entry = new Entry(value);\n            }\n            entry.key = key;\n            list.insertEntry(entry);\n            map[key] = entry;\n        }\n        return removed;\n    };\n    LRU.prototype.get = function (key) {\n        var entry = this._map[key];\n        var list = this._list;\n        if (entry != null) {\n            if (entry !== list.tail) {\n                list.remove(entry);\n                list.insertEntry(entry);\n            }\n            return entry.value;\n        }\n    };\n    LRU.prototype.clear = function () {\n        this._list.clear();\n        this._map = {};\n    };\n    LRU.prototype.len = function () {\n        return this._list.len();\n    };\n    return LRU;\n}());\nexport default LRU;\n","import LRU from '../core/LRU.js';\nimport { extend, isGradientObject, isString, map } from '../core/util.js';\nvar kCSSColorTable = {\n    'transparent': [0, 0, 0, 0], 'aliceblue': [240, 248, 255, 1],\n    'antiquewhite': [250, 235, 215, 1], 'aqua': [0, 255, 255, 1],\n    'aquamarine': [127, 255, 212, 1], 'azure': [240, 255, 255, 1],\n    'beige': [245, 245, 220, 1], 'bisque': [255, 228, 196, 1],\n    'black': [0, 0, 0, 1], 'blanchedalmond': [255, 235, 205, 1],\n    'blue': [0, 0, 255, 1], 'blueviolet': [138, 43, 226, 1],\n    'brown': [165, 42, 42, 1], 'burlywood': [222, 184, 135, 1],\n    'cadetblue': [95, 158, 160, 1], 'chartreuse': [127, 255, 0, 1],\n    'chocolate': [210, 105, 30, 1], 'coral': [255, 127, 80, 1],\n    'cornflowerblue': [100, 149, 237, 1], 'cornsilk': [255, 248, 220, 1],\n    'crimson': [220, 20, 60, 1], 'cyan': [0, 255, 255, 1],\n    'darkblue': [0, 0, 139, 1], 'darkcyan': [0, 139, 139, 1],\n    'darkgoldenrod': [184, 134, 11, 1], 'darkgray': [169, 169, 169, 1],\n    'darkgreen': [0, 100, 0, 1], 'darkgrey': [169, 169, 169, 1],\n    'darkkhaki': [189, 183, 107, 1], 'darkmagenta': [139, 0, 139, 1],\n    'darkolivegreen': [85, 107, 47, 1], 'darkorange': [255, 140, 0, 1],\n    'darkorchid': [153, 50, 204, 1], 'darkred': [139, 0, 0, 1],\n    'darksalmon': [233, 150, 122, 1], 'darkseagreen': [143, 188, 143, 1],\n    'darkslateblue': [72, 61, 139, 1], 'darkslategray': [47, 79, 79, 1],\n    'darkslategrey': [47, 79, 79, 1], 'darkturquoise': [0, 206, 209, 1],\n    'darkviolet': [148, 0, 211, 1], 'deeppink': [255, 20, 147, 1],\n    'deepskyblue': [0, 191, 255, 1], 'dimgray': [105, 105, 105, 1],\n    'dimgrey': [105, 105, 105, 1], 'dodgerblue': [30, 144, 255, 1],\n    'firebrick': [178, 34, 34, 1], 'floralwhite': [255, 250, 240, 1],\n    'forestgreen': [34, 139, 34, 1], 'fuchsia': [255, 0, 255, 1],\n    'gainsboro': [220, 220, 220, 1], 'ghostwhite': [248, 248, 255, 1],\n    'gold': [255, 215, 0, 1], 'goldenrod': [218, 165, 32, 1],\n    'gray': [128, 128, 128, 1], 'green': [0, 128, 0, 1],\n    'greenyellow': [173, 255, 47, 1], 'grey': [128, 128, 128, 1],\n    'honeydew': [240, 255, 240, 1], 'hotpink': [255, 105, 180, 1],\n    'indianred': [205, 92, 92, 1], 'indigo': [75, 0, 130, 1],\n    'ivory': [255, 255, 240, 1], 'khaki': [240, 230, 140, 1],\n    'lavender': [230, 230, 250, 1], 'lavenderblush': [255, 240, 245, 1],\n    'lawngreen': [124, 252, 0, 1], 'lemonchiffon': [255, 250, 205, 1],\n    'lightblue': [173, 216, 230, 1], 'lightcoral': [240, 128, 128, 1],\n    'lightcyan': [224, 255, 255, 1], 'lightgoldenrodyellow': [250, 250, 210, 1],\n    'lightgray': [211, 211, 211, 1], 'lightgreen': [144, 238, 144, 1],\n    'lightgrey': [211, 211, 211, 1], 'lightpink': [255, 182, 193, 1],\n    'lightsalmon': [255, 160, 122, 1], 'lightseagreen': [32, 178, 170, 1],\n    'lightskyblue': [135, 206, 250, 1], 'lightslategray': [119, 136, 153, 1],\n    'lightslategrey': [119, 136, 153, 1], 'lightsteelblue': [176, 196, 222, 1],\n    'lightyellow': [255, 255, 224, 1], 'lime': [0, 255, 0, 1],\n    'limegreen': [50, 205, 50, 1], 'linen': [250, 240, 230, 1],\n    'magenta': [255, 0, 255, 1], 'maroon': [128, 0, 0, 1],\n    'mediumaquamarine': [102, 205, 170, 1], 'mediumblue': [0, 0, 205, 1],\n    'mediumorchid': [186, 85, 211, 1], 'mediumpurple': [147, 112, 219, 1],\n    'mediumseagreen': [60, 179, 113, 1], 'mediumslateblue': [123, 104, 238, 1],\n    'mediumspringgreen': [0, 250, 154, 1], 'mediumturquoise': [72, 209, 204, 1],\n    'mediumvioletred': [199, 21, 133, 1], 'midnightblue': [25, 25, 112, 1],\n    'mintcream': [245, 255, 250, 1], 'mistyrose': [255, 228, 225, 1],\n    'moccasin': [255, 228, 181, 1], 'navajowhite': [255, 222, 173, 1],\n    'navy': [0, 0, 128, 1], 'oldlace': [253, 245, 230, 1],\n    'olive': [128, 128, 0, 1], 'olivedrab': [107, 142, 35, 1],\n    'orange': [255, 165, 0, 1], 'orangered': [255, 69, 0, 1],\n    'orchid': [218, 112, 214, 1], 'palegoldenrod': [238, 232, 170, 1],\n    'palegreen': [152, 251, 152, 1], 'paleturquoise': [175, 238, 238, 1],\n    'palevioletred': [219, 112, 147, 1], 'papayawhip': [255, 239, 213, 1],\n    'peachpuff': [255, 218, 185, 1], 'peru': [205, 133, 63, 1],\n    'pink': [255, 192, 203, 1], 'plum': [221, 160, 221, 1],\n    'powderblue': [176, 224, 230, 1], 'purple': [128, 0, 128, 1],\n    'red': [255, 0, 0, 1], 'rosybrown': [188, 143, 143, 1],\n    'royalblue': [65, 105, 225, 1], 'saddlebrown': [139, 69, 19, 1],\n    'salmon': [250, 128, 114, 1], 'sandybrown': [244, 164, 96, 1],\n    'seagreen': [46, 139, 87, 1], 'seashell': [255, 245, 238, 1],\n    'sienna': [160, 82, 45, 1], 'silver': [192, 192, 192, 1],\n    'skyblue': [135, 206, 235, 1], 'slateblue': [106, 90, 205, 1],\n    'slategray': [112, 128, 144, 1], 'slategrey': [112, 128, 144, 1],\n    'snow': [255, 250, 250, 1], 'springgreen': [0, 255, 127, 1],\n    'steelblue': [70, 130, 180, 1], 'tan': [210, 180, 140, 1],\n    'teal': [0, 128, 128, 1], 'thistle': [216, 191, 216, 1],\n    'tomato': [255, 99, 71, 1], 'turquoise': [64, 224, 208, 1],\n    'violet': [238, 130, 238, 1], 'wheat': [245, 222, 179, 1],\n    'white': [255, 255, 255, 1], 'whitesmoke': [245, 245, 245, 1],\n    'yellow': [255, 255, 0, 1], 'yellowgreen': [154, 205, 50, 1]\n};\nfunction clampCssByte(i) {\n    i = Math.round(i);\n    return i < 0 ? 0 : i > 255 ? 255 : i;\n}\nfunction clampCssAngle(i) {\n    i = Math.round(i);\n    return i < 0 ? 0 : i > 360 ? 360 : i;\n}\nfunction clampCssFloat(f) {\n    return f < 0 ? 0 : f > 1 ? 1 : f;\n}\nfunction parseCssInt(val) {\n    var str = val;\n    if (str.length && str.charAt(str.length - 1) === '%') {\n        return clampCssByte(parseFloat(str) / 100 * 255);\n    }\n    return clampCssByte(parseInt(str, 10));\n}\nfunction parseCssFloat(val) {\n    var str = val;\n    if (str.length && str.charAt(str.length - 1) === '%') {\n        return clampCssFloat(parseFloat(str) / 100);\n    }\n    return clampCssFloat(parseFloat(str));\n}\nfunction cssHueToRgb(m1, m2, h) {\n    if (h < 0) {\n        h += 1;\n    }\n    else if (h > 1) {\n        h -= 1;\n    }\n    if (h * 6 < 1) {\n        return m1 + (m2 - m1) * h * 6;\n    }\n    if (h * 2 < 1) {\n        return m2;\n    }\n    if (h * 3 < 2) {\n        return m1 + (m2 - m1) * (2 / 3 - h) * 6;\n    }\n    return m1;\n}\nfunction lerpNumber(a, b, p) {\n    return a + (b - a) * p;\n}\nfunction setRgba(out, r, g, b, a) {\n    out[0] = r;\n    out[1] = g;\n    out[2] = b;\n    out[3] = a;\n    return out;\n}\nfunction copyRgba(out, a) {\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    return out;\n}\nvar colorCache = new LRU(20);\nvar lastRemovedArr = null;\nfunction putToCache(colorStr, rgbaArr) {\n    if (lastRemovedArr) {\n        copyRgba(lastRemovedArr, rgbaArr);\n    }\n    lastRemovedArr = colorCache.put(colorStr, lastRemovedArr || (rgbaArr.slice()));\n}\nexport function parse(colorStr, rgbaArr) {\n    if (!colorStr) {\n        return;\n    }\n    rgbaArr = rgbaArr || [];\n    var cached = colorCache.get(colorStr);\n    if (cached) {\n        return copyRgba(rgbaArr, cached);\n    }\n    colorStr = colorStr + '';\n    var str = colorStr.replace(/ /g, '').toLowerCase();\n    if (str in kCSSColorTable) {\n        copyRgba(rgbaArr, kCSSColorTable[str]);\n        putToCache(colorStr, rgbaArr);\n        return rgbaArr;\n    }\n    var strLen = str.length;\n    if (str.charAt(0) === '#') {\n        if (strLen === 4 || strLen === 5) {\n            var iv = parseInt(str.slice(1, 4), 16);\n            if (!(iv >= 0 && iv <= 0xfff)) {\n                setRgba(rgbaArr, 0, 0, 0, 1);\n                return;\n            }\n            setRgba(rgbaArr, ((iv & 0xf00) >> 4) | ((iv & 0xf00) >> 8), (iv & 0xf0) | ((iv & 0xf0) >> 4), (iv & 0xf) | ((iv & 0xf) << 4), strLen === 5 ? parseInt(str.slice(4), 16) / 0xf : 1);\n            putToCache(colorStr, rgbaArr);\n            return rgbaArr;\n        }\n        else if (strLen === 7 || strLen === 9) {\n            var iv = parseInt(str.slice(1, 7), 16);\n            if (!(iv >= 0 && iv <= 0xffffff)) {\n                setRgba(rgbaArr, 0, 0, 0, 1);\n                return;\n            }\n            setRgba(rgbaArr, (iv & 0xff0000) >> 16, (iv & 0xff00) >> 8, iv & 0xff, strLen === 9 ? parseInt(str.slice(7), 16) / 0xff : 1);\n            putToCache(colorStr, rgbaArr);\n            return rgbaArr;\n        }\n        return;\n    }\n    var op = str.indexOf('(');\n    var ep = str.indexOf(')');\n    if (op !== -1 && ep + 1 === strLen) {\n        var fname = str.substr(0, op);\n        var params = str.substr(op + 1, ep - (op + 1)).split(',');\n        var alpha = 1;\n        switch (fname) {\n            case 'rgba':\n                if (params.length !== 4) {\n                    return params.length === 3\n                        ? setRgba(rgbaArr, +params[0], +params[1], +params[2], 1)\n                        : setRgba(rgbaArr, 0, 0, 0, 1);\n                }\n                alpha = parseCssFloat(params.pop());\n            case 'rgb':\n                if (params.length >= 3) {\n                    setRgba(rgbaArr, parseCssInt(params[0]), parseCssInt(params[1]), parseCssInt(params[2]), params.length === 3 ? alpha : parseCssFloat(params[3]));\n                    putToCache(colorStr, rgbaArr);\n                    return rgbaArr;\n                }\n                else {\n                    setRgba(rgbaArr, 0, 0, 0, 1);\n                    return;\n                }\n            case 'hsla':\n                if (params.length !== 4) {\n                    setRgba(rgbaArr, 0, 0, 0, 1);\n                    return;\n                }\n                params[3] = parseCssFloat(params[3]);\n                hsla2rgba(params, rgbaArr);\n                putToCache(colorStr, rgbaArr);\n                return rgbaArr;\n            case 'hsl':\n                if (params.length !== 3) {\n                    setRgba(rgbaArr, 0, 0, 0, 1);\n                    return;\n                }\n                hsla2rgba(params, rgbaArr);\n                putToCache(colorStr, rgbaArr);\n                return rgbaArr;\n            default:\n                return;\n        }\n    }\n    setRgba(rgbaArr, 0, 0, 0, 1);\n    return;\n}\nfunction hsla2rgba(hsla, rgba) {\n    var h = (((parseFloat(hsla[0]) % 360) + 360) % 360) / 360;\n    var s = parseCssFloat(hsla[1]);\n    var l = parseCssFloat(hsla[2]);\n    var m2 = l <= 0.5 ? l * (s + 1) : l + s - l * s;\n    var m1 = l * 2 - m2;\n    rgba = rgba || [];\n    setRgba(rgba, clampCssByte(cssHueToRgb(m1, m2, h + 1 / 3) * 255), clampCssByte(cssHueToRgb(m1, m2, h) * 255), clampCssByte(cssHueToRgb(m1, m2, h - 1 / 3) * 255), 1);\n    if (hsla.length === 4) {\n        rgba[3] = hsla[3];\n    }\n    return rgba;\n}\nfunction rgba2hsla(rgba) {\n    if (!rgba) {\n        return;\n    }\n    var R = rgba[0] / 255;\n    var G = rgba[1] / 255;\n    var B = rgba[2] / 255;\n    var vMin = Math.min(R, G, B);\n    var vMax = Math.max(R, G, B);\n    var delta = vMax - vMin;\n    var L = (vMax + vMin) / 2;\n    var H;\n    var S;\n    if (delta === 0) {\n        H = 0;\n        S = 0;\n    }\n    else {\n        if (L < 0.5) {\n            S = delta / (vMax + vMin);\n        }\n        else {\n            S = delta / (2 - vMax - vMin);\n        }\n        var deltaR = (((vMax - R) / 6) + (delta / 2)) / delta;\n        var deltaG = (((vMax - G) / 6) + (delta / 2)) / delta;\n        var deltaB = (((vMax - B) / 6) + (delta / 2)) / delta;\n        if (R === vMax) {\n            H = deltaB - deltaG;\n        }\n        else if (G === vMax) {\n            H = (1 / 3) + deltaR - deltaB;\n        }\n        else if (B === vMax) {\n            H = (2 / 3) + deltaG - deltaR;\n        }\n        if (H < 0) {\n            H += 1;\n        }\n        if (H > 1) {\n            H -= 1;\n        }\n    }\n    var hsla = [H * 360, S, L];\n    if (rgba[3] != null) {\n        hsla.push(rgba[3]);\n    }\n    return hsla;\n}\nexport function lift(color, level) {\n    var colorArr = parse(color);\n    if (colorArr) {\n        for (var i = 0; i < 3; i++) {\n            if (level < 0) {\n                colorArr[i] = colorArr[i] * (1 - level) | 0;\n            }\n            else {\n                colorArr[i] = ((255 - colorArr[i]) * level + colorArr[i]) | 0;\n            }\n            if (colorArr[i] > 255) {\n                colorArr[i] = 255;\n            }\n            else if (colorArr[i] < 0) {\n                colorArr[i] = 0;\n            }\n        }\n        return stringify(colorArr, colorArr.length === 4 ? 'rgba' : 'rgb');\n    }\n}\nexport function toHex(color) {\n    var colorArr = parse(color);\n    if (colorArr) {\n        return ((1 << 24) + (colorArr[0] << 16) + (colorArr[1] << 8) + (+colorArr[2])).toString(16).slice(1);\n    }\n}\nexport function fastLerp(normalizedValue, colors, out) {\n    if (!(colors && colors.length)\n        || !(normalizedValue >= 0 && normalizedValue <= 1)) {\n        return;\n    }\n    out = out || [];\n    var value = normalizedValue * (colors.length - 1);\n    var leftIndex = Math.floor(value);\n    var rightIndex = Math.ceil(value);\n    var leftColor = colors[leftIndex];\n    var rightColor = colors[rightIndex];\n    var dv = value - leftIndex;\n    out[0] = clampCssByte(lerpNumber(leftColor[0], rightColor[0], dv));\n    out[1] = clampCssByte(lerpNumber(leftColor[1], rightColor[1], dv));\n    out[2] = clampCssByte(lerpNumber(leftColor[2], rightColor[2], dv));\n    out[3] = clampCssFloat(lerpNumber(leftColor[3], rightColor[3], dv));\n    return out;\n}\nexport var fastMapToColor = fastLerp;\nexport function lerp(normalizedValue, colors, fullOutput) {\n    if (!(colors && colors.length)\n        || !(normalizedValue >= 0 && normalizedValue <= 1)) {\n        return;\n    }\n    var value = normalizedValue * (colors.length - 1);\n    var leftIndex = Math.floor(value);\n    var rightIndex = Math.ceil(value);\n    var leftColor = parse(colors[leftIndex]);\n    var rightColor = parse(colors[rightIndex]);\n    var dv = value - leftIndex;\n    var color = stringify([\n        clampCssByte(lerpNumber(leftColor[0], rightColor[0], dv)),\n        clampCssByte(lerpNumber(leftColor[1], rightColor[1], dv)),\n        clampCssByte(lerpNumber(leftColor[2], rightColor[2], dv)),\n        clampCssFloat(lerpNumber(leftColor[3], rightColor[3], dv))\n    ], 'rgba');\n    return fullOutput\n        ? {\n            color: color,\n            leftIndex: leftIndex,\n            rightIndex: rightIndex,\n            value: value\n        }\n        : color;\n}\nexport var mapToColor = lerp;\nexport function modifyHSL(color, h, s, l) {\n    var colorArr = parse(color);\n    if (color) {\n        colorArr = rgba2hsla(colorArr);\n        h != null && (colorArr[0] = clampCssAngle(h));\n        s != null && (colorArr[1] = parseCssFloat(s));\n        l != null && (colorArr[2] = parseCssFloat(l));\n        return stringify(hsla2rgba(colorArr), 'rgba');\n    }\n}\nexport function modifyAlpha(color, alpha) {\n    var colorArr = parse(color);\n    if (colorArr && alpha != null) {\n        colorArr[3] = clampCssFloat(alpha);\n        return stringify(colorArr, 'rgba');\n    }\n}\nexport function stringify(arrColor, type) {\n    if (!arrColor || !arrColor.length) {\n        return;\n    }\n    var colorStr = arrColor[0] + ',' + arrColor[1] + ',' + arrColor[2];\n    if (type === 'rgba' || type === 'hsva' || type === 'hsla') {\n        colorStr += ',' + arrColor[3];\n    }\n    return type + '(' + colorStr + ')';\n}\nexport function lum(color, backgroundLum) {\n    var arr = parse(color);\n    return arr\n        ? (0.299 * arr[0] + 0.587 * arr[1] + 0.114 * arr[2]) * arr[3] / 255\n            + (1 - arr[3]) * backgroundLum\n        : 0;\n}\nexport function random() {\n    return stringify([\n        Math.round(Math.random() * 255),\n        Math.round(Math.random() * 255),\n        Math.round(Math.random() * 255)\n    ], 'rgb');\n}\nvar liftedColorCache = new LRU(100);\nexport function liftColor(color) {\n    if (isString(color)) {\n        var liftedColor = liftedColorCache.get(color);\n        if (!liftedColor) {\n            liftedColor = lift(color, -0.1);\n            liftedColorCache.put(color, liftedColor);\n        }\n        return liftedColor;\n    }\n    else if (isGradientObject(color)) {\n        var ret = extend({}, color);\n        ret.colorStops = map(color.colorStops, function (stop) { return ({\n            offset: stop.offset,\n            color: lift(stop.color, -0.1)\n        }); });\n        return ret;\n    }\n    return color;\n}\n","import { RADIAN_TO_DEGREE, retrieve2, logError, isFunction } from '../core/util.js';\nimport { parse } from '../tool/color.js';\nimport env from '../core/env.js';\nvar mathRound = Math.round;\nexport function normalizeColor(color) {\n    var opacity;\n    if (!color || color === 'transparent') {\n        color = 'none';\n    }\n    else if (typeof color === 'string' && color.indexOf('rgba') > -1) {\n        var arr = parse(color);\n        if (arr) {\n            color = 'rgb(' + arr[0] + ',' + arr[1] + ',' + arr[2] + ')';\n            opacity = arr[3];\n        }\n    }\n    return {\n        color: color,\n        opacity: opacity == null ? 1 : opacity\n    };\n}\nvar EPSILON = 1e-4;\nexport function isAroundZero(transform) {\n    return transform < EPSILON && transform > -EPSILON;\n}\nexport function round3(transform) {\n    return mathRound(transform * 1e3) / 1e3;\n}\nexport function round4(transform) {\n    return mathRound(transform * 1e4) / 1e4;\n}\nexport function round1(transform) {\n    return mathRound(transform * 10) / 10;\n}\nexport function getMatrixStr(m) {\n    return 'matrix('\n        + round3(m[0]) + ','\n        + round3(m[1]) + ','\n        + round3(m[2]) + ','\n        + round3(m[3]) + ','\n        + round4(m[4]) + ','\n        + round4(m[5])\n        + ')';\n}\nexport var TEXT_ALIGN_TO_ANCHOR = {\n    left: 'start',\n    right: 'end',\n    center: 'middle',\n    middle: 'middle'\n};\nexport function adjustTextY(y, lineHeight, textBaseline) {\n    if (textBaseline === 'top') {\n        y += lineHeight / 2;\n    }\n    else if (textBaseline === 'bottom') {\n        y -= lineHeight / 2;\n    }\n    return y;\n}\nexport function hasShadow(style) {\n    return style\n        && (style.shadowBlur || style.shadowOffsetX || style.shadowOffsetY);\n}\nexport function getShadowKey(displayable) {\n    var style = displayable.style;\n    var globalScale = displayable.getGlobalScale();\n    return [\n        style.shadowColor,\n        (style.shadowBlur || 0).toFixed(2),\n        (style.shadowOffsetX || 0).toFixed(2),\n        (style.shadowOffsetY || 0).toFixed(2),\n        globalScale[0],\n        globalScale[1]\n    ].join(',');\n}\nexport function getClipPathsKey(clipPaths) {\n    var key = [];\n    if (clipPaths) {\n        for (var i = 0; i < clipPaths.length; i++) {\n            var clipPath = clipPaths[i];\n            key.push(clipPath.id);\n        }\n    }\n    return key.join(',');\n}\nexport function isImagePattern(val) {\n    return val && (!!val.image);\n}\nexport function isSVGPattern(val) {\n    return val && (!!val.svgElement);\n}\nexport function isPattern(val) {\n    return isImagePattern(val) || isSVGPattern(val);\n}\nexport function isLinearGradient(val) {\n    return val.type === 'linear';\n}\nexport function isRadialGradient(val) {\n    return val.type === 'radial';\n}\nexport function isGradient(val) {\n    return val && (val.type === 'linear'\n        || val.type === 'radial');\n}\nexport function getIdURL(id) {\n    return \"url(#\" + id + \")\";\n}\nexport function getPathPrecision(el) {\n    var scale = el.getGlobalScale();\n    var size = Math.max(scale[0], scale[1]);\n    return Math.max(Math.ceil(Math.log(size) / Math.log(10)), 1);\n}\nexport function getSRTTransformString(transform) {\n    var x = transform.x || 0;\n    var y = transform.y || 0;\n    var rotation = (transform.rotation || 0) * RADIAN_TO_DEGREE;\n    var scaleX = retrieve2(transform.scaleX, 1);\n    var scaleY = retrieve2(transform.scaleY, 1);\n    var skewX = transform.skewX || 0;\n    var skewY = transform.skewY || 0;\n    var res = [];\n    if (x || y) {\n        res.push(\"translate(\" + x + \"px,\" + y + \"px)\");\n    }\n    if (rotation) {\n        res.push(\"rotate(\" + rotation + \")\");\n    }\n    if (scaleX !== 1 || scaleY !== 1) {\n        res.push(\"scale(\" + scaleX + \",\" + scaleY + \")\");\n    }\n    if (skewX || skewY) {\n        res.push(\"skew(\" + mathRound(skewX * RADIAN_TO_DEGREE) + \"deg, \" + mathRound(skewY * RADIAN_TO_DEGREE) + \"deg)\");\n    }\n    return res.join(' ');\n}\nexport var encodeBase64 = (function () {\n    if (env.hasGlobalWindow && isFunction(window.btoa)) {\n        return function (str) {\n            return window.btoa(unescape(encodeURIComponent(str)));\n        };\n    }\n    if (typeof Buffer !== 'undefined') {\n        return function (str) {\n            return Buffer.from(str).toString('base64');\n        };\n    }\n    return function (str) {\n        if (process.env.NODE_ENV !== 'production') {\n            logError('Base64 isn\\'t natively supported in the current environment.');\n        }\n        return null;\n    };\n})();\n","import Clip from './Clip.js';\nimport * as color from '../tool/color.js';\nimport { eqNaN, extend, isArrayLike, isFunction, isGradientObject, isNumber, isString, keys, logError, map } from '../core/util.js';\nimport easingFuncs from './easing.js';\nimport { createCubicEasingFunc } from './cubicEasing.js';\nimport { isLinearGradient, isRadialGradient } from '../svg/helper.js';\n;\nvar arraySlice = Array.prototype.slice;\nfunction interpolateNumber(p0, p1, percent) {\n    return (p1 - p0) * percent + p0;\n}\nfunction interpolate1DArray(out, p0, p1, percent) {\n    var len = p0.length;\n    for (var i = 0; i < len; i++) {\n        out[i] = interpolateNumber(p0[i], p1[i], percent);\n    }\n    return out;\n}\nfunction interpolate2DArray(out, p0, p1, percent) {\n    var len = p0.length;\n    var len2 = len && p0[0].length;\n    for (var i = 0; i < len; i++) {\n        if (!out[i]) {\n            out[i] = [];\n        }\n        for (var j = 0; j < len2; j++) {\n            out[i][j] = interpolateNumber(p0[i][j], p1[i][j], percent);\n        }\n    }\n    return out;\n}\nfunction add1DArray(out, p0, p1, sign) {\n    var len = p0.length;\n    for (var i = 0; i < len; i++) {\n        out[i] = p0[i] + p1[i] * sign;\n    }\n    return out;\n}\nfunction add2DArray(out, p0, p1, sign) {\n    var len = p0.length;\n    var len2 = len && p0[0].length;\n    for (var i = 0; i < len; i++) {\n        if (!out[i]) {\n            out[i] = [];\n        }\n        for (var j = 0; j < len2; j++) {\n            out[i][j] = p0[i][j] + p1[i][j] * sign;\n        }\n    }\n    return out;\n}\nfunction fillColorStops(val0, val1) {\n    var len0 = val0.length;\n    var len1 = val1.length;\n    var shorterArr = len0 > len1 ? val1 : val0;\n    var shorterLen = Math.min(len0, len1);\n    var last = shorterArr[shorterLen - 1] || { color: [0, 0, 0, 0], offset: 0 };\n    for (var i = shorterLen; i < Math.max(len0, len1); i++) {\n        shorterArr.push({\n            offset: last.offset,\n            color: last.color.slice()\n        });\n    }\n}\nfunction fillArray(val0, val1, arrDim) {\n    var arr0 = val0;\n    var arr1 = val1;\n    if (!arr0.push || !arr1.push) {\n        return;\n    }\n    var arr0Len = arr0.length;\n    var arr1Len = arr1.length;\n    if (arr0Len !== arr1Len) {\n        var isPreviousLarger = arr0Len > arr1Len;\n        if (isPreviousLarger) {\n            arr0.length = arr1Len;\n        }\n        else {\n            for (var i = arr0Len; i < arr1Len; i++) {\n                arr0.push(arrDim === 1 ? arr1[i] : arraySlice.call(arr1[i]));\n            }\n        }\n    }\n    var len2 = arr0[0] && arr0[0].length;\n    for (var i = 0; i < arr0.length; i++) {\n        if (arrDim === 1) {\n            if (isNaN(arr0[i])) {\n                arr0[i] = arr1[i];\n            }\n        }\n        else {\n            for (var j = 0; j < len2; j++) {\n                if (isNaN(arr0[i][j])) {\n                    arr0[i][j] = arr1[i][j];\n                }\n            }\n        }\n    }\n}\nexport function cloneValue(value) {\n    if (isArrayLike(value)) {\n        var len = value.length;\n        if (isArrayLike(value[0])) {\n            var ret = [];\n            for (var i = 0; i < len; i++) {\n                ret.push(arraySlice.call(value[i]));\n            }\n            return ret;\n        }\n        return arraySlice.call(value);\n    }\n    return value;\n}\nfunction rgba2String(rgba) {\n    rgba[0] = Math.floor(rgba[0]) || 0;\n    rgba[1] = Math.floor(rgba[1]) || 0;\n    rgba[2] = Math.floor(rgba[2]) || 0;\n    rgba[3] = rgba[3] == null ? 1 : rgba[3];\n    return 'rgba(' + rgba.join(',') + ')';\n}\nfunction guessArrayDim(value) {\n    return isArrayLike(value && value[0]) ? 2 : 1;\n}\nvar VALUE_TYPE_NUMBER = 0;\nvar VALUE_TYPE_1D_ARRAY = 1;\nvar VALUE_TYPE_2D_ARRAY = 2;\nvar VALUE_TYPE_COLOR = 3;\nvar VALUE_TYPE_LINEAR_GRADIENT = 4;\nvar VALUE_TYPE_RADIAL_GRADIENT = 5;\nvar VALUE_TYPE_UNKOWN = 6;\nfunction isGradientValueType(valType) {\n    return valType === VALUE_TYPE_LINEAR_GRADIENT || valType === VALUE_TYPE_RADIAL_GRADIENT;\n}\nfunction isArrayValueType(valType) {\n    return valType === VALUE_TYPE_1D_ARRAY || valType === VALUE_TYPE_2D_ARRAY;\n}\nvar tmpRgba = [0, 0, 0, 0];\nvar Track = (function () {\n    function Track(propName) {\n        this.keyframes = [];\n        this.discrete = false;\n        this._invalid = false;\n        this._needsSort = false;\n        this._lastFr = 0;\n        this._lastFrP = 0;\n        this.propName = propName;\n    }\n    Track.prototype.isFinished = function () {\n        return this._finished;\n    };\n    Track.prototype.setFinished = function () {\n        this._finished = true;\n        if (this._additiveTrack) {\n            this._additiveTrack.setFinished();\n        }\n    };\n    Track.prototype.needsAnimate = function () {\n        return this.keyframes.length >= 1;\n    };\n    Track.prototype.getAdditiveTrack = function () {\n        return this._additiveTrack;\n    };\n    Track.prototype.addKeyframe = function (time, rawValue, easing) {\n        this._needsSort = true;\n        var keyframes = this.keyframes;\n        var len = keyframes.length;\n        var discrete = false;\n        var valType = VALUE_TYPE_UNKOWN;\n        var value = rawValue;\n        if (isArrayLike(rawValue)) {\n            var arrayDim = guessArrayDim(rawValue);\n            valType = arrayDim;\n            if (arrayDim === 1 && !isNumber(rawValue[0])\n                || arrayDim === 2 && !isNumber(rawValue[0][0])) {\n                discrete = true;\n            }\n        }\n        else {\n            if (isNumber(rawValue) && !eqNaN(rawValue)) {\n                valType = VALUE_TYPE_NUMBER;\n            }\n            else if (isString(rawValue)) {\n                if (!isNaN(+rawValue)) {\n                    valType = VALUE_TYPE_NUMBER;\n                }\n                else {\n                    var colorArray = color.parse(rawValue);\n                    if (colorArray) {\n                        value = colorArray;\n                        valType = VALUE_TYPE_COLOR;\n                    }\n                }\n            }\n            else if (isGradientObject(rawValue)) {\n                var parsedGradient = extend({}, value);\n                parsedGradient.colorStops = map(rawValue.colorStops, function (colorStop) { return ({\n                    offset: colorStop.offset,\n                    color: color.parse(colorStop.color)\n                }); });\n                if (isLinearGradient(rawValue)) {\n                    valType = VALUE_TYPE_LINEAR_GRADIENT;\n                }\n                else if (isRadialGradient(rawValue)) {\n                    valType = VALUE_TYPE_RADIAL_GRADIENT;\n                }\n                value = parsedGradient;\n            }\n        }\n        if (len === 0) {\n            this.valType = valType;\n        }\n        else if (valType !== this.valType || valType === VALUE_TYPE_UNKOWN) {\n            discrete = true;\n        }\n        this.discrete = this.discrete || discrete;\n        var kf = {\n            time: time,\n            value: value,\n            rawValue: rawValue,\n            percent: 0\n        };\n        if (easing) {\n            kf.easing = easing;\n            kf.easingFunc = isFunction(easing)\n                ? easing\n                : easingFuncs[easing] || createCubicEasingFunc(easing);\n        }\n        keyframes.push(kf);\n        return kf;\n    };\n    Track.prototype.prepare = function (maxTime, additiveTrack) {\n        var kfs = this.keyframes;\n        if (this._needsSort) {\n            kfs.sort(function (a, b) {\n                return a.time - b.time;\n            });\n        }\n        var valType = this.valType;\n        var kfsLen = kfs.length;\n        var lastKf = kfs[kfsLen - 1];\n        var isDiscrete = this.discrete;\n        var isArr = isArrayValueType(valType);\n        var isGradient = isGradientValueType(valType);\n        for (var i = 0; i < kfsLen; i++) {\n            var kf = kfs[i];\n            var value = kf.value;\n            var lastValue = lastKf.value;\n            kf.percent = kf.time / maxTime;\n            if (!isDiscrete) {\n                if (isArr && i !== kfsLen - 1) {\n                    fillArray(value, lastValue, valType);\n                }\n                else if (isGradient) {\n                    fillColorStops(value.colorStops, lastValue.colorStops);\n                }\n            }\n        }\n        if (!isDiscrete\n            && valType !== VALUE_TYPE_RADIAL_GRADIENT\n            && additiveTrack\n            && this.needsAnimate()\n            && additiveTrack.needsAnimate()\n            && valType === additiveTrack.valType\n            && !additiveTrack._finished) {\n            this._additiveTrack = additiveTrack;\n            var startValue = kfs[0].value;\n            for (var i = 0; i < kfsLen; i++) {\n                if (valType === VALUE_TYPE_NUMBER) {\n                    kfs[i].additiveValue = kfs[i].value - startValue;\n                }\n                else if (valType === VALUE_TYPE_COLOR) {\n                    kfs[i].additiveValue =\n                        add1DArray([], kfs[i].value, startValue, -1);\n                }\n                else if (isArrayValueType(valType)) {\n                    kfs[i].additiveValue = valType === VALUE_TYPE_1D_ARRAY\n                        ? add1DArray([], kfs[i].value, startValue, -1)\n                        : add2DArray([], kfs[i].value, startValue, -1);\n                }\n            }\n        }\n    };\n    Track.prototype.step = function (target, percent) {\n        if (this._finished) {\n            return;\n        }\n        if (this._additiveTrack && this._additiveTrack._finished) {\n            this._additiveTrack = null;\n        }\n        var isAdditive = this._additiveTrack != null;\n        var valueKey = isAdditive ? 'additiveValue' : 'value';\n        var valType = this.valType;\n        var keyframes = this.keyframes;\n        var kfsNum = keyframes.length;\n        var propName = this.propName;\n        var isValueColor = valType === VALUE_TYPE_COLOR;\n        var frameIdx;\n        var lastFrame = this._lastFr;\n        var mathMin = Math.min;\n        var frame;\n        var nextFrame;\n        if (kfsNum === 1) {\n            frame = nextFrame = keyframes[0];\n        }\n        else {\n            if (percent < 0) {\n                frameIdx = 0;\n            }\n            else if (percent < this._lastFrP) {\n                var start = mathMin(lastFrame + 1, kfsNum - 1);\n                for (frameIdx = start; frameIdx >= 0; frameIdx--) {\n                    if (keyframes[frameIdx].percent <= percent) {\n                        break;\n                    }\n                }\n                frameIdx = mathMin(frameIdx, kfsNum - 2);\n            }\n            else {\n                for (frameIdx = lastFrame; frameIdx < kfsNum; frameIdx++) {\n                    if (keyframes[frameIdx].percent > percent) {\n                        break;\n                    }\n                }\n                frameIdx = mathMin(frameIdx - 1, kfsNum - 2);\n            }\n            nextFrame = keyframes[frameIdx + 1];\n            frame = keyframes[frameIdx];\n        }\n        if (!(frame && nextFrame)) {\n            return;\n        }\n        this._lastFr = frameIdx;\n        this._lastFrP = percent;\n        var interval = (nextFrame.percent - frame.percent);\n        var w = interval === 0 ? 1 : mathMin((percent - frame.percent) / interval, 1);\n        if (nextFrame.easingFunc) {\n            w = nextFrame.easingFunc(w);\n        }\n        var targetArr = isAdditive ? this._additiveValue\n            : (isValueColor ? tmpRgba : target[propName]);\n        if ((isArrayValueType(valType) || isValueColor) && !targetArr) {\n            targetArr = this._additiveValue = [];\n        }\n        if (this.discrete) {\n            target[propName] = w < 1 ? frame.rawValue : nextFrame.rawValue;\n        }\n        else if (isArrayValueType(valType)) {\n            valType === VALUE_TYPE_1D_ARRAY\n                ? interpolate1DArray(targetArr, frame[valueKey], nextFrame[valueKey], w)\n                : interpolate2DArray(targetArr, frame[valueKey], nextFrame[valueKey], w);\n        }\n        else if (isGradientValueType(valType)) {\n            var val = frame[valueKey];\n            var nextVal_1 = nextFrame[valueKey];\n            var isLinearGradient_1 = valType === VALUE_TYPE_LINEAR_GRADIENT;\n            target[propName] = {\n                type: isLinearGradient_1 ? 'linear' : 'radial',\n                x: interpolateNumber(val.x, nextVal_1.x, w),\n                y: interpolateNumber(val.y, nextVal_1.y, w),\n                colorStops: map(val.colorStops, function (colorStop, idx) {\n                    var nextColorStop = nextVal_1.colorStops[idx];\n                    return {\n                        offset: interpolateNumber(colorStop.offset, nextColorStop.offset, w),\n                        color: rgba2String(interpolate1DArray([], colorStop.color, nextColorStop.color, w))\n                    };\n                }),\n                global: nextVal_1.global\n            };\n            if (isLinearGradient_1) {\n                target[propName].x2 = interpolateNumber(val.x2, nextVal_1.x2, w);\n                target[propName].y2 = interpolateNumber(val.y2, nextVal_1.y2, w);\n            }\n            else {\n                target[propName].r = interpolateNumber(val.r, nextVal_1.r, w);\n            }\n        }\n        else if (isValueColor) {\n            interpolate1DArray(targetArr, frame[valueKey], nextFrame[valueKey], w);\n            if (!isAdditive) {\n                target[propName] = rgba2String(targetArr);\n            }\n        }\n        else {\n            var value = interpolateNumber(frame[valueKey], nextFrame[valueKey], w);\n            if (isAdditive) {\n                this._additiveValue = value;\n            }\n            else {\n                target[propName] = value;\n            }\n        }\n        if (isAdditive) {\n            this._addToTarget(target);\n        }\n    };\n    Track.prototype._addToTarget = function (target) {\n        var valType = this.valType;\n        var propName = this.propName;\n        var additiveValue = this._additiveValue;\n        if (valType === VALUE_TYPE_NUMBER) {\n            target[propName] = target[propName] + additiveValue;\n        }\n        else if (valType === VALUE_TYPE_COLOR) {\n            color.parse(target[propName], tmpRgba);\n            add1DArray(tmpRgba, tmpRgba, additiveValue, 1);\n            target[propName] = rgba2String(tmpRgba);\n        }\n        else if (valType === VALUE_TYPE_1D_ARRAY) {\n            add1DArray(target[propName], target[propName], additiveValue, 1);\n        }\n        else if (valType === VALUE_TYPE_2D_ARRAY) {\n            add2DArray(target[propName], target[propName], additiveValue, 1);\n        }\n    };\n    return Track;\n}());\nvar Animator = (function () {\n    function Animator(target, loop, allowDiscreteAnimation, additiveTo) {\n        this._tracks = {};\n        this._trackKeys = [];\n        this._maxTime = 0;\n        this._started = 0;\n        this._clip = null;\n        this._target = target;\n        this._loop = loop;\n        if (loop && additiveTo) {\n            logError('Can\\' use additive animation on looped animation.');\n            return;\n        }\n        this._additiveAnimators = additiveTo;\n        this._allowDiscrete = allowDiscreteAnimation;\n    }\n    Animator.prototype.getMaxTime = function () {\n        return this._maxTime;\n    };\n    Animator.prototype.getDelay = function () {\n        return this._delay;\n    };\n    Animator.prototype.getLoop = function () {\n        return this._loop;\n    };\n    Animator.prototype.getTarget = function () {\n        return this._target;\n    };\n    Animator.prototype.changeTarget = function (target) {\n        this._target = target;\n    };\n    Animator.prototype.when = function (time, props, easing) {\n        return this.whenWithKeys(time, props, keys(props), easing);\n    };\n    Animator.prototype.whenWithKeys = function (time, props, propNames, easing) {\n        var tracks = this._tracks;\n        for (var i = 0; i < propNames.length; i++) {\n            var propName = propNames[i];\n            var track = tracks[propName];\n            if (!track) {\n                track = tracks[propName] = new Track(propName);\n                var initialValue = void 0;\n                var additiveTrack = this._getAdditiveTrack(propName);\n                if (additiveTrack) {\n                    var addtiveTrackKfs = additiveTrack.keyframes;\n                    var lastFinalKf = addtiveTrackKfs[addtiveTrackKfs.length - 1];\n                    initialValue = lastFinalKf && lastFinalKf.value;\n                    if (additiveTrack.valType === VALUE_TYPE_COLOR && initialValue) {\n                        initialValue = rgba2String(initialValue);\n                    }\n                }\n                else {\n                    initialValue = this._target[propName];\n                }\n                if (initialValue == null) {\n                    continue;\n                }\n                if (time > 0) {\n                    track.addKeyframe(0, cloneValue(initialValue), easing);\n                }\n                this._trackKeys.push(propName);\n            }\n            track.addKeyframe(time, cloneValue(props[propName]), easing);\n        }\n        this._maxTime = Math.max(this._maxTime, time);\n        return this;\n    };\n    Animator.prototype.pause = function () {\n        this._clip.pause();\n        this._paused = true;\n    };\n    Animator.prototype.resume = function () {\n        this._clip.resume();\n        this._paused = false;\n    };\n    Animator.prototype.isPaused = function () {\n        return !!this._paused;\n    };\n    Animator.prototype.duration = function (duration) {\n        this._maxTime = duration;\n        this._force = true;\n        return this;\n    };\n    Animator.prototype._doneCallback = function () {\n        this._setTracksFinished();\n        this._clip = null;\n        var doneList = this._doneCbs;\n        if (doneList) {\n            var len = doneList.length;\n            for (var i = 0; i < len; i++) {\n                doneList[i].call(this);\n            }\n        }\n    };\n    Animator.prototype._abortedCallback = function () {\n        this._setTracksFinished();\n        var animation = this.animation;\n        var abortedList = this._abortedCbs;\n        if (animation) {\n            animation.removeClip(this._clip);\n        }\n        this._clip = null;\n        if (abortedList) {\n            for (var i = 0; i < abortedList.length; i++) {\n                abortedList[i].call(this);\n            }\n        }\n    };\n    Animator.prototype._setTracksFinished = function () {\n        var tracks = this._tracks;\n        var tracksKeys = this._trackKeys;\n        for (var i = 0; i < tracksKeys.length; i++) {\n            tracks[tracksKeys[i]].setFinished();\n        }\n    };\n    Animator.prototype._getAdditiveTrack = function (trackName) {\n        var additiveTrack;\n        var additiveAnimators = this._additiveAnimators;\n        if (additiveAnimators) {\n            for (var i = 0; i < additiveAnimators.length; i++) {\n                var track = additiveAnimators[i].getTrack(trackName);\n                if (track) {\n                    additiveTrack = track;\n                }\n            }\n        }\n        return additiveTrack;\n    };\n    Animator.prototype.start = function (easing) {\n        if (this._started > 0) {\n            return;\n        }\n        this._started = 1;\n        var self = this;\n        var tracks = [];\n        var maxTime = this._maxTime || 0;\n        for (var i = 0; i < this._trackKeys.length; i++) {\n            var propName = this._trackKeys[i];\n            var track = this._tracks[propName];\n            var additiveTrack = this._getAdditiveTrack(propName);\n            var kfs = track.keyframes;\n            var kfsNum = kfs.length;\n            track.prepare(maxTime, additiveTrack);\n            if (track.needsAnimate()) {\n                if (!this._allowDiscrete && track.discrete) {\n                    var lastKf = kfs[kfsNum - 1];\n                    if (lastKf) {\n                        self._target[track.propName] = lastKf.rawValue;\n                    }\n                    track.setFinished();\n                }\n                else {\n                    tracks.push(track);\n                }\n            }\n        }\n        if (tracks.length || this._force) {\n            var clip = new Clip({\n                life: maxTime,\n                loop: this._loop,\n                delay: this._delay || 0,\n                onframe: function (percent) {\n                    self._started = 2;\n                    var additiveAnimators = self._additiveAnimators;\n                    if (additiveAnimators) {\n                        var stillHasAdditiveAnimator = false;\n                        for (var i = 0; i < additiveAnimators.length; i++) {\n                            if (additiveAnimators[i]._clip) {\n                                stillHasAdditiveAnimator = true;\n                                break;\n                            }\n                        }\n                        if (!stillHasAdditiveAnimator) {\n                            self._additiveAnimators = null;\n                        }\n                    }\n                    for (var i = 0; i < tracks.length; i++) {\n                        tracks[i].step(self._target, percent);\n                    }\n                    var onframeList = self._onframeCbs;\n                    if (onframeList) {\n                        for (var i = 0; i < onframeList.length; i++) {\n                            onframeList[i](self._target, percent);\n                        }\n                    }\n                },\n                ondestroy: function () {\n                    self._doneCallback();\n                }\n            });\n            this._clip = clip;\n            if (this.animation) {\n                this.animation.addClip(clip);\n            }\n            if (easing) {\n                clip.setEasing(easing);\n            }\n        }\n        else {\n            this._doneCallback();\n        }\n        return this;\n    };\n    Animator.prototype.stop = function (forwardToLast) {\n        if (!this._clip) {\n            return;\n        }\n        var clip = this._clip;\n        if (forwardToLast) {\n            clip.onframe(1);\n        }\n        this._abortedCallback();\n    };\n    Animator.prototype.delay = function (time) {\n        this._delay = time;\n        return this;\n    };\n    Animator.prototype.during = function (cb) {\n        if (cb) {\n            if (!this._onframeCbs) {\n                this._onframeCbs = [];\n            }\n            this._onframeCbs.push(cb);\n        }\n        return this;\n    };\n    Animator.prototype.done = function (cb) {\n        if (cb) {\n            if (!this._doneCbs) {\n                this._doneCbs = [];\n            }\n            this._doneCbs.push(cb);\n        }\n        return this;\n    };\n    Animator.prototype.aborted = function (cb) {\n        if (cb) {\n            if (!this._abortedCbs) {\n                this._abortedCbs = [];\n            }\n            this._abortedCbs.push(cb);\n        }\n        return this;\n    };\n    Animator.prototype.getClip = function () {\n        return this._clip;\n    };\n    Animator.prototype.getTrack = function (propName) {\n        return this._tracks[propName];\n    };\n    Animator.prototype.getTracks = function () {\n        var _this = this;\n        return map(this._trackKeys, function (key) { return _this._tracks[key]; });\n    };\n    Animator.prototype.stopTracks = function (propNames, forwardToLast) {\n        if (!propNames.length || !this._clip) {\n            return true;\n        }\n        var tracks = this._tracks;\n        var tracksKeys = this._trackKeys;\n        for (var i = 0; i < propNames.length; i++) {\n            var track = tracks[propNames[i]];\n            if (track && !track.isFinished()) {\n                if (forwardToLast) {\n                    track.step(this._target, 1);\n                }\n                else if (this._started === 1) {\n                    track.step(this._target, 0);\n                }\n                track.setFinished();\n            }\n        }\n        var allAborted = true;\n        for (var i = 0; i < tracksKeys.length; i++) {\n            if (!tracks[tracksKeys[i]].isFinished()) {\n                allAborted = false;\n                break;\n            }\n        }\n        if (allAborted) {\n            this._abortedCallback();\n        }\n        return allAborted;\n    };\n    Animator.prototype.saveTo = function (target, trackKeys, firstOrLast) {\n        if (!target) {\n            return;\n        }\n        trackKeys = trackKeys || this._trackKeys;\n        for (var i = 0; i < trackKeys.length; i++) {\n            var propName = trackKeys[i];\n            var track = this._tracks[propName];\n            if (!track || track.isFinished()) {\n                continue;\n            }\n            var kfs = track.keyframes;\n            var kf = kfs[firstOrLast ? 0 : kfs.length - 1];\n            if (kf) {\n                target[propName] = cloneValue(kf.rawValue);\n            }\n        }\n    };\n    Animator.prototype.__changeFinalValue = function (finalProps, trackKeys) {\n        trackKeys = trackKeys || keys(finalProps);\n        for (var i = 0; i < trackKeys.length; i++) {\n            var propName = trackKeys[i];\n            var track = this._tracks[propName];\n            if (!track) {\n                continue;\n            }\n            var kfs = track.keyframes;\n            if (kfs.length > 1) {\n                var lastKf = kfs.pop();\n                track.addKeyframe(lastKf.time, finalProps[propName]);\n                track.prepare(this._maxTime, track.getAdditiveTrack());\n            }\n        }\n    };\n    return Animator;\n}());\nexport default Animator;\n","import { __extends } from \"tslib\";\nimport Eventful from '../core/Eventful.js';\nimport requestAnimationFrame from './requestAnimationFrame.js';\nimport Animator from './Animator.js';\nexport function getTime() {\n    return new Date().getTime();\n}\nvar Animation = (function (_super) {\n    __extends(Animation, _super);\n    function Animation(opts) {\n        var _this = _super.call(this) || this;\n        _this._running = false;\n        _this._time = 0;\n        _this._pausedTime = 0;\n        _this._pauseStart = 0;\n        _this._paused = false;\n        opts = opts || {};\n        _this.stage = opts.stage || {};\n        return _this;\n    }\n    Animation.prototype.addClip = function (clip) {\n        if (clip.animation) {\n            this.removeClip(clip);\n        }\n        if (!this._head) {\n            this._head = this._tail = clip;\n        }\n        else {\n            this._tail.next = clip;\n            clip.prev = this._tail;\n            clip.next = null;\n            this._tail = clip;\n        }\n        clip.animation = this;\n    };\n    Animation.prototype.addAnimator = function (animator) {\n        animator.animation = this;\n        var clip = animator.getClip();\n        if (clip) {\n            this.addClip(clip);\n        }\n    };\n    Animation.prototype.removeClip = function (clip) {\n        if (!clip.animation) {\n            return;\n        }\n        var prev = clip.prev;\n        var next = clip.next;\n        if (prev) {\n            prev.next = next;\n        }\n        else {\n            this._head = next;\n        }\n        if (next) {\n            next.prev = prev;\n        }\n        else {\n            this._tail = prev;\n        }\n        clip.next = clip.prev = clip.animation = null;\n    };\n    Animation.prototype.removeAnimator = function (animator) {\n        var clip = animator.getClip();\n        if (clip) {\n            this.removeClip(clip);\n        }\n        animator.animation = null;\n    };\n    Animation.prototype.update = function (notTriggerFrameAndStageUpdate) {\n        var time = getTime() - this._pausedTime;\n        var delta = time - this._time;\n        var clip = this._head;\n        while (clip) {\n            var nextClip = clip.next;\n            var finished = clip.step(time, delta);\n            if (finished) {\n                clip.ondestroy();\n                this.removeClip(clip);\n                clip = nextClip;\n            }\n            else {\n                clip = nextClip;\n            }\n        }\n        this._time = time;\n        if (!notTriggerFrameAndStageUpdate) {\n            this.trigger('frame', delta);\n            this.stage.update && this.stage.update();\n        }\n    };\n    Animation.prototype._startLoop = function () {\n        var self = this;\n        this._running = true;\n        function step() {\n            if (self._running) {\n                requestAnimationFrame(step);\n                !self._paused && self.update();\n            }\n        }\n        requestAnimationFrame(step);\n    };\n    Animation.prototype.start = function () {\n        if (this._running) {\n            return;\n        }\n        this._time = getTime();\n        this._pausedTime = 0;\n        this._startLoop();\n    };\n    Animation.prototype.stop = function () {\n        this._running = false;\n    };\n    Animation.prototype.pause = function () {\n        if (!this._paused) {\n            this._pauseStart = getTime();\n            this._paused = true;\n        }\n    };\n    Animation.prototype.resume = function () {\n        if (this._paused) {\n            this._pausedTime += getTime() - this._pauseStart;\n            this._paused = false;\n        }\n    };\n    Animation.prototype.clear = function () {\n        var clip = this._head;\n        while (clip) {\n            var nextClip = clip.next;\n            clip.prev = clip.next = clip.animation = null;\n            clip = nextClip;\n        }\n        this._head = this._tail = null;\n    };\n    Animation.prototype.isFinished = function () {\n        return this._head == null;\n    };\n    Animation.prototype.animate = function (target, options) {\n        options = options || {};\n        this.start();\n        var animator = new Animator(target, options.loop);\n        this.addAnimator(animator);\n        return animator;\n    };\n    return Animation;\n}(Eventful));\nexport default Animation;\n","import { __extends } from \"tslib\";\nimport { addEventListener, removeEventListener, normalizeEvent, getNativeEvent } from '../core/event.js';\nimport * as zrUtil from '../core/util.js';\nimport Eventful from '../core/Eventful.js';\nimport env from '../core/env.js';\nvar TOUCH_CLICK_DELAY = 300;\nvar globalEventSupported = env.domSupported;\nvar localNativeListenerNames = (function () {\n    var mouseHandlerNames = [\n        'click', 'dblclick', 'mousewheel', 'wheel', 'mouseout',\n        'mouseup', 'mousedown', 'mousemove', 'contextmenu'\n    ];\n    var touchHandlerNames = [\n        'touchstart', 'touchend', 'touchmove'\n    ];\n    var pointerEventNameMap = {\n        pointerdown: 1, pointerup: 1, pointermove: 1, pointerout: 1\n    };\n    var pointerHandlerNames = zrUtil.map(mouseHandlerNames, function (name) {\n        var nm = name.replace('mouse', 'pointer');\n        return pointerEventNameMap.hasOwnProperty(nm) ? nm : name;\n    });\n    return {\n        mouse: mouseHandlerNames,\n        touch: touchHandlerNames,\n        pointer: pointerHandlerNames\n    };\n})();\nvar globalNativeListenerNames = {\n    mouse: ['mousemove', 'mouseup'],\n    pointer: ['pointermove', 'pointerup']\n};\nvar wheelEventSupported = false;\nfunction isPointerFromTouch(event) {\n    var pointerType = event.pointerType;\n    return pointerType === 'pen' || pointerType === 'touch';\n}\nfunction setTouchTimer(scope) {\n    scope.touching = true;\n    if (scope.touchTimer != null) {\n        clearTimeout(scope.touchTimer);\n        scope.touchTimer = null;\n    }\n    scope.touchTimer = setTimeout(function () {\n        scope.touching = false;\n        scope.touchTimer = null;\n    }, 700);\n}\nfunction markTouch(event) {\n    event && (event.zrByTouch = true);\n}\nfunction normalizeGlobalEvent(instance, event) {\n    return normalizeEvent(instance.dom, new FakeGlobalEvent(instance, event), true);\n}\nfunction isLocalEl(instance, el) {\n    var elTmp = el;\n    var isLocal = false;\n    while (elTmp && elTmp.nodeType !== 9\n        && !(isLocal = elTmp.domBelongToZr\n            || (elTmp !== el && elTmp === instance.painterRoot))) {\n        elTmp = elTmp.parentNode;\n    }\n    return isLocal;\n}\nvar FakeGlobalEvent = (function () {\n    function FakeGlobalEvent(instance, event) {\n        this.stopPropagation = zrUtil.noop;\n        this.stopImmediatePropagation = zrUtil.noop;\n        this.preventDefault = zrUtil.noop;\n        this.type = event.type;\n        this.target = this.currentTarget = instance.dom;\n        this.pointerType = event.pointerType;\n        this.clientX = event.clientX;\n        this.clientY = event.clientY;\n    }\n    return FakeGlobalEvent;\n}());\nvar localDOMHandlers = {\n    mousedown: function (event) {\n        event = normalizeEvent(this.dom, event);\n        this.__mayPointerCapture = [event.zrX, event.zrY];\n        this.trigger('mousedown', event);\n    },\n    mousemove: function (event) {\n        event = normalizeEvent(this.dom, event);\n        var downPoint = this.__mayPointerCapture;\n        if (downPoint && (event.zrX !== downPoint[0] || event.zrY !== downPoint[1])) {\n            this.__togglePointerCapture(true);\n        }\n        this.trigger('mousemove', event);\n    },\n    mouseup: function (event) {\n        event = normalizeEvent(this.dom, event);\n        this.__togglePointerCapture(false);\n        this.trigger('mouseup', event);\n    },\n    mouseout: function (event) {\n        event = normalizeEvent(this.dom, event);\n        var element = event.toElement || event.relatedTarget;\n        if (!isLocalEl(this, element)) {\n            if (this.__pointerCapturing) {\n                event.zrEventControl = 'no_globalout';\n            }\n            this.trigger('mouseout', event);\n        }\n    },\n    wheel: function (event) {\n        wheelEventSupported = true;\n        event = normalizeEvent(this.dom, event);\n        this.trigger('mousewheel', event);\n    },\n    mousewheel: function (event) {\n        if (wheelEventSupported) {\n            return;\n        }\n        event = normalizeEvent(this.dom, event);\n        this.trigger('mousewheel', event);\n    },\n    touchstart: function (event) {\n        event = normalizeEvent(this.dom, event);\n        markTouch(event);\n        this.__lastTouchMoment = new Date();\n        this.handler.processGesture(event, 'start');\n        localDOMHandlers.mousemove.call(this, event);\n        localDOMHandlers.mousedown.call(this, event);\n    },\n    touchmove: function (event) {\n        event = normalizeEvent(this.dom, event);\n        markTouch(event);\n        this.handler.processGesture(event, 'change');\n        localDOMHandlers.mousemove.call(this, event);\n    },\n    touchend: function (event) {\n        event = normalizeEvent(this.dom, event);\n        markTouch(event);\n        this.handler.processGesture(event, 'end');\n        localDOMHandlers.mouseup.call(this, event);\n        if (+new Date() - (+this.__lastTouchMoment) < TOUCH_CLICK_DELAY) {\n            localDOMHandlers.click.call(this, event);\n        }\n    },\n    pointerdown: function (event) {\n        localDOMHandlers.mousedown.call(this, event);\n    },\n    pointermove: function (event) {\n        if (!isPointerFromTouch(event)) {\n            localDOMHandlers.mousemove.call(this, event);\n        }\n    },\n    pointerup: function (event) {\n        localDOMHandlers.mouseup.call(this, event);\n    },\n    pointerout: function (event) {\n        if (!isPointerFromTouch(event)) {\n            localDOMHandlers.mouseout.call(this, event);\n        }\n    }\n};\nzrUtil.each(['click', 'dblclick', 'contextmenu'], function (name) {\n    localDOMHandlers[name] = function (event) {\n        event = normalizeEvent(this.dom, event);\n        this.trigger(name, event);\n    };\n});\nvar globalDOMHandlers = {\n    pointermove: function (event) {\n        if (!isPointerFromTouch(event)) {\n            globalDOMHandlers.mousemove.call(this, event);\n        }\n    },\n    pointerup: function (event) {\n        globalDOMHandlers.mouseup.call(this, event);\n    },\n    mousemove: function (event) {\n        this.trigger('mousemove', event);\n    },\n    mouseup: function (event) {\n        var pointerCaptureReleasing = this.__pointerCapturing;\n        this.__togglePointerCapture(false);\n        this.trigger('mouseup', event);\n        if (pointerCaptureReleasing) {\n            event.zrEventControl = 'only_globalout';\n            this.trigger('mouseout', event);\n        }\n    }\n};\nfunction mountLocalDOMEventListeners(instance, scope) {\n    var domHandlers = scope.domHandlers;\n    if (env.pointerEventsSupported) {\n        zrUtil.each(localNativeListenerNames.pointer, function (nativeEventName) {\n            mountSingleDOMEventListener(scope, nativeEventName, function (event) {\n                domHandlers[nativeEventName].call(instance, event);\n            });\n        });\n    }\n    else {\n        if (env.touchEventsSupported) {\n            zrUtil.each(localNativeListenerNames.touch, function (nativeEventName) {\n                mountSingleDOMEventListener(scope, nativeEventName, function (event) {\n                    domHandlers[nativeEventName].call(instance, event);\n                    setTouchTimer(scope);\n                });\n            });\n        }\n        zrUtil.each(localNativeListenerNames.mouse, function (nativeEventName) {\n            mountSingleDOMEventListener(scope, nativeEventName, function (event) {\n                event = getNativeEvent(event);\n                if (!scope.touching) {\n                    domHandlers[nativeEventName].call(instance, event);\n                }\n            });\n        });\n    }\n}\nfunction mountGlobalDOMEventListeners(instance, scope) {\n    if (env.pointerEventsSupported) {\n        zrUtil.each(globalNativeListenerNames.pointer, mount);\n    }\n    else if (!env.touchEventsSupported) {\n        zrUtil.each(globalNativeListenerNames.mouse, mount);\n    }\n    function mount(nativeEventName) {\n        function nativeEventListener(event) {\n            event = getNativeEvent(event);\n            if (!isLocalEl(instance, event.target)) {\n                event = normalizeGlobalEvent(instance, event);\n                scope.domHandlers[nativeEventName].call(instance, event);\n            }\n        }\n        mountSingleDOMEventListener(scope, nativeEventName, nativeEventListener, { capture: true });\n    }\n}\nfunction mountSingleDOMEventListener(scope, nativeEventName, listener, opt) {\n    scope.mounted[nativeEventName] = listener;\n    scope.listenerOpts[nativeEventName] = opt;\n    addEventListener(scope.domTarget, nativeEventName, listener, opt);\n}\nfunction unmountDOMEventListeners(scope) {\n    var mounted = scope.mounted;\n    for (var nativeEventName in mounted) {\n        if (mounted.hasOwnProperty(nativeEventName)) {\n            removeEventListener(scope.domTarget, nativeEventName, mounted[nativeEventName], scope.listenerOpts[nativeEventName]);\n        }\n    }\n    scope.mounted = {};\n}\nvar DOMHandlerScope = (function () {\n    function DOMHandlerScope(domTarget, domHandlers) {\n        this.mounted = {};\n        this.listenerOpts = {};\n        this.touching = false;\n        this.domTarget = domTarget;\n        this.domHandlers = domHandlers;\n    }\n    return DOMHandlerScope;\n}());\nvar HandlerDomProxy = (function (_super) {\n    __extends(HandlerDomProxy, _super);\n    function HandlerDomProxy(dom, painterRoot) {\n        var _this = _super.call(this) || this;\n        _this.__pointerCapturing = false;\n        _this.dom = dom;\n        _this.painterRoot = painterRoot;\n        _this._localHandlerScope = new DOMHandlerScope(dom, localDOMHandlers);\n        if (globalEventSupported) {\n            _this._globalHandlerScope = new DOMHandlerScope(document, globalDOMHandlers);\n        }\n        mountLocalDOMEventListeners(_this, _this._localHandlerScope);\n        return _this;\n    }\n    HandlerDomProxy.prototype.dispose = function () {\n        unmountDOMEventListeners(this._localHandlerScope);\n        if (globalEventSupported) {\n            unmountDOMEventListeners(this._globalHandlerScope);\n        }\n    };\n    HandlerDomProxy.prototype.setCursor = function (cursorStyle) {\n        this.dom.style && (this.dom.style.cursor = cursorStyle || 'default');\n    };\n    HandlerDomProxy.prototype.__togglePointerCapture = function (isPointerCapturing) {\n        this.__mayPointerCapture = null;\n        if (globalEventSupported\n            && ((+this.__pointerCapturing) ^ (+isPointerCapturing))) {\n            this.__pointerCapturing = isPointerCapturing;\n            var globalHandlerScope = this._globalHandlerScope;\n            isPointerCapturing\n                ? mountGlobalDOMEventListeners(this, globalHandlerScope)\n                : unmountDOMEventListeners(globalHandlerScope);\n        }\n    };\n    return HandlerDomProxy;\n}(Eventful));\nexport default HandlerDomProxy;\n","import env from './core/env.js';\nvar dpr = 1;\nif (env.hasGlobalWindow) {\n    dpr = Math.max(window.devicePixelRatio\n        || (window.screen && window.screen.deviceXDPI / window.screen.logicalXDPI)\n        || 1, 1);\n}\nexport var debugMode = 0;\nexport var devicePixelRatio = dpr;\nexport var DARK_MODE_THRESHOLD = 0.4;\nexport var DARK_LABEL_COLOR = '#333';\nexport var LIGHT_LABEL_COLOR = '#ccc';\nexport var LIGHTER_LABEL_COLOR = '#eee';\n","import * as matrix from './matrix.js';\nimport * as vector from './vector.js';\nvar mIdentity = matrix.identity;\nvar EPSILON = 5e-5;\nfunction isNotAroundZero(val) {\n    return val > EPSILON || val < -EPSILON;\n}\nvar scaleTmp = [];\nvar tmpTransform = [];\nvar originTransform = matrix.create();\nvar abs = Math.abs;\nvar Transformable = (function () {\n    function Transformable() {\n    }\n    Transformable.prototype.getLocalTransform = function (m) {\n        return Transformable.getLocalTransform(this, m);\n    };\n    Transformable.prototype.setPosition = function (arr) {\n        this.x = arr[0];\n        this.y = arr[1];\n    };\n    Transformable.prototype.setScale = function (arr) {\n        this.scaleX = arr[0];\n        this.scaleY = arr[1];\n    };\n    Transformable.prototype.setSkew = function (arr) {\n        this.skewX = arr[0];\n        this.skewY = arr[1];\n    };\n    Transformable.prototype.setOrigin = function (arr) {\n        this.originX = arr[0];\n        this.originY = arr[1];\n    };\n    Transformable.prototype.needLocalTransform = function () {\n        return isNotAroundZero(this.rotation)\n            || isNotAroundZero(this.x)\n            || isNotAroundZero(this.y)\n            || isNotAroundZero(this.scaleX - 1)\n            || isNotAroundZero(this.scaleY - 1)\n            || isNotAroundZero(this.skewX)\n            || isNotAroundZero(this.skewY);\n    };\n    Transformable.prototype.updateTransform = function () {\n        var parentTransform = this.parent && this.parent.transform;\n        var needLocalTransform = this.needLocalTransform();\n        var m = this.transform;\n        if (!(needLocalTransform || parentTransform)) {\n            if (m) {\n                mIdentity(m);\n                this.invTransform = null;\n            }\n            return;\n        }\n        m = m || matrix.create();\n        if (needLocalTransform) {\n            this.getLocalTransform(m);\n        }\n        else {\n            mIdentity(m);\n        }\n        if (parentTransform) {\n            if (needLocalTransform) {\n                matrix.mul(m, parentTransform, m);\n            }\n            else {\n                matrix.copy(m, parentTransform);\n            }\n        }\n        this.transform = m;\n        this._resolveGlobalScaleRatio(m);\n    };\n    Transformable.prototype._resolveGlobalScaleRatio = function (m) {\n        var globalScaleRatio = this.globalScaleRatio;\n        if (globalScaleRatio != null && globalScaleRatio !== 1) {\n            this.getGlobalScale(scaleTmp);\n            var relX = scaleTmp[0] < 0 ? -1 : 1;\n            var relY = scaleTmp[1] < 0 ? -1 : 1;\n            var sx = ((scaleTmp[0] - relX) * globalScaleRatio + relX) / scaleTmp[0] || 0;\n            var sy = ((scaleTmp[1] - relY) * globalScaleRatio + relY) / scaleTmp[1] || 0;\n            m[0] *= sx;\n            m[1] *= sx;\n            m[2] *= sy;\n            m[3] *= sy;\n        }\n        this.invTransform = this.invTransform || matrix.create();\n        matrix.invert(this.invTransform, m);\n    };\n    Transformable.prototype.getComputedTransform = function () {\n        var transformNode = this;\n        var ancestors = [];\n        while (transformNode) {\n            ancestors.push(transformNode);\n            transformNode = transformNode.parent;\n        }\n        while (transformNode = ancestors.pop()) {\n            transformNode.updateTransform();\n        }\n        return this.transform;\n    };\n    Transformable.prototype.setLocalTransform = function (m) {\n        if (!m) {\n            return;\n        }\n        var sx = m[0] * m[0] + m[1] * m[1];\n        var sy = m[2] * m[2] + m[3] * m[3];\n        var rotation = Math.atan2(m[1], m[0]);\n        var shearX = Math.PI / 2 + rotation - Math.atan2(m[3], m[2]);\n        sy = Math.sqrt(sy) * Math.cos(shearX);\n        sx = Math.sqrt(sx);\n        this.skewX = shearX;\n        this.skewY = 0;\n        this.rotation = -rotation;\n        this.x = +m[4];\n        this.y = +m[5];\n        this.scaleX = sx;\n        this.scaleY = sy;\n        this.originX = 0;\n        this.originY = 0;\n    };\n    Transformable.prototype.decomposeTransform = function () {\n        if (!this.transform) {\n            return;\n        }\n        var parent = this.parent;\n        var m = this.transform;\n        if (parent && parent.transform) {\n            parent.invTransform = parent.invTransform || matrix.create();\n            matrix.mul(tmpTransform, parent.invTransform, m);\n            m = tmpTransform;\n        }\n        var ox = this.originX;\n        var oy = this.originY;\n        if (ox || oy) {\n            originTransform[4] = ox;\n            originTransform[5] = oy;\n            matrix.mul(tmpTransform, m, originTransform);\n            tmpTransform[4] -= ox;\n            tmpTransform[5] -= oy;\n            m = tmpTransform;\n        }\n        this.setLocalTransform(m);\n    };\n    Transformable.prototype.getGlobalScale = function (out) {\n        var m = this.transform;\n        out = out || [];\n        if (!m) {\n            out[0] = 1;\n            out[1] = 1;\n            return out;\n        }\n        out[0] = Math.sqrt(m[0] * m[0] + m[1] * m[1]);\n        out[1] = Math.sqrt(m[2] * m[2] + m[3] * m[3]);\n        if (m[0] < 0) {\n            out[0] = -out[0];\n        }\n        if (m[3] < 0) {\n            out[1] = -out[1];\n        }\n        return out;\n    };\n    Transformable.prototype.transformCoordToLocal = function (x, y) {\n        var v2 = [x, y];\n        var invTransform = this.invTransform;\n        if (invTransform) {\n            vector.applyTransform(v2, v2, invTransform);\n        }\n        return v2;\n    };\n    Transformable.prototype.transformCoordToGlobal = function (x, y) {\n        var v2 = [x, y];\n        var transform = this.transform;\n        if (transform) {\n            vector.applyTransform(v2, v2, transform);\n        }\n        return v2;\n    };\n    Transformable.prototype.getLineScale = function () {\n        var m = this.transform;\n        return m && abs(m[0] - 1) > 1e-10 && abs(m[3] - 1) > 1e-10\n            ? Math.sqrt(abs(m[0] * m[3] - m[2] * m[1]))\n            : 1;\n    };\n    Transformable.prototype.copyTransform = function (source) {\n        copyTransform(this, source);\n    };\n    Transformable.getLocalTransform = function (target, m) {\n        m = m || [];\n        var ox = target.originX || 0;\n        var oy = target.originY || 0;\n        var sx = target.scaleX;\n        var sy = target.scaleY;\n        var ax = target.anchorX;\n        var ay = target.anchorY;\n        var rotation = target.rotation || 0;\n        var x = target.x;\n        var y = target.y;\n        var skewX = target.skewX ? Math.tan(target.skewX) : 0;\n        var skewY = target.skewY ? Math.tan(-target.skewY) : 0;\n        if (ox || oy || ax || ay) {\n            var dx = ox + ax;\n            var dy = oy + ay;\n            m[4] = -dx * sx - skewX * dy * sy;\n            m[5] = -dy * sy - skewY * dx * sx;\n        }\n        else {\n            m[4] = m[5] = 0;\n        }\n        m[0] = sx;\n        m[3] = sy;\n        m[1] = skewY * sx;\n        m[2] = skewX * sy;\n        rotation && matrix.rotate(m, m, rotation);\n        m[4] += ox + x;\n        m[5] += oy + y;\n        return m;\n    };\n    Transformable.initDefaultProps = (function () {\n        var proto = Transformable.prototype;\n        proto.scaleX =\n            proto.scaleY =\n                proto.globalScaleRatio = 1;\n        proto.x =\n            proto.y =\n                proto.originX =\n                    proto.originY =\n                        proto.skewX =\n                            proto.skewY =\n                                proto.rotation =\n                                    proto.anchorX =\n                                        proto.anchorY = 0;\n    })();\n    return Transformable;\n}());\n;\nexport var TRANSFORMABLE_PROPS = [\n    'x', 'y', 'originX', 'originY', 'anchorX', 'anchorY', 'rotation', 'scaleX', 'scaleY', 'skewX', 'skewY'\n];\nexport function copyTransform(target, source) {\n    for (var i = 0; i < TRANSFORMABLE_PROPS.length; i++) {\n        var propName = TRANSFORMABLE_PROPS[i];\n        target[propName] = source[propName];\n    }\n}\nexport default Transformable;\n","import BoundingRect from '../core/BoundingRect.js';\nimport LRU from '../core/LRU.js';\nimport { DEFAULT_FONT, platformApi } from '../core/platform.js';\nvar textWidthCache = {};\nexport function getWidth(text, font) {\n    font = font || DEFAULT_FONT;\n    var cacheOfFont = textWidthCache[font];\n    if (!cacheOfFont) {\n        cacheOfFont = textWidthCache[font] = new LRU(500);\n    }\n    var width = cacheOfFont.get(text);\n    if (width == null) {\n        width = platformApi.measureText(text, font).width;\n        cacheOfFont.put(text, width);\n    }\n    return width;\n}\nexport function innerGetBoundingRect(text, font, textAlign, textBaseline) {\n    var width = getWidth(text, font);\n    var height = getLineHeight(font);\n    var x = adjustTextX(0, width, textAlign);\n    var y = adjustTextY(0, height, textBaseline);\n    var rect = new BoundingRect(x, y, width, height);\n    return rect;\n}\nexport function getBoundingRect(text, font, textAlign, textBaseline) {\n    var textLines = ((text || '') + '').split('\\n');\n    var len = textLines.length;\n    if (len === 1) {\n        return innerGetBoundingRect(textLines[0], font, textAlign, textBaseline);\n    }\n    else {\n        var uniondRect = new BoundingRect(0, 0, 0, 0);\n        for (var i = 0; i < textLines.length; i++) {\n            var rect = innerGetBoundingRect(textLines[i], font, textAlign, textBaseline);\n            i === 0 ? uniondRect.copy(rect) : uniondRect.union(rect);\n        }\n        return uniondRect;\n    }\n}\nexport function adjustTextX(x, width, textAlign) {\n    if (textAlign === 'right') {\n        x -= width;\n    }\n    else if (textAlign === 'center') {\n        x -= width / 2;\n    }\n    return x;\n}\nexport function adjustTextY(y, height, verticalAlign) {\n    if (verticalAlign === 'middle') {\n        y -= height / 2;\n    }\n    else if (verticalAlign === 'bottom') {\n        y -= height;\n    }\n    return y;\n}\nexport function getLineHeight(font) {\n    return getWidth('', font);\n}\nexport function measureText(text, font) {\n    return platformApi.measureText(text, font);\n}\nexport function parsePercent(value, maxValue) {\n    if (typeof value === 'string') {\n        if (value.lastIndexOf('%') >= 0) {\n            return parseFloat(value) / 100 * maxValue;\n        }\n        return parseFloat(value);\n    }\n    return value;\n}\nexport function calculateTextPosition(out, opts, rect) {\n    var textPosition = opts.position || 'inside';\n    var distance = opts.distance != null ? opts.distance : 5;\n    var height = rect.height;\n    var width = rect.width;\n    var halfHeight = height / 2;\n    var x = rect.x;\n    var y = rect.y;\n    var textAlign = 'left';\n    var textVerticalAlign = 'top';\n    if (textPosition instanceof Array) {\n        x += parsePercent(textPosition[0], rect.width);\n        y += parsePercent(textPosition[1], rect.height);\n        textAlign = null;\n        textVerticalAlign = null;\n    }\n    else {\n        switch (textPosition) {\n            case 'left':\n                x -= distance;\n                y += halfHeight;\n                textAlign = 'right';\n                textVerticalAlign = 'middle';\n                break;\n            case 'right':\n                x += distance + width;\n                y += halfHeight;\n                textVerticalAlign = 'middle';\n                break;\n            case 'top':\n                x += width / 2;\n                y -= distance;\n                textAlign = 'center';\n                textVerticalAlign = 'bottom';\n                break;\n            case 'bottom':\n                x += width / 2;\n                y += height + distance;\n                textAlign = 'center';\n                break;\n            case 'inside':\n                x += width / 2;\n                y += halfHeight;\n                textAlign = 'center';\n                textVerticalAlign = 'middle';\n                break;\n            case 'insideLeft':\n                x += distance;\n                y += halfHeight;\n                textVerticalAlign = 'middle';\n                break;\n            case 'insideRight':\n                x += width - distance;\n                y += halfHeight;\n                textAlign = 'right';\n                textVerticalAlign = 'middle';\n                break;\n            case 'insideTop':\n                x += width / 2;\n                y += distance;\n                textAlign = 'center';\n                break;\n            case 'insideBottom':\n                x += width / 2;\n                y += height - distance;\n                textAlign = 'center';\n                textVerticalAlign = 'bottom';\n                break;\n            case 'insideTopLeft':\n                x += distance;\n                y += distance;\n                break;\n            case 'insideTopRight':\n                x += width - distance;\n                y += distance;\n                textAlign = 'right';\n                break;\n            case 'insideBottomLeft':\n                x += distance;\n                y += height - distance;\n                textVerticalAlign = 'bottom';\n                break;\n            case 'insideBottomRight':\n                x += width - distance;\n                y += height - distance;\n                textAlign = 'right';\n                textVerticalAlign = 'bottom';\n                break;\n        }\n    }\n    out = out || {};\n    out.x = x;\n    out.y = y;\n    out.align = textAlign;\n    out.verticalAlign = textVerticalAlign;\n    return out;\n}\n","import Transformable, { TRANSFORMABLE_PROPS } from './core/Transformable.js';\nimport Animator, { cloneValue } from './animation/Animator.js';\nimport BoundingRect from './core/BoundingRect.js';\nimport Eventful from './core/Eventful.js';\nimport { calculateTextPosition, parsePercent } from './contain/text.js';\nimport { guid, isObject, keys, extend, indexOf, logError, mixin, isArrayLike, isTypedArray, isGradientObject, filter, reduce } from './core/util.js';\nimport { LIGHT_LABEL_COLOR, DARK_LABEL_COLOR } from './config.js';\nimport { parse, stringify } from './tool/color.js';\nimport { REDRAW_BIT } from './graphic/constants.js';\nexport var PRESERVED_NORMAL_STATE = '__zr_normal__';\nvar PRIMARY_STATES_KEYS = TRANSFORMABLE_PROPS.concat(['ignore']);\nvar DEFAULT_ANIMATABLE_MAP = reduce(TRANSFORMABLE_PROPS, function (obj, key) {\n    obj[key] = true;\n    return obj;\n}, { ignore: false });\nvar tmpTextPosCalcRes = {};\nvar tmpBoundingRect = new BoundingRect(0, 0, 0, 0);\nvar Element = (function () {\n    function Element(props) {\n        this.id = guid();\n        this.animators = [];\n        this.currentStates = [];\n        this.states = {};\n        this._init(props);\n    }\n    Element.prototype._init = function (props) {\n        this.attr(props);\n    };\n    Element.prototype.drift = function (dx, dy, e) {\n        switch (this.draggable) {\n            case 'horizontal':\n                dy = 0;\n                break;\n            case 'vertical':\n                dx = 0;\n                break;\n        }\n        var m = this.transform;\n        if (!m) {\n            m = this.transform = [1, 0, 0, 1, 0, 0];\n        }\n        m[4] += dx;\n        m[5] += dy;\n        this.decomposeTransform();\n        this.markRedraw();\n    };\n    Element.prototype.beforeUpdate = function () { };\n    Element.prototype.afterUpdate = function () { };\n    Element.prototype.update = function () {\n        this.updateTransform();\n        if (this.__dirty) {\n            this.updateInnerText();\n        }\n    };\n    Element.prototype.updateInnerText = function (forceUpdate) {\n        var textEl = this._textContent;\n        if (textEl && (!textEl.ignore || forceUpdate)) {\n            if (!this.textConfig) {\n                this.textConfig = {};\n            }\n            var textConfig = this.textConfig;\n            var isLocal = textConfig.local;\n            var innerTransformable = textEl.innerTransformable;\n            var textAlign = void 0;\n            var textVerticalAlign = void 0;\n            var textStyleChanged = false;\n            innerTransformable.parent = isLocal ? this : null;\n            var innerOrigin = false;\n            innerTransformable.copyTransform(textEl);\n            if (textConfig.position != null) {\n                var layoutRect = tmpBoundingRect;\n                if (textConfig.layoutRect) {\n                    layoutRect.copy(textConfig.layoutRect);\n                }\n                else {\n                    layoutRect.copy(this.getBoundingRect());\n                }\n                if (!isLocal) {\n                    layoutRect.applyTransform(this.transform);\n                }\n                if (this.calculateTextPosition) {\n                    this.calculateTextPosition(tmpTextPosCalcRes, textConfig, layoutRect);\n                }\n                else {\n                    calculateTextPosition(tmpTextPosCalcRes, textConfig, layoutRect);\n                }\n                innerTransformable.x = tmpTextPosCalcRes.x;\n                innerTransformable.y = tmpTextPosCalcRes.y;\n                textAlign = tmpTextPosCalcRes.align;\n                textVerticalAlign = tmpTextPosCalcRes.verticalAlign;\n                var textOrigin = textConfig.origin;\n                if (textOrigin && textConfig.rotation != null) {\n                    var relOriginX = void 0;\n                    var relOriginY = void 0;\n                    if (textOrigin === 'center') {\n                        relOriginX = layoutRect.width * 0.5;\n                        relOriginY = layoutRect.height * 0.5;\n                    }\n                    else {\n                        relOriginX = parsePercent(textOrigin[0], layoutRect.width);\n                        relOriginY = parsePercent(textOrigin[1], layoutRect.height);\n                    }\n                    innerOrigin = true;\n                    innerTransformable.originX = -innerTransformable.x + relOriginX + (isLocal ? 0 : layoutRect.x);\n                    innerTransformable.originY = -innerTransformable.y + relOriginY + (isLocal ? 0 : layoutRect.y);\n                }\n            }\n            if (textConfig.rotation != null) {\n                innerTransformable.rotation = textConfig.rotation;\n            }\n            var textOffset = textConfig.offset;\n            if (textOffset) {\n                innerTransformable.x += textOffset[0];\n                innerTransformable.y += textOffset[1];\n                if (!innerOrigin) {\n                    innerTransformable.originX = -textOffset[0];\n                    innerTransformable.originY = -textOffset[1];\n                }\n            }\n            var isInside = textConfig.inside == null\n                ? (typeof textConfig.position === 'string' && textConfig.position.indexOf('inside') >= 0)\n                : textConfig.inside;\n            var innerTextDefaultStyle = this._innerTextDefaultStyle || (this._innerTextDefaultStyle = {});\n            var textFill = void 0;\n            var textStroke = void 0;\n            var autoStroke = void 0;\n            if (isInside && this.canBeInsideText()) {\n                textFill = textConfig.insideFill;\n                textStroke = textConfig.insideStroke;\n                if (textFill == null || textFill === 'auto') {\n                    textFill = this.getInsideTextFill();\n                }\n                if (textStroke == null || textStroke === 'auto') {\n                    textStroke = this.getInsideTextStroke(textFill);\n                    autoStroke = true;\n                }\n            }\n            else {\n                textFill = textConfig.outsideFill;\n                textStroke = textConfig.outsideStroke;\n                if (textFill == null || textFill === 'auto') {\n                    textFill = this.getOutsideFill();\n                }\n                if (textStroke == null || textStroke === 'auto') {\n                    textStroke = this.getOutsideStroke(textFill);\n                    autoStroke = true;\n                }\n            }\n            textFill = textFill || '#000';\n            if (textFill !== innerTextDefaultStyle.fill\n                || textStroke !== innerTextDefaultStyle.stroke\n                || autoStroke !== innerTextDefaultStyle.autoStroke\n                || textAlign !== innerTextDefaultStyle.align\n                || textVerticalAlign !== innerTextDefaultStyle.verticalAlign) {\n                textStyleChanged = true;\n                innerTextDefaultStyle.fill = textFill;\n                innerTextDefaultStyle.stroke = textStroke;\n                innerTextDefaultStyle.autoStroke = autoStroke;\n                innerTextDefaultStyle.align = textAlign;\n                innerTextDefaultStyle.verticalAlign = textVerticalAlign;\n                textEl.setDefaultTextStyle(innerTextDefaultStyle);\n            }\n            textEl.__dirty |= REDRAW_BIT;\n            if (textStyleChanged) {\n                textEl.dirtyStyle(true);\n            }\n        }\n    };\n    Element.prototype.canBeInsideText = function () {\n        return true;\n    };\n    Element.prototype.getInsideTextFill = function () {\n        return '#fff';\n    };\n    Element.prototype.getInsideTextStroke = function (textFill) {\n        return '#000';\n    };\n    Element.prototype.getOutsideFill = function () {\n        return this.__zr && this.__zr.isDarkMode() ? LIGHT_LABEL_COLOR : DARK_LABEL_COLOR;\n    };\n    Element.prototype.getOutsideStroke = function (textFill) {\n        var backgroundColor = this.__zr && this.__zr.getBackgroundColor();\n        var colorArr = typeof backgroundColor === 'string' && parse(backgroundColor);\n        if (!colorArr) {\n            colorArr = [255, 255, 255, 1];\n        }\n        var alpha = colorArr[3];\n        var isDark = this.__zr.isDarkMode();\n        for (var i = 0; i < 3; i++) {\n            colorArr[i] = colorArr[i] * alpha + (isDark ? 0 : 255) * (1 - alpha);\n        }\n        colorArr[3] = 1;\n        return stringify(colorArr, 'rgba');\n    };\n    Element.prototype.traverse = function (cb, context) { };\n    Element.prototype.attrKV = function (key, value) {\n        if (key === 'textConfig') {\n            this.setTextConfig(value);\n        }\n        else if (key === 'textContent') {\n            this.setTextContent(value);\n        }\n        else if (key === 'clipPath') {\n            this.setClipPath(value);\n        }\n        else if (key === 'extra') {\n            this.extra = this.extra || {};\n            extend(this.extra, value);\n        }\n        else {\n            this[key] = value;\n        }\n    };\n    Element.prototype.hide = function () {\n        this.ignore = true;\n        this.markRedraw();\n    };\n    Element.prototype.show = function () {\n        this.ignore = false;\n        this.markRedraw();\n    };\n    Element.prototype.attr = function (keyOrObj, value) {\n        if (typeof keyOrObj === 'string') {\n            this.attrKV(keyOrObj, value);\n        }\n        else if (isObject(keyOrObj)) {\n            var obj = keyOrObj;\n            var keysArr = keys(obj);\n            for (var i = 0; i < keysArr.length; i++) {\n                var key = keysArr[i];\n                this.attrKV(key, keyOrObj[key]);\n            }\n        }\n        this.markRedraw();\n        return this;\n    };\n    Element.prototype.saveCurrentToNormalState = function (toState) {\n        this._innerSaveToNormal(toState);\n        var normalState = this._normalState;\n        for (var i = 0; i < this.animators.length; i++) {\n            var animator = this.animators[i];\n            var fromStateTransition = animator.__fromStateTransition;\n            if (animator.getLoop() || fromStateTransition && fromStateTransition !== PRESERVED_NORMAL_STATE) {\n                continue;\n            }\n            var targetName = animator.targetName;\n            var target = targetName\n                ? normalState[targetName] : normalState;\n            animator.saveTo(target);\n        }\n    };\n    Element.prototype._innerSaveToNormal = function (toState) {\n        var normalState = this._normalState;\n        if (!normalState) {\n            normalState = this._normalState = {};\n        }\n        if (toState.textConfig && !normalState.textConfig) {\n            normalState.textConfig = this.textConfig;\n        }\n        this._savePrimaryToNormal(toState, normalState, PRIMARY_STATES_KEYS);\n    };\n    Element.prototype._savePrimaryToNormal = function (toState, normalState, primaryKeys) {\n        for (var i = 0; i < primaryKeys.length; i++) {\n            var key = primaryKeys[i];\n            if (toState[key] != null && !(key in normalState)) {\n                normalState[key] = this[key];\n            }\n        }\n    };\n    Element.prototype.hasState = function () {\n        return this.currentStates.length > 0;\n    };\n    Element.prototype.getState = function (name) {\n        return this.states[name];\n    };\n    Element.prototype.ensureState = function (name) {\n        var states = this.states;\n        if (!states[name]) {\n            states[name] = {};\n        }\n        return states[name];\n    };\n    Element.prototype.clearStates = function (noAnimation) {\n        this.useState(PRESERVED_NORMAL_STATE, false, noAnimation);\n    };\n    Element.prototype.useState = function (stateName, keepCurrentStates, noAnimation, forceUseHoverLayer) {\n        var toNormalState = stateName === PRESERVED_NORMAL_STATE;\n        var hasStates = this.hasState();\n        if (!hasStates && toNormalState) {\n            return;\n        }\n        var currentStates = this.currentStates;\n        var animationCfg = this.stateTransition;\n        if (indexOf(currentStates, stateName) >= 0 && (keepCurrentStates || currentStates.length === 1)) {\n            return;\n        }\n        var state;\n        if (this.stateProxy && !toNormalState) {\n            state = this.stateProxy(stateName);\n        }\n        if (!state) {\n            state = (this.states && this.states[stateName]);\n        }\n        if (!state && !toNormalState) {\n            logError(\"State \" + stateName + \" not exists.\");\n            return;\n        }\n        if (!toNormalState) {\n            this.saveCurrentToNormalState(state);\n        }\n        var useHoverLayer = !!((state && state.hoverLayer) || forceUseHoverLayer);\n        if (useHoverLayer) {\n            this._toggleHoverLayerFlag(true);\n        }\n        this._applyStateObj(stateName, state, this._normalState, keepCurrentStates, !noAnimation && !this.__inHover && animationCfg && animationCfg.duration > 0, animationCfg);\n        var textContent = this._textContent;\n        var textGuide = this._textGuide;\n        if (textContent) {\n            textContent.useState(stateName, keepCurrentStates, noAnimation, useHoverLayer);\n        }\n        if (textGuide) {\n            textGuide.useState(stateName, keepCurrentStates, noAnimation, useHoverLayer);\n        }\n        if (toNormalState) {\n            this.currentStates = [];\n            this._normalState = {};\n        }\n        else {\n            if (!keepCurrentStates) {\n                this.currentStates = [stateName];\n            }\n            else {\n                this.currentStates.push(stateName);\n            }\n        }\n        this._updateAnimationTargets();\n        this.markRedraw();\n        if (!useHoverLayer && this.__inHover) {\n            this._toggleHoverLayerFlag(false);\n            this.__dirty &= ~REDRAW_BIT;\n        }\n        return state;\n    };\n    Element.prototype.useStates = function (states, noAnimation, forceUseHoverLayer) {\n        if (!states.length) {\n            this.clearStates();\n        }\n        else {\n            var stateObjects = [];\n            var currentStates = this.currentStates;\n            var len = states.length;\n            var notChange = len === currentStates.length;\n            if (notChange) {\n                for (var i = 0; i < len; i++) {\n                    if (states[i] !== currentStates[i]) {\n                        notChange = false;\n                        break;\n                    }\n                }\n            }\n            if (notChange) {\n                return;\n            }\n            for (var i = 0; i < len; i++) {\n                var stateName = states[i];\n                var stateObj = void 0;\n                if (this.stateProxy) {\n                    stateObj = this.stateProxy(stateName, states);\n                }\n                if (!stateObj) {\n                    stateObj = this.states[stateName];\n                }\n                if (stateObj) {\n                    stateObjects.push(stateObj);\n                }\n            }\n            var lastStateObj = stateObjects[len - 1];\n            var useHoverLayer = !!((lastStateObj && lastStateObj.hoverLayer) || forceUseHoverLayer);\n            if (useHoverLayer) {\n                this._toggleHoverLayerFlag(true);\n            }\n            var mergedState = this._mergeStates(stateObjects);\n            var animationCfg = this.stateTransition;\n            this.saveCurrentToNormalState(mergedState);\n            this._applyStateObj(states.join(','), mergedState, this._normalState, false, !noAnimation && !this.__inHover && animationCfg && animationCfg.duration > 0, animationCfg);\n            var textContent = this._textContent;\n            var textGuide = this._textGuide;\n            if (textContent) {\n                textContent.useStates(states, noAnimation, useHoverLayer);\n            }\n            if (textGuide) {\n                textGuide.useStates(states, noAnimation, useHoverLayer);\n            }\n            this._updateAnimationTargets();\n            this.currentStates = states.slice();\n            this.markRedraw();\n            if (!useHoverLayer && this.__inHover) {\n                this._toggleHoverLayerFlag(false);\n                this.__dirty &= ~REDRAW_BIT;\n            }\n        }\n    };\n    Element.prototype.isSilent = function () {\n        var isSilent = this.silent;\n        var ancestor = this.parent;\n        while (!isSilent && ancestor) {\n            if (ancestor.silent) {\n                isSilent = true;\n                break;\n            }\n            ancestor = ancestor.parent;\n        }\n        return isSilent;\n    };\n    Element.prototype._updateAnimationTargets = function () {\n        for (var i = 0; i < this.animators.length; i++) {\n            var animator = this.animators[i];\n            if (animator.targetName) {\n                animator.changeTarget(this[animator.targetName]);\n            }\n        }\n    };\n    Element.prototype.removeState = function (state) {\n        var idx = indexOf(this.currentStates, state);\n        if (idx >= 0) {\n            var currentStates = this.currentStates.slice();\n            currentStates.splice(idx, 1);\n            this.useStates(currentStates);\n        }\n    };\n    Element.prototype.replaceState = function (oldState, newState, forceAdd) {\n        var currentStates = this.currentStates.slice();\n        var idx = indexOf(currentStates, oldState);\n        var newStateExists = indexOf(currentStates, newState) >= 0;\n        if (idx >= 0) {\n            if (!newStateExists) {\n                currentStates[idx] = newState;\n            }\n            else {\n                currentStates.splice(idx, 1);\n            }\n        }\n        else if (forceAdd && !newStateExists) {\n            currentStates.push(newState);\n        }\n        this.useStates(currentStates);\n    };\n    Element.prototype.toggleState = function (state, enable) {\n        if (enable) {\n            this.useState(state, true);\n        }\n        else {\n            this.removeState(state);\n        }\n    };\n    Element.prototype._mergeStates = function (states) {\n        var mergedState = {};\n        var mergedTextConfig;\n        for (var i = 0; i < states.length; i++) {\n            var state = states[i];\n            extend(mergedState, state);\n            if (state.textConfig) {\n                mergedTextConfig = mergedTextConfig || {};\n                extend(mergedTextConfig, state.textConfig);\n            }\n        }\n        if (mergedTextConfig) {\n            mergedState.textConfig = mergedTextConfig;\n        }\n        return mergedState;\n    };\n    Element.prototype._applyStateObj = function (stateName, state, normalState, keepCurrentStates, transition, animationCfg) {\n        var needsRestoreToNormal = !(state && keepCurrentStates);\n        if (state && state.textConfig) {\n            this.textConfig = extend({}, keepCurrentStates ? this.textConfig : normalState.textConfig);\n            extend(this.textConfig, state.textConfig);\n        }\n        else if (needsRestoreToNormal) {\n            if (normalState.textConfig) {\n                this.textConfig = normalState.textConfig;\n            }\n        }\n        var transitionTarget = {};\n        var hasTransition = false;\n        for (var i = 0; i < PRIMARY_STATES_KEYS.length; i++) {\n            var key = PRIMARY_STATES_KEYS[i];\n            var propNeedsTransition = transition && DEFAULT_ANIMATABLE_MAP[key];\n            if (state && state[key] != null) {\n                if (propNeedsTransition) {\n                    hasTransition = true;\n                    transitionTarget[key] = state[key];\n                }\n                else {\n                    this[key] = state[key];\n                }\n            }\n            else if (needsRestoreToNormal) {\n                if (normalState[key] != null) {\n                    if (propNeedsTransition) {\n                        hasTransition = true;\n                        transitionTarget[key] = normalState[key];\n                    }\n                    else {\n                        this[key] = normalState[key];\n                    }\n                }\n            }\n        }\n        if (!transition) {\n            for (var i = 0; i < this.animators.length; i++) {\n                var animator = this.animators[i];\n                var targetName = animator.targetName;\n                if (!animator.getLoop()) {\n                    animator.__changeFinalValue(targetName\n                        ? (state || normalState)[targetName]\n                        : (state || normalState));\n                }\n            }\n        }\n        if (hasTransition) {\n            this._transitionState(stateName, transitionTarget, animationCfg);\n        }\n    };\n    Element.prototype._attachComponent = function (componentEl) {\n        if (componentEl.__zr && !componentEl.__hostTarget) {\n            if (process.env.NODE_ENV !== 'production') {\n                throw new Error('Text element has been added to zrender.');\n            }\n            return;\n        }\n        if (componentEl === this) {\n            if (process.env.NODE_ENV !== 'production') {\n                throw new Error('Recursive component attachment.');\n            }\n            return;\n        }\n        var zr = this.__zr;\n        if (zr) {\n            componentEl.addSelfToZr(zr);\n        }\n        componentEl.__zr = zr;\n        componentEl.__hostTarget = this;\n    };\n    Element.prototype._detachComponent = function (componentEl) {\n        if (componentEl.__zr) {\n            componentEl.removeSelfFromZr(componentEl.__zr);\n        }\n        componentEl.__zr = null;\n        componentEl.__hostTarget = null;\n    };\n    Element.prototype.getClipPath = function () {\n        return this._clipPath;\n    };\n    Element.prototype.setClipPath = function (clipPath) {\n        if (this._clipPath && this._clipPath !== clipPath) {\n            this.removeClipPath();\n        }\n        this._attachComponent(clipPath);\n        this._clipPath = clipPath;\n        this.markRedraw();\n    };\n    Element.prototype.removeClipPath = function () {\n        var clipPath = this._clipPath;\n        if (clipPath) {\n            this._detachComponent(clipPath);\n            this._clipPath = null;\n            this.markRedraw();\n        }\n    };\n    Element.prototype.getTextContent = function () {\n        return this._textContent;\n    };\n    Element.prototype.setTextContent = function (textEl) {\n        var previousTextContent = this._textContent;\n        if (previousTextContent === textEl) {\n            return;\n        }\n        if (previousTextContent && previousTextContent !== textEl) {\n            this.removeTextContent();\n        }\n        if (process.env.NODE_ENV !== 'production') {\n            if (textEl.__zr && !textEl.__hostTarget) {\n                throw new Error('Text element has been added to zrender.');\n            }\n        }\n        textEl.innerTransformable = new Transformable();\n        this._attachComponent(textEl);\n        this._textContent = textEl;\n        this.markRedraw();\n    };\n    Element.prototype.setTextConfig = function (cfg) {\n        if (!this.textConfig) {\n            this.textConfig = {};\n        }\n        extend(this.textConfig, cfg);\n        this.markRedraw();\n    };\n    Element.prototype.removeTextConfig = function () {\n        this.textConfig = null;\n        this.markRedraw();\n    };\n    Element.prototype.removeTextContent = function () {\n        var textEl = this._textContent;\n        if (textEl) {\n            textEl.innerTransformable = null;\n            this._detachComponent(textEl);\n            this._textContent = null;\n            this._innerTextDefaultStyle = null;\n            this.markRedraw();\n        }\n    };\n    Element.prototype.getTextGuideLine = function () {\n        return this._textGuide;\n    };\n    Element.prototype.setTextGuideLine = function (guideLine) {\n        if (this._textGuide && this._textGuide !== guideLine) {\n            this.removeTextGuideLine();\n        }\n        this._attachComponent(guideLine);\n        this._textGuide = guideLine;\n        this.markRedraw();\n    };\n    Element.prototype.removeTextGuideLine = function () {\n        var textGuide = this._textGuide;\n        if (textGuide) {\n            this._detachComponent(textGuide);\n            this._textGuide = null;\n            this.markRedraw();\n        }\n    };\n    Element.prototype.markRedraw = function () {\n        this.__dirty |= REDRAW_BIT;\n        var zr = this.__zr;\n        if (zr) {\n            if (this.__inHover) {\n                zr.refreshHover();\n            }\n            else {\n                zr.refresh();\n            }\n        }\n        if (this.__hostTarget) {\n            this.__hostTarget.markRedraw();\n        }\n    };\n    Element.prototype.dirty = function () {\n        this.markRedraw();\n    };\n    Element.prototype._toggleHoverLayerFlag = function (inHover) {\n        this.__inHover = inHover;\n        var textContent = this._textContent;\n        var textGuide = this._textGuide;\n        if (textContent) {\n            textContent.__inHover = inHover;\n        }\n        if (textGuide) {\n            textGuide.__inHover = inHover;\n        }\n    };\n    Element.prototype.addSelfToZr = function (zr) {\n        if (this.__zr === zr) {\n            return;\n        }\n        this.__zr = zr;\n        var animators = this.animators;\n        if (animators) {\n            for (var i = 0; i < animators.length; i++) {\n                zr.animation.addAnimator(animators[i]);\n            }\n        }\n        if (this._clipPath) {\n            this._clipPath.addSelfToZr(zr);\n        }\n        if (this._textContent) {\n            this._textContent.addSelfToZr(zr);\n        }\n        if (this._textGuide) {\n            this._textGuide.addSelfToZr(zr);\n        }\n    };\n    Element.prototype.removeSelfFromZr = function (zr) {\n        if (!this.__zr) {\n            return;\n        }\n        this.__zr = null;\n        var animators = this.animators;\n        if (animators) {\n            for (var i = 0; i < animators.length; i++) {\n                zr.animation.removeAnimator(animators[i]);\n            }\n        }\n        if (this._clipPath) {\n            this._clipPath.removeSelfFromZr(zr);\n        }\n        if (this._textContent) {\n            this._textContent.removeSelfFromZr(zr);\n        }\n        if (this._textGuide) {\n            this._textGuide.removeSelfFromZr(zr);\n        }\n    };\n    Element.prototype.animate = function (key, loop, allowDiscreteAnimation) {\n        var target = key ? this[key] : this;\n        if (process.env.NODE_ENV !== 'production') {\n            if (!target) {\n                logError('Property \"'\n                    + key\n                    + '\" is not existed in element '\n                    + this.id);\n                return;\n            }\n        }\n        var animator = new Animator(target, loop, allowDiscreteAnimation);\n        key && (animator.targetName = key);\n        this.addAnimator(animator, key);\n        return animator;\n    };\n    Element.prototype.addAnimator = function (animator, key) {\n        var zr = this.__zr;\n        var el = this;\n        animator.during(function () {\n            el.updateDuringAnimation(key);\n        }).done(function () {\n            var animators = el.animators;\n            var idx = indexOf(animators, animator);\n            if (idx >= 0) {\n                animators.splice(idx, 1);\n            }\n        });\n        this.animators.push(animator);\n        if (zr) {\n            zr.animation.addAnimator(animator);\n        }\n        zr && zr.wakeUp();\n    };\n    Element.prototype.updateDuringAnimation = function (key) {\n        this.markRedraw();\n    };\n    Element.prototype.stopAnimation = function (scope, forwardToLast) {\n        var animators = this.animators;\n        var len = animators.length;\n        var leftAnimators = [];\n        for (var i = 0; i < len; i++) {\n            var animator = animators[i];\n            if (!scope || scope === animator.scope) {\n                animator.stop(forwardToLast);\n            }\n            else {\n                leftAnimators.push(animator);\n            }\n        }\n        this.animators = leftAnimators;\n        return this;\n    };\n    Element.prototype.animateTo = function (target, cfg, animationProps) {\n        animateTo(this, target, cfg, animationProps);\n    };\n    Element.prototype.animateFrom = function (target, cfg, animationProps) {\n        animateTo(this, target, cfg, animationProps, true);\n    };\n    Element.prototype._transitionState = function (stateName, target, cfg, animationProps) {\n        var animators = animateTo(this, target, cfg, animationProps);\n        for (var i = 0; i < animators.length; i++) {\n            animators[i].__fromStateTransition = stateName;\n        }\n    };\n    Element.prototype.getBoundingRect = function () {\n        return null;\n    };\n    Element.prototype.getPaintRect = function () {\n        return null;\n    };\n    Element.initDefaultProps = (function () {\n        var elProto = Element.prototype;\n        elProto.type = 'element';\n        elProto.name = '';\n        elProto.ignore =\n            elProto.silent =\n                elProto.isGroup =\n                    elProto.draggable =\n                        elProto.dragging =\n                            elProto.ignoreClip =\n                                elProto.__inHover = false;\n        elProto.__dirty = REDRAW_BIT;\n        var logs = {};\n        function logDeprecatedError(key, xKey, yKey) {\n            if (!logs[key + xKey + yKey]) {\n                console.warn(\"DEPRECATED: '\" + key + \"' has been deprecated. use '\" + xKey + \"', '\" + yKey + \"' instead\");\n                logs[key + xKey + yKey] = true;\n            }\n        }\n        function createLegacyProperty(key, privateKey, xKey, yKey) {\n            Object.defineProperty(elProto, key, {\n                get: function () {\n                    if (process.env.NODE_ENV !== 'production') {\n                        logDeprecatedError(key, xKey, yKey);\n                    }\n                    if (!this[privateKey]) {\n                        var pos = this[privateKey] = [];\n                        enhanceArray(this, pos);\n                    }\n                    return this[privateKey];\n                },\n                set: function (pos) {\n                    if (process.env.NODE_ENV !== 'production') {\n                        logDeprecatedError(key, xKey, yKey);\n                    }\n                    this[xKey] = pos[0];\n                    this[yKey] = pos[1];\n                    this[privateKey] = pos;\n                    enhanceArray(this, pos);\n                }\n            });\n            function enhanceArray(self, pos) {\n                Object.defineProperty(pos, 0, {\n                    get: function () {\n                        return self[xKey];\n                    },\n                    set: function (val) {\n                        self[xKey] = val;\n                    }\n                });\n                Object.defineProperty(pos, 1, {\n                    get: function () {\n                        return self[yKey];\n                    },\n                    set: function (val) {\n                        self[yKey] = val;\n                    }\n                });\n            }\n        }\n        if (Object.defineProperty) {\n            createLegacyProperty('position', '_legacyPos', 'x', 'y');\n            createLegacyProperty('scale', '_legacyScale', 'scaleX', 'scaleY');\n            createLegacyProperty('origin', '_legacyOrigin', 'originX', 'originY');\n        }\n    })();\n    return Element;\n}());\nmixin(Element, Eventful);\nmixin(Element, Transformable);\nfunction animateTo(animatable, target, cfg, animationProps, reverse) {\n    cfg = cfg || {};\n    var animators = [];\n    animateToShallow(animatable, '', animatable, target, cfg, animationProps, animators, reverse);\n    var finishCount = animators.length;\n    var doneHappened = false;\n    var cfgDone = cfg.done;\n    var cfgAborted = cfg.aborted;\n    var doneCb = function () {\n        doneHappened = true;\n        finishCount--;\n        if (finishCount <= 0) {\n            doneHappened\n                ? (cfgDone && cfgDone())\n                : (cfgAborted && cfgAborted());\n        }\n    };\n    var abortedCb = function () {\n        finishCount--;\n        if (finishCount <= 0) {\n            doneHappened\n                ? (cfgDone && cfgDone())\n                : (cfgAborted && cfgAborted());\n        }\n    };\n    if (!finishCount) {\n        cfgDone && cfgDone();\n    }\n    if (animators.length > 0 && cfg.during) {\n        animators[0].during(function (target, percent) {\n            cfg.during(percent);\n        });\n    }\n    for (var i = 0; i < animators.length; i++) {\n        var animator = animators[i];\n        if (doneCb) {\n            animator.done(doneCb);\n        }\n        if (abortedCb) {\n            animator.aborted(abortedCb);\n        }\n        if (cfg.force) {\n            animator.duration(cfg.duration);\n        }\n        animator.start(cfg.easing);\n    }\n    return animators;\n}\nfunction copyArrShallow(source, target, len) {\n    for (var i = 0; i < len; i++) {\n        source[i] = target[i];\n    }\n}\nfunction is2DArray(value) {\n    return isArrayLike(value[0]);\n}\nfunction copyValue(target, source, key) {\n    if (isArrayLike(source[key])) {\n        if (!isArrayLike(target[key])) {\n            target[key] = [];\n        }\n        if (isTypedArray(source[key])) {\n            var len = source[key].length;\n            if (target[key].length !== len) {\n                target[key] = new (source[key].constructor)(len);\n                copyArrShallow(target[key], source[key], len);\n            }\n        }\n        else {\n            var sourceArr = source[key];\n            var targetArr = target[key];\n            var len0 = sourceArr.length;\n            if (is2DArray(sourceArr)) {\n                var len1 = sourceArr[0].length;\n                for (var i = 0; i < len0; i++) {\n                    if (!targetArr[i]) {\n                        targetArr[i] = Array.prototype.slice.call(sourceArr[i]);\n                    }\n                    else {\n                        copyArrShallow(targetArr[i], sourceArr[i], len1);\n                    }\n                }\n            }\n            else {\n                copyArrShallow(targetArr, sourceArr, len0);\n            }\n            targetArr.length = sourceArr.length;\n        }\n    }\n    else {\n        target[key] = source[key];\n    }\n}\nfunction isValueSame(val1, val2) {\n    return val1 === val2\n        || isArrayLike(val1) && isArrayLike(val2) && is1DArraySame(val1, val2);\n}\nfunction is1DArraySame(arr0, arr1) {\n    var len = arr0.length;\n    if (len !== arr1.length) {\n        return false;\n    }\n    for (var i = 0; i < len; i++) {\n        if (arr0[i] !== arr1[i]) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction animateToShallow(animatable, topKey, animateObj, target, cfg, animationProps, animators, reverse) {\n    var targetKeys = keys(target);\n    var duration = cfg.duration;\n    var delay = cfg.delay;\n    var additive = cfg.additive;\n    var setToFinal = cfg.setToFinal;\n    var animateAll = !isObject(animationProps);\n    var existsAnimators = animatable.animators;\n    var animationKeys = [];\n    for (var k = 0; k < targetKeys.length; k++) {\n        var innerKey = targetKeys[k];\n        var targetVal = target[innerKey];\n        if (targetVal != null && animateObj[innerKey] != null\n            && (animateAll || animationProps[innerKey])) {\n            if (isObject(targetVal)\n                && !isArrayLike(targetVal)\n                && !isGradientObject(targetVal)) {\n                if (topKey) {\n                    if (!reverse) {\n                        animateObj[innerKey] = targetVal;\n                        animatable.updateDuringAnimation(topKey);\n                    }\n                    continue;\n                }\n                animateToShallow(animatable, innerKey, animateObj[innerKey], targetVal, cfg, animationProps && animationProps[innerKey], animators, reverse);\n            }\n            else {\n                animationKeys.push(innerKey);\n            }\n        }\n        else if (!reverse) {\n            animateObj[innerKey] = targetVal;\n            animatable.updateDuringAnimation(topKey);\n            animationKeys.push(innerKey);\n        }\n    }\n    var keyLen = animationKeys.length;\n    if (!additive && keyLen) {\n        for (var i = 0; i < existsAnimators.length; i++) {\n            var animator = existsAnimators[i];\n            if (animator.targetName === topKey) {\n                var allAborted = animator.stopTracks(animationKeys);\n                if (allAborted) {\n                    var idx = indexOf(existsAnimators, animator);\n                    existsAnimators.splice(idx, 1);\n                }\n            }\n        }\n    }\n    if (!cfg.force) {\n        animationKeys = filter(animationKeys, function (key) { return !isValueSame(target[key], animateObj[key]); });\n        keyLen = animationKeys.length;\n    }\n    if (keyLen > 0\n        || (cfg.force && !animators.length)) {\n        var revertedSource = void 0;\n        var reversedTarget = void 0;\n        var sourceClone = void 0;\n        if (reverse) {\n            reversedTarget = {};\n            if (setToFinal) {\n                revertedSource = {};\n            }\n            for (var i = 0; i < keyLen; i++) {\n                var innerKey = animationKeys[i];\n                reversedTarget[innerKey] = animateObj[innerKey];\n                if (setToFinal) {\n                    revertedSource[innerKey] = target[innerKey];\n                }\n                else {\n                    animateObj[innerKey] = target[innerKey];\n                }\n            }\n        }\n        else if (setToFinal) {\n            sourceClone = {};\n            for (var i = 0; i < keyLen; i++) {\n                var innerKey = animationKeys[i];\n                sourceClone[innerKey] = cloneValue(animateObj[innerKey]);\n                copyValue(animateObj, target, innerKey);\n            }\n        }\n        var animator = new Animator(animateObj, false, false, additive ? filter(existsAnimators, function (animator) { return animator.targetName === topKey; }) : null);\n        animator.targetName = topKey;\n        if (cfg.scope) {\n            animator.scope = cfg.scope;\n        }\n        if (setToFinal && revertedSource) {\n            animator.whenWithKeys(0, revertedSource, animationKeys);\n        }\n        if (sourceClone) {\n            animator.whenWithKeys(0, sourceClone, animationKeys);\n        }\n        animator.whenWithKeys(duration == null ? 500 : duration, reverse ? reversedTarget : target, animationKeys).delay(delay || 0);\n        animatable.addAnimator(animator, topKey);\n        animators.push(animator);\n    }\n}\nexport default Element;\n","import { __extends } from \"tslib\";\nimport * as zrUtil from '../core/util.js';\nimport Element from '../Element.js';\nimport BoundingRect from '../core/BoundingRect.js';\nvar Group = (function (_super) {\n    __extends(Group, _super);\n    function Group(opts) {\n        var _this = _super.call(this) || this;\n        _this.isGroup = true;\n        _this._children = [];\n        _this.attr(opts);\n        return _this;\n    }\n    Group.prototype.childrenRef = function () {\n        return this._children;\n    };\n    Group.prototype.children = function () {\n        return this._children.slice();\n    };\n    Group.prototype.childAt = function (idx) {\n        return this._children[idx];\n    };\n    Group.prototype.childOfName = function (name) {\n        var children = this._children;\n        for (var i = 0; i < children.length; i++) {\n            if (children[i].name === name) {\n                return children[i];\n            }\n        }\n    };\n    Group.prototype.childCount = function () {\n        return this._children.length;\n    };\n    Group.prototype.add = function (child) {\n        if (child) {\n            if (child !== this && child.parent !== this) {\n                this._children.push(child);\n                this._doAdd(child);\n            }\n            if (process.env.NODE_ENV !== 'production') {\n                if (child.__hostTarget) {\n                    throw 'This elemenet has been used as an attachment';\n                }\n            }\n        }\n        return this;\n    };\n    Group.prototype.addBefore = function (child, nextSibling) {\n        if (child && child !== this && child.parent !== this\n            && nextSibling && nextSibling.parent === this) {\n            var children = this._children;\n            var idx = children.indexOf(nextSibling);\n            if (idx >= 0) {\n                children.splice(idx, 0, child);\n                this._doAdd(child);\n            }\n        }\n        return this;\n    };\n    Group.prototype.replace = function (oldChild, newChild) {\n        var idx = zrUtil.indexOf(this._children, oldChild);\n        if (idx >= 0) {\n            this.replaceAt(newChild, idx);\n        }\n        return this;\n    };\n    Group.prototype.replaceAt = function (child, index) {\n        var children = this._children;\n        var old = children[index];\n        if (child && child !== this && child.parent !== this && child !== old) {\n            children[index] = child;\n            old.parent = null;\n            var zr = this.__zr;\n            if (zr) {\n                old.removeSelfFromZr(zr);\n            }\n            this._doAdd(child);\n        }\n        return this;\n    };\n    Group.prototype._doAdd = function (child) {\n        if (child.parent) {\n            child.parent.remove(child);\n        }\n        child.parent = this;\n        var zr = this.__zr;\n        if (zr && zr !== child.__zr) {\n            child.addSelfToZr(zr);\n        }\n        zr && zr.refresh();\n    };\n    Group.prototype.remove = function (child) {\n        var zr = this.__zr;\n        var children = this._children;\n        var idx = zrUtil.indexOf(children, child);\n        if (idx < 0) {\n            return this;\n        }\n        children.splice(idx, 1);\n        child.parent = null;\n        if (zr) {\n            child.removeSelfFromZr(zr);\n        }\n        zr && zr.refresh();\n        return this;\n    };\n    Group.prototype.removeAll = function () {\n        var children = this._children;\n        var zr = this.__zr;\n        for (var i = 0; i < children.length; i++) {\n            var child = children[i];\n            if (zr) {\n                child.removeSelfFromZr(zr);\n            }\n            child.parent = null;\n        }\n        children.length = 0;\n        return this;\n    };\n    Group.prototype.eachChild = function (cb, context) {\n        var children = this._children;\n        for (var i = 0; i < children.length; i++) {\n            var child = children[i];\n            cb.call(context, child, i);\n        }\n        return this;\n    };\n    Group.prototype.traverse = function (cb, context) {\n        for (var i = 0; i < this._children.length; i++) {\n            var child = this._children[i];\n            var stopped = cb.call(context, child);\n            if (child.isGroup && !stopped) {\n                child.traverse(cb, context);\n            }\n        }\n        return this;\n    };\n    Group.prototype.addSelfToZr = function (zr) {\n        _super.prototype.addSelfToZr.call(this, zr);\n        for (var i = 0; i < this._children.length; i++) {\n            var child = this._children[i];\n            child.addSelfToZr(zr);\n        }\n    };\n    Group.prototype.removeSelfFromZr = function (zr) {\n        _super.prototype.removeSelfFromZr.call(this, zr);\n        for (var i = 0; i < this._children.length; i++) {\n            var child = this._children[i];\n            child.removeSelfFromZr(zr);\n        }\n    };\n    Group.prototype.getBoundingRect = function (includeChildren) {\n        var tmpRect = new BoundingRect(0, 0, 0, 0);\n        var children = includeChildren || this._children;\n        var tmpMat = [];\n        var rect = null;\n        for (var i = 0; i < children.length; i++) {\n            var child = children[i];\n            if (child.ignore || child.invisible) {\n                continue;\n            }\n            var childRect = child.getBoundingRect();\n            var transform = child.getLocalTransform(tmpMat);\n            if (transform) {\n                BoundingRect.applyTransform(tmpRect, childRect, transform);\n                rect = rect || tmpRect.clone();\n                rect.union(tmpRect);\n            }\n            else {\n                rect = rect || childRect.clone();\n                rect.union(childRect);\n            }\n        }\n        return rect || tmpRect;\n    };\n    return Group;\n}(Element));\nGroup.prototype.type = 'group';\nexport default Group;\n","/*!\n* ZRender, a high performance 2d drawing library.\n*\n* Copyright (c) 2013, Baidu Inc.\n* All rights reserved.\n*\n* LICENSE\n* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt\n*/\nimport env from './core/env.js';\nimport * as zrUtil from './core/util.js';\nimport Handler from './Handler.js';\nimport Storage from './Storage.js';\nimport Animation, { getTime } from './animation/Animation.js';\nimport HandlerProxy from './dom/HandlerProxy.js';\nimport { lum } from './tool/color.js';\nimport { DARK_MODE_THRESHOLD } from './config.js';\nimport Group from './graphic/Group.js';\nvar painterCtors = {};\nvar instances = {};\nfunction delInstance(id) {\n    delete instances[id];\n}\nfunction isDarkMode(backgroundColor) {\n    if (!backgroundColor) {\n        return false;\n    }\n    if (typeof backgroundColor === 'string') {\n        return lum(backgroundColor, 1) < DARK_MODE_THRESHOLD;\n    }\n    else if (backgroundColor.colorStops) {\n        var colorStops = backgroundColor.colorStops;\n        var totalLum = 0;\n        var len = colorStops.length;\n        for (var i = 0; i < len; i++) {\n            totalLum += lum(colorStops[i].color, 1);\n        }\n        totalLum /= len;\n        return totalLum < DARK_MODE_THRESHOLD;\n    }\n    return false;\n}\nvar ZRender = (function () {\n    function ZRender(id, dom, opts) {\n        var _this = this;\n        this._sleepAfterStill = 10;\n        this._stillFrameAccum = 0;\n        this._needsRefresh = true;\n        this._needsRefreshHover = true;\n        this._darkMode = false;\n        opts = opts || {};\n        this.dom = dom;\n        this.id = id;\n        var storage = new Storage();\n        var rendererType = opts.renderer || 'canvas';\n        if (!painterCtors[rendererType]) {\n            rendererType = zrUtil.keys(painterCtors)[0];\n        }\n        if (process.env.NODE_ENV !== 'production') {\n            if (!painterCtors[rendererType]) {\n                throw new Error(\"Renderer '\" + rendererType + \"' is not imported. Please import it first.\");\n            }\n        }\n        opts.useDirtyRect = opts.useDirtyRect == null\n            ? false\n            : opts.useDirtyRect;\n        var painter = new painterCtors[rendererType](dom, storage, opts, id);\n        var ssrMode = opts.ssr || painter.ssrOnly;\n        this.storage = storage;\n        this.painter = painter;\n        var handlerProxy = (!env.node && !env.worker && !ssrMode)\n            ? new HandlerProxy(painter.getViewportRoot(), painter.root)\n            : null;\n        var useCoarsePointer = opts.useCoarsePointer;\n        var usePointerSize = (useCoarsePointer == null || useCoarsePointer === 'auto')\n            ? env.touchEventsSupported\n            : !!useCoarsePointer;\n        var defaultPointerSize = 44;\n        var pointerSize;\n        if (usePointerSize) {\n            pointerSize = zrUtil.retrieve2(opts.pointerSize, defaultPointerSize);\n        }\n        this.handler = new Handler(storage, painter, handlerProxy, painter.root, pointerSize);\n        this.animation = new Animation({\n            stage: {\n                update: ssrMode ? null : function () { return _this._flush(true); }\n            }\n        });\n        if (!ssrMode) {\n            this.animation.start();\n        }\n    }\n    ZRender.prototype.add = function (el) {\n        if (this._disposed || !el) {\n            return;\n        }\n        this.storage.addRoot(el);\n        el.addSelfToZr(this);\n        this.refresh();\n    };\n    ZRender.prototype.remove = function (el) {\n        if (this._disposed || !el) {\n            return;\n        }\n        this.storage.delRoot(el);\n        el.removeSelfFromZr(this);\n        this.refresh();\n    };\n    ZRender.prototype.configLayer = function (zLevel, config) {\n        if (this._disposed) {\n            return;\n        }\n        if (this.painter.configLayer) {\n            this.painter.configLayer(zLevel, config);\n        }\n        this.refresh();\n    };\n    ZRender.prototype.setBackgroundColor = function (backgroundColor) {\n        if (this._disposed) {\n            return;\n        }\n        if (this.painter.setBackgroundColor) {\n            this.painter.setBackgroundColor(backgroundColor);\n        }\n        this.refresh();\n        this._backgroundColor = backgroundColor;\n        this._darkMode = isDarkMode(backgroundColor);\n    };\n    ZRender.prototype.getBackgroundColor = function () {\n        return this._backgroundColor;\n    };\n    ZRender.prototype.setDarkMode = function (darkMode) {\n        this._darkMode = darkMode;\n    };\n    ZRender.prototype.isDarkMode = function () {\n        return this._darkMode;\n    };\n    ZRender.prototype.refreshImmediately = function (fromInside) {\n        if (this._disposed) {\n            return;\n        }\n        if (!fromInside) {\n            this.animation.update(true);\n        }\n        this._needsRefresh = false;\n        this.painter.refresh();\n        this._needsRefresh = false;\n    };\n    ZRender.prototype.refresh = function () {\n        if (this._disposed) {\n            return;\n        }\n        this._needsRefresh = true;\n        this.animation.start();\n    };\n    ZRender.prototype.flush = function () {\n        if (this._disposed) {\n            return;\n        }\n        this._flush(false);\n    };\n    ZRender.prototype._flush = function (fromInside) {\n        var triggerRendered;\n        var start = getTime();\n        if (this._needsRefresh) {\n            triggerRendered = true;\n            this.refreshImmediately(fromInside);\n        }\n        if (this._needsRefreshHover) {\n            triggerRendered = true;\n            this.refreshHoverImmediately();\n        }\n        var end = getTime();\n        if (triggerRendered) {\n            this._stillFrameAccum = 0;\n            this.trigger('rendered', {\n                elapsedTime: end - start\n            });\n        }\n        else if (this._sleepAfterStill > 0) {\n            this._stillFrameAccum++;\n            if (this._stillFrameAccum > this._sleepAfterStill) {\n                this.animation.stop();\n            }\n        }\n    };\n    ZRender.prototype.setSleepAfterStill = function (stillFramesCount) {\n        this._sleepAfterStill = stillFramesCount;\n    };\n    ZRender.prototype.wakeUp = function () {\n        if (this._disposed) {\n            return;\n        }\n        this.animation.start();\n        this._stillFrameAccum = 0;\n    };\n    ZRender.prototype.refreshHover = function () {\n        this._needsRefreshHover = true;\n    };\n    ZRender.prototype.refreshHoverImmediately = function () {\n        if (this._disposed) {\n            return;\n        }\n        this._needsRefreshHover = false;\n        if (this.painter.refreshHover && this.painter.getType() === 'canvas') {\n            this.painter.refreshHover();\n        }\n    };\n    ZRender.prototype.resize = function (opts) {\n        if (this._disposed) {\n            return;\n        }\n        opts = opts || {};\n        this.painter.resize(opts.width, opts.height);\n        this.handler.resize();\n    };\n    ZRender.prototype.clearAnimation = function () {\n        if (this._disposed) {\n            return;\n        }\n        this.animation.clear();\n    };\n    ZRender.prototype.getWidth = function () {\n        if (this._disposed) {\n            return;\n        }\n        return this.painter.getWidth();\n    };\n    ZRender.prototype.getHeight = function () {\n        if (this._disposed) {\n            return;\n        }\n        return this.painter.getHeight();\n    };\n    ZRender.prototype.setCursorStyle = function (cursorStyle) {\n        if (this._disposed) {\n            return;\n        }\n        this.handler.setCursorStyle(cursorStyle);\n    };\n    ZRender.prototype.findHover = function (x, y) {\n        if (this._disposed) {\n            return;\n        }\n        return this.handler.findHover(x, y);\n    };\n    ZRender.prototype.on = function (eventName, eventHandler, context) {\n        if (!this._disposed) {\n            this.handler.on(eventName, eventHandler, context);\n        }\n        return this;\n    };\n    ZRender.prototype.off = function (eventName, eventHandler) {\n        if (this._disposed) {\n            return;\n        }\n        this.handler.off(eventName, eventHandler);\n    };\n    ZRender.prototype.trigger = function (eventName, event) {\n        if (this._disposed) {\n            return;\n        }\n        this.handler.trigger(eventName, event);\n    };\n    ZRender.prototype.clear = function () {\n        if (this._disposed) {\n            return;\n        }\n        var roots = this.storage.getRoots();\n        for (var i = 0; i < roots.length; i++) {\n            if (roots[i] instanceof Group) {\n                roots[i].removeSelfFromZr(this);\n            }\n        }\n        this.storage.delAllRoots();\n        this.painter.clear();\n    };\n    ZRender.prototype.dispose = function () {\n        if (this._disposed) {\n            return;\n        }\n        this.animation.stop();\n        this.clear();\n        this.storage.dispose();\n        this.painter.dispose();\n        this.handler.dispose();\n        this.animation =\n            this.storage =\n                this.painter =\n                    this.handler = null;\n        this._disposed = true;\n        delInstance(this.id);\n    };\n    return ZRender;\n}());\nexport function init(dom, opts) {\n    var zr = new ZRender(zrUtil.guid(), dom, opts);\n    instances[zr.id] = zr;\n    return zr;\n}\nexport function dispose(zr) {\n    zr.dispose();\n}\nexport function disposeAll() {\n    for (var key in instances) {\n        if (instances.hasOwnProperty(key)) {\n            instances[key].dispose();\n        }\n    }\n    instances = {};\n}\nexport function getInstance(id) {\n    return instances[id];\n}\nexport function registerPainter(name, Ctor) {\n    painterCtors[name] = Ctor;\n}\nvar ssrDataGetter;\nexport function getElementSSRData(el) {\n    if (typeof ssrDataGetter === 'function') {\n        return ssrDataGetter(el);\n    }\n}\nexport function registerSSRDataGetter(getter) {\n    ssrDataGetter = getter;\n}\nexport var version = '5.6.1';\n;\n","import LRU from '../../core/LRU.js';\nimport { platformApi } from '../../core/platform.js';\nvar globalImageCache = new LRU(50);\nexport function findExistImage(newImageOrSrc) {\n    if (typeof newImageOrSrc === 'string') {\n        var cachedImgObj = globalImageCache.get(newImageOrSrc);\n        return cachedImgObj && cachedImgObj.image;\n    }\n    else {\n        return newImageOrSrc;\n    }\n}\nexport function createOrUpdateImage(newImageOrSrc, image, hostEl, onload, cbPayload) {\n    if (!newImageOrSrc) {\n        return image;\n    }\n    else if (typeof newImageOrSrc === 'string') {\n        if ((image && image.__zrImageSrc === newImageOrSrc) || !hostEl) {\n            return image;\n        }\n        var cachedImgObj = globalImageCache.get(newImageOrSrc);\n        var pendingWrap = { hostEl: hostEl, cb: onload, cbPayload: cbPayload };\n        if (cachedImgObj) {\n            image = cachedImgObj.image;\n            !isImageReady(image) && cachedImgObj.pending.push(pendingWrap);\n        }\n        else {\n            image = platformApi.loadImage(newImageOrSrc, imageOnLoad, imageOnLoad);\n            image.__zrImageSrc = newImageOrSrc;\n            globalImageCache.put(newImageOrSrc, image.__cachedImgObj = {\n                image: image,\n                pending: [pendingWrap]\n            });\n        }\n        return image;\n    }\n    else {\n        return newImageOrSrc;\n    }\n}\nfunction imageOnLoad() {\n    var cachedImgObj = this.__cachedImgObj;\n    this.onload = this.onerror = this.__cachedImgObj = null;\n    for (var i = 0; i < cachedImgObj.pending.length; i++) {\n        var pendingWrap = cachedImgObj.pending[i];\n        var cb = pendingWrap.cb;\n        cb && cb(this, pendingWrap.cbPayload);\n        pendingWrap.hostEl.dirty();\n    }\n    cachedImgObj.pending.length = 0;\n}\nexport function isImageReady(image) {\n    return image && image.width && image.height;\n}\n","import * as imageHelper from '../helper/image.js';\nimport { extend, retrieve2, retrieve3, reduce } from '../../core/util.js';\nimport { getLineHeight, getWidth, parsePercent } from '../../contain/text.js';\nvar STYLE_REG = /\\{([a-zA-Z0-9_]+)\\|([^}]*)\\}/g;\nexport function truncateText(text, containerWidth, font, ellipsis, options) {\n    var out = {};\n    truncateText2(out, text, containerWidth, font, ellipsis, options);\n    return out.text;\n}\nfunction truncateText2(out, text, containerWidth, font, ellipsis, options) {\n    if (!containerWidth) {\n        out.text = '';\n        out.isTruncated = false;\n        return;\n    }\n    var textLines = (text + '').split('\\n');\n    options = prepareTruncateOptions(containerWidth, font, ellipsis, options);\n    var isTruncated = false;\n    var truncateOut = {};\n    for (var i = 0, len = textLines.length; i < len; i++) {\n        truncateSingleLine(truncateOut, textLines[i], options);\n        textLines[i] = truncateOut.textLine;\n        isTruncated = isTruncated || truncateOut.isTruncated;\n    }\n    out.text = textLines.join('\\n');\n    out.isTruncated = isTruncated;\n}\nfunction prepareTruncateOptions(containerWidth, font, ellipsis, options) {\n    options = options || {};\n    var preparedOpts = extend({}, options);\n    preparedOpts.font = font;\n    ellipsis = retrieve2(ellipsis, '...');\n    preparedOpts.maxIterations = retrieve2(options.maxIterations, 2);\n    var minChar = preparedOpts.minChar = retrieve2(options.minChar, 0);\n    preparedOpts.cnCharWidth = getWidth('', font);\n    var ascCharWidth = preparedOpts.ascCharWidth = getWidth('a', font);\n    preparedOpts.placeholder = retrieve2(options.placeholder, '');\n    var contentWidth = containerWidth = Math.max(0, containerWidth - 1);\n    for (var i = 0; i < minChar && contentWidth >= ascCharWidth; i++) {\n        contentWidth -= ascCharWidth;\n    }\n    var ellipsisWidth = getWidth(ellipsis, font);\n    if (ellipsisWidth > contentWidth) {\n        ellipsis = '';\n        ellipsisWidth = 0;\n    }\n    contentWidth = containerWidth - ellipsisWidth;\n    preparedOpts.ellipsis = ellipsis;\n    preparedOpts.ellipsisWidth = ellipsisWidth;\n    preparedOpts.contentWidth = contentWidth;\n    preparedOpts.containerWidth = containerWidth;\n    return preparedOpts;\n}\nfunction truncateSingleLine(out, textLine, options) {\n    var containerWidth = options.containerWidth;\n    var font = options.font;\n    var contentWidth = options.contentWidth;\n    if (!containerWidth) {\n        out.textLine = '';\n        out.isTruncated = false;\n        return;\n    }\n    var lineWidth = getWidth(textLine, font);\n    if (lineWidth <= containerWidth) {\n        out.textLine = textLine;\n        out.isTruncated = false;\n        return;\n    }\n    for (var j = 0;; j++) {\n        if (lineWidth <= contentWidth || j >= options.maxIterations) {\n            textLine += options.ellipsis;\n            break;\n        }\n        var subLength = j === 0\n            ? estimateLength(textLine, contentWidth, options.ascCharWidth, options.cnCharWidth)\n            : lineWidth > 0\n                ? Math.floor(textLine.length * contentWidth / lineWidth)\n                : 0;\n        textLine = textLine.substr(0, subLength);\n        lineWidth = getWidth(textLine, font);\n    }\n    if (textLine === '') {\n        textLine = options.placeholder;\n    }\n    out.textLine = textLine;\n    out.isTruncated = true;\n}\nfunction estimateLength(text, contentWidth, ascCharWidth, cnCharWidth) {\n    var width = 0;\n    var i = 0;\n    for (var len = text.length; i < len && width < contentWidth; i++) {\n        var charCode = text.charCodeAt(i);\n        width += (0 <= charCode && charCode <= 127) ? ascCharWidth : cnCharWidth;\n    }\n    return i;\n}\nexport function parsePlainText(text, style) {\n    text != null && (text += '');\n    var overflow = style.overflow;\n    var padding = style.padding;\n    var font = style.font;\n    var truncate = overflow === 'truncate';\n    var calculatedLineHeight = getLineHeight(font);\n    var lineHeight = retrieve2(style.lineHeight, calculatedLineHeight);\n    var bgColorDrawn = !!(style.backgroundColor);\n    var truncateLineOverflow = style.lineOverflow === 'truncate';\n    var isTruncated = false;\n    var width = style.width;\n    var lines;\n    if (width != null && (overflow === 'break' || overflow === 'breakAll')) {\n        lines = text ? wrapText(text, style.font, width, overflow === 'breakAll', 0).lines : [];\n    }\n    else {\n        lines = text ? text.split('\\n') : [];\n    }\n    var contentHeight = lines.length * lineHeight;\n    var height = retrieve2(style.height, contentHeight);\n    if (contentHeight > height && truncateLineOverflow) {\n        var lineCount = Math.floor(height / lineHeight);\n        isTruncated = isTruncated || (lines.length > lineCount);\n        lines = lines.slice(0, lineCount);\n    }\n    if (text && truncate && width != null) {\n        var options = prepareTruncateOptions(width, font, style.ellipsis, {\n            minChar: style.truncateMinChar,\n            placeholder: style.placeholder\n        });\n        var singleOut = {};\n        for (var i = 0; i < lines.length; i++) {\n            truncateSingleLine(singleOut, lines[i], options);\n            lines[i] = singleOut.textLine;\n            isTruncated = isTruncated || singleOut.isTruncated;\n        }\n    }\n    var outerHeight = height;\n    var contentWidth = 0;\n    for (var i = 0; i < lines.length; i++) {\n        contentWidth = Math.max(getWidth(lines[i], font), contentWidth);\n    }\n    if (width == null) {\n        width = contentWidth;\n    }\n    var outerWidth = contentWidth;\n    if (padding) {\n        outerHeight += padding[0] + padding[2];\n        outerWidth += padding[1] + padding[3];\n        width += padding[1] + padding[3];\n    }\n    if (bgColorDrawn) {\n        outerWidth = width;\n    }\n    return {\n        lines: lines,\n        height: height,\n        outerWidth: outerWidth,\n        outerHeight: outerHeight,\n        lineHeight: lineHeight,\n        calculatedLineHeight: calculatedLineHeight,\n        contentWidth: contentWidth,\n        contentHeight: contentHeight,\n        width: width,\n        isTruncated: isTruncated\n    };\n}\nvar RichTextToken = (function () {\n    function RichTextToken() {\n    }\n    return RichTextToken;\n}());\nvar RichTextLine = (function () {\n    function RichTextLine(tokens) {\n        this.tokens = [];\n        if (tokens) {\n            this.tokens = tokens;\n        }\n    }\n    return RichTextLine;\n}());\nvar RichTextContentBlock = (function () {\n    function RichTextContentBlock() {\n        this.width = 0;\n        this.height = 0;\n        this.contentWidth = 0;\n        this.contentHeight = 0;\n        this.outerWidth = 0;\n        this.outerHeight = 0;\n        this.lines = [];\n        this.isTruncated = false;\n    }\n    return RichTextContentBlock;\n}());\nexport { RichTextContentBlock };\nexport function parseRichText(text, style) {\n    var contentBlock = new RichTextContentBlock();\n    text != null && (text += '');\n    if (!text) {\n        return contentBlock;\n    }\n    var topWidth = style.width;\n    var topHeight = style.height;\n    var overflow = style.overflow;\n    var wrapInfo = (overflow === 'break' || overflow === 'breakAll') && topWidth != null\n        ? { width: topWidth, accumWidth: 0, breakAll: overflow === 'breakAll' }\n        : null;\n    var lastIndex = STYLE_REG.lastIndex = 0;\n    var result;\n    while ((result = STYLE_REG.exec(text)) != null) {\n        var matchedIndex = result.index;\n        if (matchedIndex > lastIndex) {\n            pushTokens(contentBlock, text.substring(lastIndex, matchedIndex), style, wrapInfo);\n        }\n        pushTokens(contentBlock, result[2], style, wrapInfo, result[1]);\n        lastIndex = STYLE_REG.lastIndex;\n    }\n    if (lastIndex < text.length) {\n        pushTokens(contentBlock, text.substring(lastIndex, text.length), style, wrapInfo);\n    }\n    var pendingList = [];\n    var calculatedHeight = 0;\n    var calculatedWidth = 0;\n    var stlPadding = style.padding;\n    var truncate = overflow === 'truncate';\n    var truncateLine = style.lineOverflow === 'truncate';\n    var tmpTruncateOut = {};\n    function finishLine(line, lineWidth, lineHeight) {\n        line.width = lineWidth;\n        line.lineHeight = lineHeight;\n        calculatedHeight += lineHeight;\n        calculatedWidth = Math.max(calculatedWidth, lineWidth);\n    }\n    outer: for (var i = 0; i < contentBlock.lines.length; i++) {\n        var line = contentBlock.lines[i];\n        var lineHeight = 0;\n        var lineWidth = 0;\n        for (var j = 0; j < line.tokens.length; j++) {\n            var token = line.tokens[j];\n            var tokenStyle = token.styleName && style.rich[token.styleName] || {};\n            var textPadding = token.textPadding = tokenStyle.padding;\n            var paddingH = textPadding ? textPadding[1] + textPadding[3] : 0;\n            var font = token.font = tokenStyle.font || style.font;\n            token.contentHeight = getLineHeight(font);\n            var tokenHeight = retrieve2(tokenStyle.height, token.contentHeight);\n            token.innerHeight = tokenHeight;\n            textPadding && (tokenHeight += textPadding[0] + textPadding[2]);\n            token.height = tokenHeight;\n            token.lineHeight = retrieve3(tokenStyle.lineHeight, style.lineHeight, tokenHeight);\n            token.align = tokenStyle && tokenStyle.align || style.align;\n            token.verticalAlign = tokenStyle && tokenStyle.verticalAlign || 'middle';\n            if (truncateLine && topHeight != null && calculatedHeight + token.lineHeight > topHeight) {\n                var originalLength = contentBlock.lines.length;\n                if (j > 0) {\n                    line.tokens = line.tokens.slice(0, j);\n                    finishLine(line, lineWidth, lineHeight);\n                    contentBlock.lines = contentBlock.lines.slice(0, i + 1);\n                }\n                else {\n                    contentBlock.lines = contentBlock.lines.slice(0, i);\n                }\n                contentBlock.isTruncated = contentBlock.isTruncated || (contentBlock.lines.length < originalLength);\n                break outer;\n            }\n            var styleTokenWidth = tokenStyle.width;\n            var tokenWidthNotSpecified = styleTokenWidth == null || styleTokenWidth === 'auto';\n            if (typeof styleTokenWidth === 'string' && styleTokenWidth.charAt(styleTokenWidth.length - 1) === '%') {\n                token.percentWidth = styleTokenWidth;\n                pendingList.push(token);\n                token.contentWidth = getWidth(token.text, font);\n            }\n            else {\n                if (tokenWidthNotSpecified) {\n                    var textBackgroundColor = tokenStyle.backgroundColor;\n                    var bgImg = textBackgroundColor && textBackgroundColor.image;\n                    if (bgImg) {\n                        bgImg = imageHelper.findExistImage(bgImg);\n                        if (imageHelper.isImageReady(bgImg)) {\n                            token.width = Math.max(token.width, bgImg.width * tokenHeight / bgImg.height);\n                        }\n                    }\n                }\n                var remainTruncWidth = truncate && topWidth != null\n                    ? topWidth - lineWidth : null;\n                if (remainTruncWidth != null && remainTruncWidth < token.width) {\n                    if (!tokenWidthNotSpecified || remainTruncWidth < paddingH) {\n                        token.text = '';\n                        token.width = token.contentWidth = 0;\n                    }\n                    else {\n                        truncateText2(tmpTruncateOut, token.text, remainTruncWidth - paddingH, font, style.ellipsis, { minChar: style.truncateMinChar });\n                        token.text = tmpTruncateOut.text;\n                        contentBlock.isTruncated = contentBlock.isTruncated || tmpTruncateOut.isTruncated;\n                        token.width = token.contentWidth = getWidth(token.text, font);\n                    }\n                }\n                else {\n                    token.contentWidth = getWidth(token.text, font);\n                }\n            }\n            token.width += paddingH;\n            lineWidth += token.width;\n            tokenStyle && (lineHeight = Math.max(lineHeight, token.lineHeight));\n        }\n        finishLine(line, lineWidth, lineHeight);\n    }\n    contentBlock.outerWidth = contentBlock.width = retrieve2(topWidth, calculatedWidth);\n    contentBlock.outerHeight = contentBlock.height = retrieve2(topHeight, calculatedHeight);\n    contentBlock.contentHeight = calculatedHeight;\n    contentBlock.contentWidth = calculatedWidth;\n    if (stlPadding) {\n        contentBlock.outerWidth += stlPadding[1] + stlPadding[3];\n        contentBlock.outerHeight += stlPadding[0] + stlPadding[2];\n    }\n    for (var i = 0; i < pendingList.length; i++) {\n        var token = pendingList[i];\n        var percentWidth = token.percentWidth;\n        token.width = parseInt(percentWidth, 10) / 100 * contentBlock.width;\n    }\n    return contentBlock;\n}\nfunction pushTokens(block, str, style, wrapInfo, styleName) {\n    var isEmptyStr = str === '';\n    var tokenStyle = styleName && style.rich[styleName] || {};\n    var lines = block.lines;\n    var font = tokenStyle.font || style.font;\n    var newLine = false;\n    var strLines;\n    var linesWidths;\n    if (wrapInfo) {\n        var tokenPadding = tokenStyle.padding;\n        var tokenPaddingH = tokenPadding ? tokenPadding[1] + tokenPadding[3] : 0;\n        if (tokenStyle.width != null && tokenStyle.width !== 'auto') {\n            var outerWidth_1 = parsePercent(tokenStyle.width, wrapInfo.width) + tokenPaddingH;\n            if (lines.length > 0) {\n                if (outerWidth_1 + wrapInfo.accumWidth > wrapInfo.width) {\n                    strLines = str.split('\\n');\n                    newLine = true;\n                }\n            }\n            wrapInfo.accumWidth = outerWidth_1;\n        }\n        else {\n            var res = wrapText(str, font, wrapInfo.width, wrapInfo.breakAll, wrapInfo.accumWidth);\n            wrapInfo.accumWidth = res.accumWidth + tokenPaddingH;\n            linesWidths = res.linesWidths;\n            strLines = res.lines;\n        }\n    }\n    else {\n        strLines = str.split('\\n');\n    }\n    for (var i = 0; i < strLines.length; i++) {\n        var text = strLines[i];\n        var token = new RichTextToken();\n        token.styleName = styleName;\n        token.text = text;\n        token.isLineHolder = !text && !isEmptyStr;\n        if (typeof tokenStyle.width === 'number') {\n            token.width = tokenStyle.width;\n        }\n        else {\n            token.width = linesWidths\n                ? linesWidths[i]\n                : getWidth(text, font);\n        }\n        if (!i && !newLine) {\n            var tokens = (lines[lines.length - 1] || (lines[0] = new RichTextLine())).tokens;\n            var tokensLen = tokens.length;\n            (tokensLen === 1 && tokens[0].isLineHolder)\n                ? (tokens[0] = token)\n                : ((text || !tokensLen || isEmptyStr) && tokens.push(token));\n        }\n        else {\n            lines.push(new RichTextLine([token]));\n        }\n    }\n}\nfunction isAlphabeticLetter(ch) {\n    var code = ch.charCodeAt(0);\n    return code >= 0x20 && code <= 0x24F\n        || code >= 0x370 && code <= 0x10FF\n        || code >= 0x1200 && code <= 0x13FF\n        || code >= 0x1E00 && code <= 0x206F;\n}\nvar breakCharMap = reduce(',&?/;] '.split(''), function (obj, ch) {\n    obj[ch] = true;\n    return obj;\n}, {});\nfunction isWordBreakChar(ch) {\n    if (isAlphabeticLetter(ch)) {\n        if (breakCharMap[ch]) {\n            return true;\n        }\n        return false;\n    }\n    return true;\n}\nfunction wrapText(text, font, lineWidth, isBreakAll, lastAccumWidth) {\n    var lines = [];\n    var linesWidths = [];\n    var line = '';\n    var currentWord = '';\n    var currentWordWidth = 0;\n    var accumWidth = 0;\n    for (var i = 0; i < text.length; i++) {\n        var ch = text.charAt(i);\n        if (ch === '\\n') {\n            if (currentWord) {\n                line += currentWord;\n                accumWidth += currentWordWidth;\n            }\n            lines.push(line);\n            linesWidths.push(accumWidth);\n            line = '';\n            currentWord = '';\n            currentWordWidth = 0;\n            accumWidth = 0;\n            continue;\n        }\n        var chWidth = getWidth(ch, font);\n        var inWord = isBreakAll ? false : !isWordBreakChar(ch);\n        if (!lines.length\n            ? lastAccumWidth + accumWidth + chWidth > lineWidth\n            : accumWidth + chWidth > lineWidth) {\n            if (!accumWidth) {\n                if (inWord) {\n                    lines.push(currentWord);\n                    linesWidths.push(currentWordWidth);\n                    currentWord = ch;\n                    currentWordWidth = chWidth;\n                }\n                else {\n                    lines.push(ch);\n                    linesWidths.push(chWidth);\n                }\n            }\n            else if (line || currentWord) {\n                if (inWord) {\n                    if (!line) {\n                        line = currentWord;\n                        currentWord = '';\n                        currentWordWidth = 0;\n                        accumWidth = currentWordWidth;\n                    }\n                    lines.push(line);\n                    linesWidths.push(accumWidth - currentWordWidth);\n                    currentWord += ch;\n                    currentWordWidth += chWidth;\n                    line = '';\n                    accumWidth = currentWordWidth;\n                }\n                else {\n                    if (currentWord) {\n                        line += currentWord;\n                        currentWord = '';\n                        currentWordWidth = 0;\n                    }\n                    lines.push(line);\n                    linesWidths.push(accumWidth);\n                    line = ch;\n                    accumWidth = chWidth;\n                }\n            }\n            continue;\n        }\n        accumWidth += chWidth;\n        if (inWord) {\n            currentWord += ch;\n            currentWordWidth += chWidth;\n        }\n        else {\n            if (currentWord) {\n                line += currentWord;\n                currentWord = '';\n                currentWordWidth = 0;\n            }\n            line += ch;\n        }\n    }\n    if (!lines.length && !line) {\n        line = text;\n        currentWord = '';\n        currentWordWidth = 0;\n    }\n    if (currentWord) {\n        line += currentWord;\n    }\n    if (line) {\n        lines.push(line);\n        linesWidths.push(accumWidth);\n    }\n    if (lines.length === 1) {\n        accumWidth += lastAccumWidth;\n    }\n    return {\n        accumWidth: accumWidth,\n        lines: lines,\n        linesWidths: linesWidths\n    };\n}\n","import { __extends } from \"tslib\";\nimport Element from '../Element.js';\nimport BoundingRect from '../core/BoundingRect.js';\nimport { keys, extend, createObject } from '../core/util.js';\nimport { REDRAW_BIT, STYLE_CHANGED_BIT } from './constants.js';\nvar STYLE_MAGIC_KEY = '__zr_style_' + Math.round((Math.random() * 10));\nexport var DEFAULT_COMMON_STYLE = {\n    shadowBlur: 0,\n    shadowOffsetX: 0,\n    shadowOffsetY: 0,\n    shadowColor: '#000',\n    opacity: 1,\n    blend: 'source-over'\n};\nexport var DEFAULT_COMMON_ANIMATION_PROPS = {\n    style: {\n        shadowBlur: true,\n        shadowOffsetX: true,\n        shadowOffsetY: true,\n        shadowColor: true,\n        opacity: true\n    }\n};\nDEFAULT_COMMON_STYLE[STYLE_MAGIC_KEY] = true;\nvar PRIMARY_STATES_KEYS = ['z', 'z2', 'invisible'];\nvar PRIMARY_STATES_KEYS_IN_HOVER_LAYER = ['invisible'];\nvar Displayable = (function (_super) {\n    __extends(Displayable, _super);\n    function Displayable(props) {\n        return _super.call(this, props) || this;\n    }\n    Displayable.prototype._init = function (props) {\n        var keysArr = keys(props);\n        for (var i = 0; i < keysArr.length; i++) {\n            var key = keysArr[i];\n            if (key === 'style') {\n                this.useStyle(props[key]);\n            }\n            else {\n                _super.prototype.attrKV.call(this, key, props[key]);\n            }\n        }\n        if (!this.style) {\n            this.useStyle({});\n        }\n    };\n    Displayable.prototype.beforeBrush = function () { };\n    Displayable.prototype.afterBrush = function () { };\n    Displayable.prototype.innerBeforeBrush = function () { };\n    Displayable.prototype.innerAfterBrush = function () { };\n    Displayable.prototype.shouldBePainted = function (viewWidth, viewHeight, considerClipPath, considerAncestors) {\n        var m = this.transform;\n        if (this.ignore\n            || this.invisible\n            || this.style.opacity === 0\n            || (this.culling\n                && isDisplayableCulled(this, viewWidth, viewHeight))\n            || (m && !m[0] && !m[3])) {\n            return false;\n        }\n        if (considerClipPath && this.__clipPaths) {\n            for (var i = 0; i < this.__clipPaths.length; ++i) {\n                if (this.__clipPaths[i].isZeroArea()) {\n                    return false;\n                }\n            }\n        }\n        if (considerAncestors && this.parent) {\n            var parent_1 = this.parent;\n            while (parent_1) {\n                if (parent_1.ignore) {\n                    return false;\n                }\n                parent_1 = parent_1.parent;\n            }\n        }\n        return true;\n    };\n    Displayable.prototype.contain = function (x, y) {\n        return this.rectContain(x, y);\n    };\n    Displayable.prototype.traverse = function (cb, context) {\n        cb.call(context, this);\n    };\n    Displayable.prototype.rectContain = function (x, y) {\n        var coord = this.transformCoordToLocal(x, y);\n        var rect = this.getBoundingRect();\n        return rect.contain(coord[0], coord[1]);\n    };\n    Displayable.prototype.getPaintRect = function () {\n        var rect = this._paintRect;\n        if (!this._paintRect || this.__dirty) {\n            var transform = this.transform;\n            var elRect = this.getBoundingRect();\n            var style = this.style;\n            var shadowSize = style.shadowBlur || 0;\n            var shadowOffsetX = style.shadowOffsetX || 0;\n            var shadowOffsetY = style.shadowOffsetY || 0;\n            rect = this._paintRect || (this._paintRect = new BoundingRect(0, 0, 0, 0));\n            if (transform) {\n                BoundingRect.applyTransform(rect, elRect, transform);\n            }\n            else {\n                rect.copy(elRect);\n            }\n            if (shadowSize || shadowOffsetX || shadowOffsetY) {\n                rect.width += shadowSize * 2 + Math.abs(shadowOffsetX);\n                rect.height += shadowSize * 2 + Math.abs(shadowOffsetY);\n                rect.x = Math.min(rect.x, rect.x + shadowOffsetX - shadowSize);\n                rect.y = Math.min(rect.y, rect.y + shadowOffsetY - shadowSize);\n            }\n            var tolerance = this.dirtyRectTolerance;\n            if (!rect.isZero()) {\n                rect.x = Math.floor(rect.x - tolerance);\n                rect.y = Math.floor(rect.y - tolerance);\n                rect.width = Math.ceil(rect.width + 1 + tolerance * 2);\n                rect.height = Math.ceil(rect.height + 1 + tolerance * 2);\n            }\n        }\n        return rect;\n    };\n    Displayable.prototype.setPrevPaintRect = function (paintRect) {\n        if (paintRect) {\n            this._prevPaintRect = this._prevPaintRect || new BoundingRect(0, 0, 0, 0);\n            this._prevPaintRect.copy(paintRect);\n        }\n        else {\n            this._prevPaintRect = null;\n        }\n    };\n    Displayable.prototype.getPrevPaintRect = function () {\n        return this._prevPaintRect;\n    };\n    Displayable.prototype.animateStyle = function (loop) {\n        return this.animate('style', loop);\n    };\n    Displayable.prototype.updateDuringAnimation = function (targetKey) {\n        if (targetKey === 'style') {\n            this.dirtyStyle();\n        }\n        else {\n            this.markRedraw();\n        }\n    };\n    Displayable.prototype.attrKV = function (key, value) {\n        if (key !== 'style') {\n            _super.prototype.attrKV.call(this, key, value);\n        }\n        else {\n            if (!this.style) {\n                this.useStyle(value);\n            }\n            else {\n                this.setStyle(value);\n            }\n        }\n    };\n    Displayable.prototype.setStyle = function (keyOrObj, value) {\n        if (typeof keyOrObj === 'string') {\n            this.style[keyOrObj] = value;\n        }\n        else {\n            extend(this.style, keyOrObj);\n        }\n        this.dirtyStyle();\n        return this;\n    };\n    Displayable.prototype.dirtyStyle = function (notRedraw) {\n        if (!notRedraw) {\n            this.markRedraw();\n        }\n        this.__dirty |= STYLE_CHANGED_BIT;\n        if (this._rect) {\n            this._rect = null;\n        }\n    };\n    Displayable.prototype.dirty = function () {\n        this.dirtyStyle();\n    };\n    Displayable.prototype.styleChanged = function () {\n        return !!(this.__dirty & STYLE_CHANGED_BIT);\n    };\n    Displayable.prototype.styleUpdated = function () {\n        this.__dirty &= ~STYLE_CHANGED_BIT;\n    };\n    Displayable.prototype.createStyle = function (obj) {\n        return createObject(DEFAULT_COMMON_STYLE, obj);\n    };\n    Displayable.prototype.useStyle = function (obj) {\n        if (!obj[STYLE_MAGIC_KEY]) {\n            obj = this.createStyle(obj);\n        }\n        if (this.__inHover) {\n            this.__hoverStyle = obj;\n        }\n        else {\n            this.style = obj;\n        }\n        this.dirtyStyle();\n    };\n    Displayable.prototype.isStyleObject = function (obj) {\n        return obj[STYLE_MAGIC_KEY];\n    };\n    Displayable.prototype._innerSaveToNormal = function (toState) {\n        _super.prototype._innerSaveToNormal.call(this, toState);\n        var normalState = this._normalState;\n        if (toState.style && !normalState.style) {\n            normalState.style = this._mergeStyle(this.createStyle(), this.style);\n        }\n        this._savePrimaryToNormal(toState, normalState, PRIMARY_STATES_KEYS);\n    };\n    Displayable.prototype._applyStateObj = function (stateName, state, normalState, keepCurrentStates, transition, animationCfg) {\n        _super.prototype._applyStateObj.call(this, stateName, state, normalState, keepCurrentStates, transition, animationCfg);\n        var needsRestoreToNormal = !(state && keepCurrentStates);\n        var targetStyle;\n        if (state && state.style) {\n            if (transition) {\n                if (keepCurrentStates) {\n                    targetStyle = state.style;\n                }\n                else {\n                    targetStyle = this._mergeStyle(this.createStyle(), normalState.style);\n                    this._mergeStyle(targetStyle, state.style);\n                }\n            }\n            else {\n                targetStyle = this._mergeStyle(this.createStyle(), keepCurrentStates ? this.style : normalState.style);\n                this._mergeStyle(targetStyle, state.style);\n            }\n        }\n        else if (needsRestoreToNormal) {\n            targetStyle = normalState.style;\n        }\n        if (targetStyle) {\n            if (transition) {\n                var sourceStyle = this.style;\n                this.style = this.createStyle(needsRestoreToNormal ? {} : sourceStyle);\n                if (needsRestoreToNormal) {\n                    var changedKeys = keys(sourceStyle);\n                    for (var i = 0; i < changedKeys.length; i++) {\n                        var key = changedKeys[i];\n                        if (key in targetStyle) {\n                            targetStyle[key] = targetStyle[key];\n                            this.style[key] = sourceStyle[key];\n                        }\n                    }\n                }\n                var targetKeys = keys(targetStyle);\n                for (var i = 0; i < targetKeys.length; i++) {\n                    var key = targetKeys[i];\n                    this.style[key] = this.style[key];\n                }\n                this._transitionState(stateName, {\n                    style: targetStyle\n                }, animationCfg, this.getAnimationStyleProps());\n            }\n            else {\n                this.useStyle(targetStyle);\n            }\n        }\n        var statesKeys = this.__inHover ? PRIMARY_STATES_KEYS_IN_HOVER_LAYER : PRIMARY_STATES_KEYS;\n        for (var i = 0; i < statesKeys.length; i++) {\n            var key = statesKeys[i];\n            if (state && state[key] != null) {\n                this[key] = state[key];\n            }\n            else if (needsRestoreToNormal) {\n                if (normalState[key] != null) {\n                    this[key] = normalState[key];\n                }\n            }\n        }\n    };\n    Displayable.prototype._mergeStates = function (states) {\n        var mergedState = _super.prototype._mergeStates.call(this, states);\n        var mergedStyle;\n        for (var i = 0; i < states.length; i++) {\n            var state = states[i];\n            if (state.style) {\n                mergedStyle = mergedStyle || {};\n                this._mergeStyle(mergedStyle, state.style);\n            }\n        }\n        if (mergedStyle) {\n            mergedState.style = mergedStyle;\n        }\n        return mergedState;\n    };\n    Displayable.prototype._mergeStyle = function (targetStyle, sourceStyle) {\n        extend(targetStyle, sourceStyle);\n        return targetStyle;\n    };\n    Displayable.prototype.getAnimationStyleProps = function () {\n        return DEFAULT_COMMON_ANIMATION_PROPS;\n    };\n    Displayable.initDefaultProps = (function () {\n        var dispProto = Displayable.prototype;\n        dispProto.type = 'displayable';\n        dispProto.invisible = false;\n        dispProto.z = 0;\n        dispProto.z2 = 0;\n        dispProto.zlevel = 0;\n        dispProto.culling = false;\n        dispProto.cursor = 'pointer';\n        dispProto.rectHover = false;\n        dispProto.incremental = false;\n        dispProto._rect = null;\n        dispProto.dirtyRectTolerance = 0;\n        dispProto.__dirty = REDRAW_BIT | STYLE_CHANGED_BIT;\n    })();\n    return Displayable;\n}(Element));\nvar tmpRect = new BoundingRect(0, 0, 0, 0);\nvar viewRect = new BoundingRect(0, 0, 0, 0);\nfunction isDisplayableCulled(el, width, height) {\n    tmpRect.copy(el.getBoundingRect());\n    if (el.transform) {\n        tmpRect.applyTransform(el.transform);\n    }\n    viewRect.width = width;\n    viewRect.height = height;\n    return !tmpRect.intersect(viewRect);\n}\nexport default Displayable;\n","import * as vec2 from './vector.js';\nimport * as curve from './curve.js';\nvar mathMin = Math.min;\nvar mathMax = Math.max;\nvar mathSin = Math.sin;\nvar mathCos = Math.cos;\nvar PI2 = Math.PI * 2;\nvar start = vec2.create();\nvar end = vec2.create();\nvar extremity = vec2.create();\nexport function fromPoints(points, min, max) {\n    if (points.length === 0) {\n        return;\n    }\n    var p = points[0];\n    var left = p[0];\n    var right = p[0];\n    var top = p[1];\n    var bottom = p[1];\n    for (var i = 1; i < points.length; i++) {\n        p = points[i];\n        left = mathMin(left, p[0]);\n        right = mathMax(right, p[0]);\n        top = mathMin(top, p[1]);\n        bottom = mathMax(bottom, p[1]);\n    }\n    min[0] = left;\n    min[1] = top;\n    max[0] = right;\n    max[1] = bottom;\n}\nexport function fromLine(x0, y0, x1, y1, min, max) {\n    min[0] = mathMin(x0, x1);\n    min[1] = mathMin(y0, y1);\n    max[0] = mathMax(x0, x1);\n    max[1] = mathMax(y0, y1);\n}\nvar xDim = [];\nvar yDim = [];\nexport function fromCubic(x0, y0, x1, y1, x2, y2, x3, y3, min, max) {\n    var cubicExtrema = curve.cubicExtrema;\n    var cubicAt = curve.cubicAt;\n    var n = cubicExtrema(x0, x1, x2, x3, xDim);\n    min[0] = Infinity;\n    min[1] = Infinity;\n    max[0] = -Infinity;\n    max[1] = -Infinity;\n    for (var i = 0; i < n; i++) {\n        var x = cubicAt(x0, x1, x2, x3, xDim[i]);\n        min[0] = mathMin(x, min[0]);\n        max[0] = mathMax(x, max[0]);\n    }\n    n = cubicExtrema(y0, y1, y2, y3, yDim);\n    for (var i = 0; i < n; i++) {\n        var y = cubicAt(y0, y1, y2, y3, yDim[i]);\n        min[1] = mathMin(y, min[1]);\n        max[1] = mathMax(y, max[1]);\n    }\n    min[0] = mathMin(x0, min[0]);\n    max[0] = mathMax(x0, max[0]);\n    min[0] = mathMin(x3, min[0]);\n    max[0] = mathMax(x3, max[0]);\n    min[1] = mathMin(y0, min[1]);\n    max[1] = mathMax(y0, max[1]);\n    min[1] = mathMin(y3, min[1]);\n    max[1] = mathMax(y3, max[1]);\n}\nexport function fromQuadratic(x0, y0, x1, y1, x2, y2, min, max) {\n    var quadraticExtremum = curve.quadraticExtremum;\n    var quadraticAt = curve.quadraticAt;\n    var tx = mathMax(mathMin(quadraticExtremum(x0, x1, x2), 1), 0);\n    var ty = mathMax(mathMin(quadraticExtremum(y0, y1, y2), 1), 0);\n    var x = quadraticAt(x0, x1, x2, tx);\n    var y = quadraticAt(y0, y1, y2, ty);\n    min[0] = mathMin(x0, x2, x);\n    min[1] = mathMin(y0, y2, y);\n    max[0] = mathMax(x0, x2, x);\n    max[1] = mathMax(y0, y2, y);\n}\nexport function fromArc(x, y, rx, ry, startAngle, endAngle, anticlockwise, min, max) {\n    var vec2Min = vec2.min;\n    var vec2Max = vec2.max;\n    var diff = Math.abs(startAngle - endAngle);\n    if (diff % PI2 < 1e-4 && diff > 1e-4) {\n        min[0] = x - rx;\n        min[1] = y - ry;\n        max[0] = x + rx;\n        max[1] = y + ry;\n        return;\n    }\n    start[0] = mathCos(startAngle) * rx + x;\n    start[1] = mathSin(startAngle) * ry + y;\n    end[0] = mathCos(endAngle) * rx + x;\n    end[1] = mathSin(endAngle) * ry + y;\n    vec2Min(min, start, end);\n    vec2Max(max, start, end);\n    startAngle = startAngle % (PI2);\n    if (startAngle < 0) {\n        startAngle = startAngle + PI2;\n    }\n    endAngle = endAngle % (PI2);\n    if (endAngle < 0) {\n        endAngle = endAngle + PI2;\n    }\n    if (startAngle > endAngle && !anticlockwise) {\n        endAngle += PI2;\n    }\n    else if (startAngle < endAngle && anticlockwise) {\n        startAngle += PI2;\n    }\n    if (anticlockwise) {\n        var tmp = endAngle;\n        endAngle = startAngle;\n        startAngle = tmp;\n    }\n    for (var angle = 0; angle < endAngle; angle += Math.PI / 2) {\n        if (angle > startAngle) {\n            extremity[0] = mathCos(angle) * rx + x;\n            extremity[1] = mathSin(angle) * ry + y;\n            vec2Min(min, extremity, min);\n            vec2Max(max, extremity, max);\n        }\n    }\n}\n","import * as vec2 from './vector.js';\nimport BoundingRect from './BoundingRect.js';\nimport { devicePixelRatio as dpr } from '../config.js';\nimport { fromLine, fromCubic, fromQuadratic, fromArc } from './bbox.js';\nimport { cubicLength, cubicSubdivide, quadraticLength, quadraticSubdivide } from './curve.js';\nvar CMD = {\n    M: 1,\n    L: 2,\n    C: 3,\n    Q: 4,\n    A: 5,\n    Z: 6,\n    R: 7\n};\nvar tmpOutX = [];\nvar tmpOutY = [];\nvar min = [];\nvar max = [];\nvar min2 = [];\nvar max2 = [];\nvar mathMin = Math.min;\nvar mathMax = Math.max;\nvar mathCos = Math.cos;\nvar mathSin = Math.sin;\nvar mathAbs = Math.abs;\nvar PI = Math.PI;\nvar PI2 = PI * 2;\nvar hasTypedArray = typeof Float32Array !== 'undefined';\nvar tmpAngles = [];\nfunction modPI2(radian) {\n    var n = Math.round(radian / PI * 1e8) / 1e8;\n    return (n % 2) * PI;\n}\nexport function normalizeArcAngles(angles, anticlockwise) {\n    var newStartAngle = modPI2(angles[0]);\n    if (newStartAngle < 0) {\n        newStartAngle += PI2;\n    }\n    var delta = newStartAngle - angles[0];\n    var newEndAngle = angles[1];\n    newEndAngle += delta;\n    if (!anticlockwise && newEndAngle - newStartAngle >= PI2) {\n        newEndAngle = newStartAngle + PI2;\n    }\n    else if (anticlockwise && newStartAngle - newEndAngle >= PI2) {\n        newEndAngle = newStartAngle - PI2;\n    }\n    else if (!anticlockwise && newStartAngle > newEndAngle) {\n        newEndAngle = newStartAngle + (PI2 - modPI2(newStartAngle - newEndAngle));\n    }\n    else if (anticlockwise && newStartAngle < newEndAngle) {\n        newEndAngle = newStartAngle - (PI2 - modPI2(newEndAngle - newStartAngle));\n    }\n    angles[0] = newStartAngle;\n    angles[1] = newEndAngle;\n}\nvar PathProxy = (function () {\n    function PathProxy(notSaveData) {\n        this.dpr = 1;\n        this._xi = 0;\n        this._yi = 0;\n        this._x0 = 0;\n        this._y0 = 0;\n        this._len = 0;\n        if (notSaveData) {\n            this._saveData = false;\n        }\n        if (this._saveData) {\n            this.data = [];\n        }\n    }\n    PathProxy.prototype.increaseVersion = function () {\n        this._version++;\n    };\n    PathProxy.prototype.getVersion = function () {\n        return this._version;\n    };\n    PathProxy.prototype.setScale = function (sx, sy, segmentIgnoreThreshold) {\n        segmentIgnoreThreshold = segmentIgnoreThreshold || 0;\n        if (segmentIgnoreThreshold > 0) {\n            this._ux = mathAbs(segmentIgnoreThreshold / dpr / sx) || 0;\n            this._uy = mathAbs(segmentIgnoreThreshold / dpr / sy) || 0;\n        }\n    };\n    PathProxy.prototype.setDPR = function (dpr) {\n        this.dpr = dpr;\n    };\n    PathProxy.prototype.setContext = function (ctx) {\n        this._ctx = ctx;\n    };\n    PathProxy.prototype.getContext = function () {\n        return this._ctx;\n    };\n    PathProxy.prototype.beginPath = function () {\n        this._ctx && this._ctx.beginPath();\n        this.reset();\n        return this;\n    };\n    PathProxy.prototype.reset = function () {\n        if (this._saveData) {\n            this._len = 0;\n        }\n        if (this._pathSegLen) {\n            this._pathSegLen = null;\n            this._pathLen = 0;\n        }\n        this._version++;\n    };\n    PathProxy.prototype.moveTo = function (x, y) {\n        this._drawPendingPt();\n        this.addData(CMD.M, x, y);\n        this._ctx && this._ctx.moveTo(x, y);\n        this._x0 = x;\n        this._y0 = y;\n        this._xi = x;\n        this._yi = y;\n        return this;\n    };\n    PathProxy.prototype.lineTo = function (x, y) {\n        var dx = mathAbs(x - this._xi);\n        var dy = mathAbs(y - this._yi);\n        var exceedUnit = dx > this._ux || dy > this._uy;\n        this.addData(CMD.L, x, y);\n        if (this._ctx && exceedUnit) {\n            this._ctx.lineTo(x, y);\n        }\n        if (exceedUnit) {\n            this._xi = x;\n            this._yi = y;\n            this._pendingPtDist = 0;\n        }\n        else {\n            var d2 = dx * dx + dy * dy;\n            if (d2 > this._pendingPtDist) {\n                this._pendingPtX = x;\n                this._pendingPtY = y;\n                this._pendingPtDist = d2;\n            }\n        }\n        return this;\n    };\n    PathProxy.prototype.bezierCurveTo = function (x1, y1, x2, y2, x3, y3) {\n        this._drawPendingPt();\n        this.addData(CMD.C, x1, y1, x2, y2, x3, y3);\n        if (this._ctx) {\n            this._ctx.bezierCurveTo(x1, y1, x2, y2, x3, y3);\n        }\n        this._xi = x3;\n        this._yi = y3;\n        return this;\n    };\n    PathProxy.prototype.quadraticCurveTo = function (x1, y1, x2, y2) {\n        this._drawPendingPt();\n        this.addData(CMD.Q, x1, y1, x2, y2);\n        if (this._ctx) {\n            this._ctx.quadraticCurveTo(x1, y1, x2, y2);\n        }\n        this._xi = x2;\n        this._yi = y2;\n        return this;\n    };\n    PathProxy.prototype.arc = function (cx, cy, r, startAngle, endAngle, anticlockwise) {\n        this._drawPendingPt();\n        tmpAngles[0] = startAngle;\n        tmpAngles[1] = endAngle;\n        normalizeArcAngles(tmpAngles, anticlockwise);\n        startAngle = tmpAngles[0];\n        endAngle = tmpAngles[1];\n        var delta = endAngle - startAngle;\n        this.addData(CMD.A, cx, cy, r, r, startAngle, delta, 0, anticlockwise ? 0 : 1);\n        this._ctx && this._ctx.arc(cx, cy, r, startAngle, endAngle, anticlockwise);\n        this._xi = mathCos(endAngle) * r + cx;\n        this._yi = mathSin(endAngle) * r + cy;\n        return this;\n    };\n    PathProxy.prototype.arcTo = function (x1, y1, x2, y2, radius) {\n        this._drawPendingPt();\n        if (this._ctx) {\n            this._ctx.arcTo(x1, y1, x2, y2, radius);\n        }\n        return this;\n    };\n    PathProxy.prototype.rect = function (x, y, w, h) {\n        this._drawPendingPt();\n        this._ctx && this._ctx.rect(x, y, w, h);\n        this.addData(CMD.R, x, y, w, h);\n        return this;\n    };\n    PathProxy.prototype.closePath = function () {\n        this._drawPendingPt();\n        this.addData(CMD.Z);\n        var ctx = this._ctx;\n        var x0 = this._x0;\n        var y0 = this._y0;\n        if (ctx) {\n            ctx.closePath();\n        }\n        this._xi = x0;\n        this._yi = y0;\n        return this;\n    };\n    PathProxy.prototype.fill = function (ctx) {\n        ctx && ctx.fill();\n        this.toStatic();\n    };\n    PathProxy.prototype.stroke = function (ctx) {\n        ctx && ctx.stroke();\n        this.toStatic();\n    };\n    PathProxy.prototype.len = function () {\n        return this._len;\n    };\n    PathProxy.prototype.setData = function (data) {\n        var len = data.length;\n        if (!(this.data && this.data.length === len) && hasTypedArray) {\n            this.data = new Float32Array(len);\n        }\n        for (var i = 0; i < len; i++) {\n            this.data[i] = data[i];\n        }\n        this._len = len;\n    };\n    PathProxy.prototype.appendPath = function (path) {\n        if (!(path instanceof Array)) {\n            path = [path];\n        }\n        var len = path.length;\n        var appendSize = 0;\n        var offset = this._len;\n        for (var i = 0; i < len; i++) {\n            appendSize += path[i].len();\n        }\n        if (hasTypedArray && (this.data instanceof Float32Array)) {\n            this.data = new Float32Array(offset + appendSize);\n        }\n        for (var i = 0; i < len; i++) {\n            var appendPathData = path[i].data;\n            for (var k = 0; k < appendPathData.length; k++) {\n                this.data[offset++] = appendPathData[k];\n            }\n        }\n        this._len = offset;\n    };\n    PathProxy.prototype.addData = function (cmd, a, b, c, d, e, f, g, h) {\n        if (!this._saveData) {\n            return;\n        }\n        var data = this.data;\n        if (this._len + arguments.length > data.length) {\n            this._expandData();\n            data = this.data;\n        }\n        for (var i = 0; i < arguments.length; i++) {\n            data[this._len++] = arguments[i];\n        }\n    };\n    PathProxy.prototype._drawPendingPt = function () {\n        if (this._pendingPtDist > 0) {\n            this._ctx && this._ctx.lineTo(this._pendingPtX, this._pendingPtY);\n            this._pendingPtDist = 0;\n        }\n    };\n    PathProxy.prototype._expandData = function () {\n        if (!(this.data instanceof Array)) {\n            var newData = [];\n            for (var i = 0; i < this._len; i++) {\n                newData[i] = this.data[i];\n            }\n            this.data = newData;\n        }\n    };\n    PathProxy.prototype.toStatic = function () {\n        if (!this._saveData) {\n            return;\n        }\n        this._drawPendingPt();\n        var data = this.data;\n        if (data instanceof Array) {\n            data.length = this._len;\n            if (hasTypedArray && this._len > 11) {\n                this.data = new Float32Array(data);\n            }\n        }\n    };\n    PathProxy.prototype.getBoundingRect = function () {\n        min[0] = min[1] = min2[0] = min2[1] = Number.MAX_VALUE;\n        max[0] = max[1] = max2[0] = max2[1] = -Number.MAX_VALUE;\n        var data = this.data;\n        var xi = 0;\n        var yi = 0;\n        var x0 = 0;\n        var y0 = 0;\n        var i;\n        for (i = 0; i < this._len;) {\n            var cmd = data[i++];\n            var isFirst = i === 1;\n            if (isFirst) {\n                xi = data[i];\n                yi = data[i + 1];\n                x0 = xi;\n                y0 = yi;\n            }\n            switch (cmd) {\n                case CMD.M:\n                    xi = x0 = data[i++];\n                    yi = y0 = data[i++];\n                    min2[0] = x0;\n                    min2[1] = y0;\n                    max2[0] = x0;\n                    max2[1] = y0;\n                    break;\n                case CMD.L:\n                    fromLine(xi, yi, data[i], data[i + 1], min2, max2);\n                    xi = data[i++];\n                    yi = data[i++];\n                    break;\n                case CMD.C:\n                    fromCubic(xi, yi, data[i++], data[i++], data[i++], data[i++], data[i], data[i + 1], min2, max2);\n                    xi = data[i++];\n                    yi = data[i++];\n                    break;\n                case CMD.Q:\n                    fromQuadratic(xi, yi, data[i++], data[i++], data[i], data[i + 1], min2, max2);\n                    xi = data[i++];\n                    yi = data[i++];\n                    break;\n                case CMD.A:\n                    var cx = data[i++];\n                    var cy = data[i++];\n                    var rx = data[i++];\n                    var ry = data[i++];\n                    var startAngle = data[i++];\n                    var endAngle = data[i++] + startAngle;\n                    i += 1;\n                    var anticlockwise = !data[i++];\n                    if (isFirst) {\n                        x0 = mathCos(startAngle) * rx + cx;\n                        y0 = mathSin(startAngle) * ry + cy;\n                    }\n                    fromArc(cx, cy, rx, ry, startAngle, endAngle, anticlockwise, min2, max2);\n                    xi = mathCos(endAngle) * rx + cx;\n                    yi = mathSin(endAngle) * ry + cy;\n                    break;\n                case CMD.R:\n                    x0 = xi = data[i++];\n                    y0 = yi = data[i++];\n                    var width = data[i++];\n                    var height = data[i++];\n                    fromLine(x0, y0, x0 + width, y0 + height, min2, max2);\n                    break;\n                case CMD.Z:\n                    xi = x0;\n                    yi = y0;\n                    break;\n            }\n            vec2.min(min, min, min2);\n            vec2.max(max, max, max2);\n        }\n        if (i === 0) {\n            min[0] = min[1] = max[0] = max[1] = 0;\n        }\n        return new BoundingRect(min[0], min[1], max[0] - min[0], max[1] - min[1]);\n    };\n    PathProxy.prototype._calculateLength = function () {\n        var data = this.data;\n        var len = this._len;\n        var ux = this._ux;\n        var uy = this._uy;\n        var xi = 0;\n        var yi = 0;\n        var x0 = 0;\n        var y0 = 0;\n        if (!this._pathSegLen) {\n            this._pathSegLen = [];\n        }\n        var pathSegLen = this._pathSegLen;\n        var pathTotalLen = 0;\n        var segCount = 0;\n        for (var i = 0; i < len;) {\n            var cmd = data[i++];\n            var isFirst = i === 1;\n            if (isFirst) {\n                xi = data[i];\n                yi = data[i + 1];\n                x0 = xi;\n                y0 = yi;\n            }\n            var l = -1;\n            switch (cmd) {\n                case CMD.M:\n                    xi = x0 = data[i++];\n                    yi = y0 = data[i++];\n                    break;\n                case CMD.L: {\n                    var x2 = data[i++];\n                    var y2 = data[i++];\n                    var dx = x2 - xi;\n                    var dy = y2 - yi;\n                    if (mathAbs(dx) > ux || mathAbs(dy) > uy || i === len - 1) {\n                        l = Math.sqrt(dx * dx + dy * dy);\n                        xi = x2;\n                        yi = y2;\n                    }\n                    break;\n                }\n                case CMD.C: {\n                    var x1 = data[i++];\n                    var y1 = data[i++];\n                    var x2 = data[i++];\n                    var y2 = data[i++];\n                    var x3 = data[i++];\n                    var y3 = data[i++];\n                    l = cubicLength(xi, yi, x1, y1, x2, y2, x3, y3, 10);\n                    xi = x3;\n                    yi = y3;\n                    break;\n                }\n                case CMD.Q: {\n                    var x1 = data[i++];\n                    var y1 = data[i++];\n                    var x2 = data[i++];\n                    var y2 = data[i++];\n                    l = quadraticLength(xi, yi, x1, y1, x2, y2, 10);\n                    xi = x2;\n                    yi = y2;\n                    break;\n                }\n                case CMD.A:\n                    var cx = data[i++];\n                    var cy = data[i++];\n                    var rx = data[i++];\n                    var ry = data[i++];\n                    var startAngle = data[i++];\n                    var delta = data[i++];\n                    var endAngle = delta + startAngle;\n                    i += 1;\n                    if (isFirst) {\n                        x0 = mathCos(startAngle) * rx + cx;\n                        y0 = mathSin(startAngle) * ry + cy;\n                    }\n                    l = mathMax(rx, ry) * mathMin(PI2, Math.abs(delta));\n                    xi = mathCos(endAngle) * rx + cx;\n                    yi = mathSin(endAngle) * ry + cy;\n                    break;\n                case CMD.R: {\n                    x0 = xi = data[i++];\n                    y0 = yi = data[i++];\n                    var width = data[i++];\n                    var height = data[i++];\n                    l = width * 2 + height * 2;\n                    break;\n                }\n                case CMD.Z: {\n                    var dx = x0 - xi;\n                    var dy = y0 - yi;\n                    l = Math.sqrt(dx * dx + dy * dy);\n                    xi = x0;\n                    yi = y0;\n                    break;\n                }\n            }\n            if (l >= 0) {\n                pathSegLen[segCount++] = l;\n                pathTotalLen += l;\n            }\n        }\n        this._pathLen = pathTotalLen;\n        return pathTotalLen;\n    };\n    PathProxy.prototype.rebuildPath = function (ctx, percent) {\n        var d = this.data;\n        var ux = this._ux;\n        var uy = this._uy;\n        var len = this._len;\n        var x0;\n        var y0;\n        var xi;\n        var yi;\n        var x;\n        var y;\n        var drawPart = percent < 1;\n        var pathSegLen;\n        var pathTotalLen;\n        var accumLength = 0;\n        var segCount = 0;\n        var displayedLength;\n        var pendingPtDist = 0;\n        var pendingPtX;\n        var pendingPtY;\n        if (drawPart) {\n            if (!this._pathSegLen) {\n                this._calculateLength();\n            }\n            pathSegLen = this._pathSegLen;\n            pathTotalLen = this._pathLen;\n            displayedLength = percent * pathTotalLen;\n            if (!displayedLength) {\n                return;\n            }\n        }\n        lo: for (var i = 0; i < len;) {\n            var cmd = d[i++];\n            var isFirst = i === 1;\n            if (isFirst) {\n                xi = d[i];\n                yi = d[i + 1];\n                x0 = xi;\n                y0 = yi;\n            }\n            if (cmd !== CMD.L && pendingPtDist > 0) {\n                ctx.lineTo(pendingPtX, pendingPtY);\n                pendingPtDist = 0;\n            }\n            switch (cmd) {\n                case CMD.M:\n                    x0 = xi = d[i++];\n                    y0 = yi = d[i++];\n                    ctx.moveTo(xi, yi);\n                    break;\n                case CMD.L: {\n                    x = d[i++];\n                    y = d[i++];\n                    var dx = mathAbs(x - xi);\n                    var dy = mathAbs(y - yi);\n                    if (dx > ux || dy > uy) {\n                        if (drawPart) {\n                            var l = pathSegLen[segCount++];\n                            if (accumLength + l > displayedLength) {\n                                var t = (displayedLength - accumLength) / l;\n                                ctx.lineTo(xi * (1 - t) + x * t, yi * (1 - t) + y * t);\n                                break lo;\n                            }\n                            accumLength += l;\n                        }\n                        ctx.lineTo(x, y);\n                        xi = x;\n                        yi = y;\n                        pendingPtDist = 0;\n                    }\n                    else {\n                        var d2 = dx * dx + dy * dy;\n                        if (d2 > pendingPtDist) {\n                            pendingPtX = x;\n                            pendingPtY = y;\n                            pendingPtDist = d2;\n                        }\n                    }\n                    break;\n                }\n                case CMD.C: {\n                    var x1 = d[i++];\n                    var y1 = d[i++];\n                    var x2 = d[i++];\n                    var y2 = d[i++];\n                    var x3 = d[i++];\n                    var y3 = d[i++];\n                    if (drawPart) {\n                        var l = pathSegLen[segCount++];\n                        if (accumLength + l > displayedLength) {\n                            var t = (displayedLength - accumLength) / l;\n                            cubicSubdivide(xi, x1, x2, x3, t, tmpOutX);\n                            cubicSubdivide(yi, y1, y2, y3, t, tmpOutY);\n                            ctx.bezierCurveTo(tmpOutX[1], tmpOutY[1], tmpOutX[2], tmpOutY[2], tmpOutX[3], tmpOutY[3]);\n                            break lo;\n                        }\n                        accumLength += l;\n                    }\n                    ctx.bezierCurveTo(x1, y1, x2, y2, x3, y3);\n                    xi = x3;\n                    yi = y3;\n                    break;\n                }\n                case CMD.Q: {\n                    var x1 = d[i++];\n                    var y1 = d[i++];\n                    var x2 = d[i++];\n                    var y2 = d[i++];\n                    if (drawPart) {\n                        var l = pathSegLen[segCount++];\n                        if (accumLength + l > displayedLength) {\n                            var t = (displayedLength - accumLength) / l;\n                            quadraticSubdivide(xi, x1, x2, t, tmpOutX);\n                            quadraticSubdivide(yi, y1, y2, t, tmpOutY);\n                            ctx.quadraticCurveTo(tmpOutX[1], tmpOutY[1], tmpOutX[2], tmpOutY[2]);\n                            break lo;\n                        }\n                        accumLength += l;\n                    }\n                    ctx.quadraticCurveTo(x1, y1, x2, y2);\n                    xi = x2;\n                    yi = y2;\n                    break;\n                }\n                case CMD.A:\n                    var cx = d[i++];\n                    var cy = d[i++];\n                    var rx = d[i++];\n                    var ry = d[i++];\n                    var startAngle = d[i++];\n                    var delta = d[i++];\n                    var psi = d[i++];\n                    var anticlockwise = !d[i++];\n                    var r = (rx > ry) ? rx : ry;\n                    var isEllipse = mathAbs(rx - ry) > 1e-3;\n                    var endAngle = startAngle + delta;\n                    var breakBuild = false;\n                    if (drawPart) {\n                        var l = pathSegLen[segCount++];\n                        if (accumLength + l > displayedLength) {\n                            endAngle = startAngle + delta * (displayedLength - accumLength) / l;\n                            breakBuild = true;\n                        }\n                        accumLength += l;\n                    }\n                    if (isEllipse && ctx.ellipse) {\n                        ctx.ellipse(cx, cy, rx, ry, psi, startAngle, endAngle, anticlockwise);\n                    }\n                    else {\n                        ctx.arc(cx, cy, r, startAngle, endAngle, anticlockwise);\n                    }\n                    if (breakBuild) {\n                        break lo;\n                    }\n                    if (isFirst) {\n                        x0 = mathCos(startAngle) * rx + cx;\n                        y0 = mathSin(startAngle) * ry + cy;\n                    }\n                    xi = mathCos(endAngle) * rx + cx;\n                    yi = mathSin(endAngle) * ry + cy;\n                    break;\n                case CMD.R:\n                    x0 = xi = d[i];\n                    y0 = yi = d[i + 1];\n                    x = d[i++];\n                    y = d[i++];\n                    var width = d[i++];\n                    var height = d[i++];\n                    if (drawPart) {\n                        var l = pathSegLen[segCount++];\n                        if (accumLength + l > displayedLength) {\n                            var d_1 = displayedLength - accumLength;\n                            ctx.moveTo(x, y);\n                            ctx.lineTo(x + mathMin(d_1, width), y);\n                            d_1 -= width;\n                            if (d_1 > 0) {\n                                ctx.lineTo(x + width, y + mathMin(d_1, height));\n                            }\n                            d_1 -= height;\n                            if (d_1 > 0) {\n                                ctx.lineTo(x + mathMax(width - d_1, 0), y + height);\n                            }\n                            d_1 -= width;\n                            if (d_1 > 0) {\n                                ctx.lineTo(x, y + mathMax(height - d_1, 0));\n                            }\n                            break lo;\n                        }\n                        accumLength += l;\n                    }\n                    ctx.rect(x, y, width, height);\n                    break;\n                case CMD.Z:\n                    if (drawPart) {\n                        var l = pathSegLen[segCount++];\n                        if (accumLength + l > displayedLength) {\n                            var t = (displayedLength - accumLength) / l;\n                            ctx.lineTo(xi * (1 - t) + x0 * t, yi * (1 - t) + y0 * t);\n                            break lo;\n                        }\n                        accumLength += l;\n                    }\n                    ctx.closePath();\n                    xi = x0;\n                    yi = y0;\n            }\n        }\n    };\n    PathProxy.prototype.clone = function () {\n        var newProxy = new PathProxy();\n        var data = this.data;\n        newProxy.data = data.slice ? data.slice()\n            : Array.prototype.slice.call(data);\n        newProxy._len = this._len;\n        return newProxy;\n    };\n    PathProxy.CMD = CMD;\n    PathProxy.initDefaultProps = (function () {\n        var proto = PathProxy.prototype;\n        proto._saveData = true;\n        proto._ux = 0;\n        proto._uy = 0;\n        proto._pendingPtDist = 0;\n        proto._version = 0;\n    })();\n    return PathProxy;\n}());\nexport default PathProxy;\n","export function containStroke(x0, y0, x1, y1, lineWidth, x, y) {\n    if (lineWidth === 0) {\n        return false;\n    }\n    var _l = lineWidth;\n    var _a = 0;\n    var _b = x0;\n    if ((y > y0 + _l && y > y1 + _l)\n        || (y < y0 - _l && y < y1 - _l)\n        || (x > x0 + _l && x > x1 + _l)\n        || (x < x0 - _l && x < x1 - _l)) {\n        return false;\n    }\n    if (x0 !== x1) {\n        _a = (y0 - y1) / (x0 - x1);\n        _b = (x0 * y1 - x1 * y0) / (x0 - x1);\n    }\n    else {\n        return Math.abs(x - x0) <= _l / 2;\n    }\n    var tmp = _a * x - y + _b;\n    var _s = tmp * tmp / (_a * _a + 1);\n    return _s <= _l / 2 * _l / 2;\n}\n","import * as curve from '../core/curve.js';\nexport function containStroke(x0, y0, x1, y1, x2, y2, x3, y3, lineWidth, x, y) {\n    if (lineWidth === 0) {\n        return false;\n    }\n    var _l = lineWidth;\n    if ((y > y0 + _l && y > y1 + _l && y > y2 + _l && y > y3 + _l)\n        || (y < y0 - _l && y < y1 - _l && y < y2 - _l && y < y3 - _l)\n        || (x > x0 + _l && x > x1 + _l && x > x2 + _l && x > x3 + _l)\n        || (x < x0 - _l && x < x1 - _l && x < x2 - _l && x < x3 - _l)) {\n        return false;\n    }\n    var d = curve.cubicProjectPoint(x0, y0, x1, y1, x2, y2, x3, y3, x, y, null);\n    return d <= _l / 2;\n}\n","import { quadraticProjectPoint } from '../core/curve.js';\nexport function containStroke(x0, y0, x1, y1, x2, y2, lineWidth, x, y) {\n    if (lineWidth === 0) {\n        return false;\n    }\n    var _l = lineWidth;\n    if ((y > y0 + _l && y > y1 + _l && y > y2 + _l)\n        || (y < y0 - _l && y < y1 - _l && y < y2 - _l)\n        || (x > x0 + _l && x > x1 + _l && x > x2 + _l)\n        || (x < x0 - _l && x < x1 - _l && x < x2 - _l)) {\n        return false;\n    }\n    var d = quadraticProjectPoint(x0, y0, x1, y1, x2, y2, x, y, null);\n    return d <= _l / 2;\n}\n","var PI2 = Math.PI * 2;\nexport function normalizeRadian(angle) {\n    angle %= PI2;\n    if (angle < 0) {\n        angle += PI2;\n    }\n    return angle;\n}\n","import { normalizeRadian } from './util.js';\nvar PI2 = Math.PI * 2;\nexport function containStroke(cx, cy, r, startAngle, endAngle, anticlockwise, lineWidth, x, y) {\n    if (lineWidth === 0) {\n        return false;\n    }\n    var _l = lineWidth;\n    x -= cx;\n    y -= cy;\n    var d = Math.sqrt(x * x + y * y);\n    if ((d - _l > r) || (d + _l < r)) {\n        return false;\n    }\n    if (Math.abs(startAngle - endAngle) % PI2 < 1e-4) {\n        return true;\n    }\n    if (anticlockwise) {\n        var tmp = startAngle;\n        startAngle = normalizeRadian(endAngle);\n        endAngle = normalizeRadian(tmp);\n    }\n    else {\n        startAngle = normalizeRadian(startAngle);\n        endAngle = normalizeRadian(endAngle);\n    }\n    if (startAngle > endAngle) {\n        endAngle += PI2;\n    }\n    var angle = Math.atan2(y, x);\n    if (angle < 0) {\n        angle += PI2;\n    }\n    return (angle >= startAngle && angle <= endAngle)\n        || (angle + PI2 >= startAngle && angle + PI2 <= endAngle);\n}\n","export default function windingLine(x0, y0, x1, y1, x, y) {\n    if ((y > y0 && y > y1) || (y < y0 && y < y1)) {\n        return 0;\n    }\n    if (y1 === y0) {\n        return 0;\n    }\n    var t = (y - y0) / (y1 - y0);\n    var dir = y1 < y0 ? 1 : -1;\n    if (t === 1 || t === 0) {\n        dir = y1 < y0 ? 0.5 : -0.5;\n    }\n    var x_ = t * (x1 - x0) + x0;\n    return x_ === x ? Infinity : x_ > x ? dir : 0;\n}\n","import PathProxy from '../core/PathProxy.js';\nimport * as line from './line.js';\nimport * as cubic from './cubic.js';\nimport * as quadratic from './quadratic.js';\nimport * as arc from './arc.js';\nimport * as curve from '../core/curve.js';\nimport windingLine from './windingLine.js';\nvar CMD = PathProxy.CMD;\nvar PI2 = Math.PI * 2;\nvar EPSILON = 1e-4;\nfunction isAroundEqual(a, b) {\n    return Math.abs(a - b) < EPSILON;\n}\nvar roots = [-1, -1, -1];\nvar extrema = [-1, -1];\nfunction swapExtrema() {\n    var tmp = extrema[0];\n    extrema[0] = extrema[1];\n    extrema[1] = tmp;\n}\nfunction windingCubic(x0, y0, x1, y1, x2, y2, x3, y3, x, y) {\n    if ((y > y0 && y > y1 && y > y2 && y > y3)\n        || (y < y0 && y < y1 && y < y2 && y < y3)) {\n        return 0;\n    }\n    var nRoots = curve.cubicRootAt(y0, y1, y2, y3, y, roots);\n    if (nRoots === 0) {\n        return 0;\n    }\n    else {\n        var w = 0;\n        var nExtrema = -1;\n        var y0_ = void 0;\n        var y1_ = void 0;\n        for (var i = 0; i < nRoots; i++) {\n            var t = roots[i];\n            var unit = (t === 0 || t === 1) ? 0.5 : 1;\n            var x_ = curve.cubicAt(x0, x1, x2, x3, t);\n            if (x_ < x) {\n                continue;\n            }\n            if (nExtrema < 0) {\n                nExtrema = curve.cubicExtrema(y0, y1, y2, y3, extrema);\n                if (extrema[1] < extrema[0] && nExtrema > 1) {\n                    swapExtrema();\n                }\n                y0_ = curve.cubicAt(y0, y1, y2, y3, extrema[0]);\n                if (nExtrema > 1) {\n                    y1_ = curve.cubicAt(y0, y1, y2, y3, extrema[1]);\n                }\n            }\n            if (nExtrema === 2) {\n                if (t < extrema[0]) {\n                    w += y0_ < y0 ? unit : -unit;\n                }\n                else if (t < extrema[1]) {\n                    w += y1_ < y0_ ? unit : -unit;\n                }\n                else {\n                    w += y3 < y1_ ? unit : -unit;\n                }\n            }\n            else {\n                if (t < extrema[0]) {\n                    w += y0_ < y0 ? unit : -unit;\n                }\n                else {\n                    w += y3 < y0_ ? unit : -unit;\n                }\n            }\n        }\n        return w;\n    }\n}\nfunction windingQuadratic(x0, y0, x1, y1, x2, y2, x, y) {\n    if ((y > y0 && y > y1 && y > y2)\n        || (y < y0 && y < y1 && y < y2)) {\n        return 0;\n    }\n    var nRoots = curve.quadraticRootAt(y0, y1, y2, y, roots);\n    if (nRoots === 0) {\n        return 0;\n    }\n    else {\n        var t = curve.quadraticExtremum(y0, y1, y2);\n        if (t >= 0 && t <= 1) {\n            var w = 0;\n            var y_ = curve.quadraticAt(y0, y1, y2, t);\n            for (var i = 0; i < nRoots; i++) {\n                var unit = (roots[i] === 0 || roots[i] === 1) ? 0.5 : 1;\n                var x_ = curve.quadraticAt(x0, x1, x2, roots[i]);\n                if (x_ < x) {\n                    continue;\n                }\n                if (roots[i] < t) {\n                    w += y_ < y0 ? unit : -unit;\n                }\n                else {\n                    w += y2 < y_ ? unit : -unit;\n                }\n            }\n            return w;\n        }\n        else {\n            var unit = (roots[0] === 0 || roots[0] === 1) ? 0.5 : 1;\n            var x_ = curve.quadraticAt(x0, x1, x2, roots[0]);\n            if (x_ < x) {\n                return 0;\n            }\n            return y2 < y0 ? unit : -unit;\n        }\n    }\n}\nfunction windingArc(cx, cy, r, startAngle, endAngle, anticlockwise, x, y) {\n    y -= cy;\n    if (y > r || y < -r) {\n        return 0;\n    }\n    var tmp = Math.sqrt(r * r - y * y);\n    roots[0] = -tmp;\n    roots[1] = tmp;\n    var dTheta = Math.abs(startAngle - endAngle);\n    if (dTheta < 1e-4) {\n        return 0;\n    }\n    if (dTheta >= PI2 - 1e-4) {\n        startAngle = 0;\n        endAngle = PI2;\n        var dir = anticlockwise ? 1 : -1;\n        if (x >= roots[0] + cx && x <= roots[1] + cx) {\n            return dir;\n        }\n        else {\n            return 0;\n        }\n    }\n    if (startAngle > endAngle) {\n        var tmp_1 = startAngle;\n        startAngle = endAngle;\n        endAngle = tmp_1;\n    }\n    if (startAngle < 0) {\n        startAngle += PI2;\n        endAngle += PI2;\n    }\n    var w = 0;\n    for (var i = 0; i < 2; i++) {\n        var x_ = roots[i];\n        if (x_ + cx > x) {\n            var angle = Math.atan2(y, x_);\n            var dir = anticlockwise ? 1 : -1;\n            if (angle < 0) {\n                angle = PI2 + angle;\n            }\n            if ((angle >= startAngle && angle <= endAngle)\n                || (angle + PI2 >= startAngle && angle + PI2 <= endAngle)) {\n                if (angle > Math.PI / 2 && angle < Math.PI * 1.5) {\n                    dir = -dir;\n                }\n                w += dir;\n            }\n        }\n    }\n    return w;\n}\nfunction containPath(path, lineWidth, isStroke, x, y) {\n    var data = path.data;\n    var len = path.len();\n    var w = 0;\n    var xi = 0;\n    var yi = 0;\n    var x0 = 0;\n    var y0 = 0;\n    var x1;\n    var y1;\n    for (var i = 0; i < len;) {\n        var cmd = data[i++];\n        var isFirst = i === 1;\n        if (cmd === CMD.M && i > 1) {\n            if (!isStroke) {\n                w += windingLine(xi, yi, x0, y0, x, y);\n            }\n        }\n        if (isFirst) {\n            xi = data[i];\n            yi = data[i + 1];\n            x0 = xi;\n            y0 = yi;\n        }\n        switch (cmd) {\n            case CMD.M:\n                x0 = data[i++];\n                y0 = data[i++];\n                xi = x0;\n                yi = y0;\n                break;\n            case CMD.L:\n                if (isStroke) {\n                    if (line.containStroke(xi, yi, data[i], data[i + 1], lineWidth, x, y)) {\n                        return true;\n                    }\n                }\n                else {\n                    w += windingLine(xi, yi, data[i], data[i + 1], x, y) || 0;\n                }\n                xi = data[i++];\n                yi = data[i++];\n                break;\n            case CMD.C:\n                if (isStroke) {\n                    if (cubic.containStroke(xi, yi, data[i++], data[i++], data[i++], data[i++], data[i], data[i + 1], lineWidth, x, y)) {\n                        return true;\n                    }\n                }\n                else {\n                    w += windingCubic(xi, yi, data[i++], data[i++], data[i++], data[i++], data[i], data[i + 1], x, y) || 0;\n                }\n                xi = data[i++];\n                yi = data[i++];\n                break;\n            case CMD.Q:\n                if (isStroke) {\n                    if (quadratic.containStroke(xi, yi, data[i++], data[i++], data[i], data[i + 1], lineWidth, x, y)) {\n                        return true;\n                    }\n                }\n                else {\n                    w += windingQuadratic(xi, yi, data[i++], data[i++], data[i], data[i + 1], x, y) || 0;\n                }\n                xi = data[i++];\n                yi = data[i++];\n                break;\n            case CMD.A:\n                var cx = data[i++];\n                var cy = data[i++];\n                var rx = data[i++];\n                var ry = data[i++];\n                var theta = data[i++];\n                var dTheta = data[i++];\n                i += 1;\n                var anticlockwise = !!(1 - data[i++]);\n                x1 = Math.cos(theta) * rx + cx;\n                y1 = Math.sin(theta) * ry + cy;\n                if (!isFirst) {\n                    w += windingLine(xi, yi, x1, y1, x, y);\n                }\n                else {\n                    x0 = x1;\n                    y0 = y1;\n                }\n                var _x = (x - cx) * ry / rx + cx;\n                if (isStroke) {\n                    if (arc.containStroke(cx, cy, ry, theta, theta + dTheta, anticlockwise, lineWidth, _x, y)) {\n                        return true;\n                    }\n                }\n                else {\n                    w += windingArc(cx, cy, ry, theta, theta + dTheta, anticlockwise, _x, y);\n                }\n                xi = Math.cos(theta + dTheta) * rx + cx;\n                yi = Math.sin(theta + dTheta) * ry + cy;\n                break;\n            case CMD.R:\n                x0 = xi = data[i++];\n                y0 = yi = data[i++];\n                var width = data[i++];\n                var height = data[i++];\n                x1 = x0 + width;\n                y1 = y0 + height;\n                if (isStroke) {\n                    if (line.containStroke(x0, y0, x1, y0, lineWidth, x, y)\n                        || line.containStroke(x1, y0, x1, y1, lineWidth, x, y)\n                        || line.containStroke(x1, y1, x0, y1, lineWidth, x, y)\n                        || line.containStroke(x0, y1, x0, y0, lineWidth, x, y)) {\n                        return true;\n                    }\n                }\n                else {\n                    w += windingLine(x1, y0, x1, y1, x, y);\n                    w += windingLine(x0, y1, x0, y0, x, y);\n                }\n                break;\n            case CMD.Z:\n                if (isStroke) {\n                    if (line.containStroke(xi, yi, x0, y0, lineWidth, x, y)) {\n                        return true;\n                    }\n                }\n                else {\n                    w += windingLine(xi, yi, x0, y0, x, y);\n                }\n                xi = x0;\n                yi = y0;\n                break;\n        }\n    }\n    if (!isStroke && !isAroundEqual(yi, y0)) {\n        w += windingLine(xi, yi, x0, y0, x, y) || 0;\n    }\n    return w !== 0;\n}\nexport function contain(pathProxy, x, y) {\n    return containPath(pathProxy, 0, false, x, y);\n}\nexport function containStroke(pathProxy, lineWidth, x, y) {\n    return containPath(pathProxy, lineWidth, true, x, y);\n}\n","import { __extends } from \"tslib\";\nimport Displayable, { DEFAULT_COMMON_STYLE, DEFAULT_COMMON_ANIMATION_PROPS } from './Displayable.js';\nimport PathProxy from '../core/PathProxy.js';\nimport * as pathContain from '../contain/path.js';\nimport { defaults, keys, extend, clone, isString, createObject } from '../core/util.js';\nimport { lum } from '../tool/color.js';\nimport { DARK_LABEL_COLOR, LIGHT_LABEL_COLOR, DARK_MODE_THRESHOLD, LIGHTER_LABEL_COLOR } from '../config.js';\nimport { REDRAW_BIT, SHAPE_CHANGED_BIT, STYLE_CHANGED_BIT } from './constants.js';\nimport { TRANSFORMABLE_PROPS } from '../core/Transformable.js';\nexport var DEFAULT_PATH_STYLE = defaults({\n    fill: '#000',\n    stroke: null,\n    strokePercent: 1,\n    fillOpacity: 1,\n    strokeOpacity: 1,\n    lineDashOffset: 0,\n    lineWidth: 1,\n    lineCap: 'butt',\n    miterLimit: 10,\n    strokeNoScale: false,\n    strokeFirst: false\n}, DEFAULT_COMMON_STYLE);\nexport var DEFAULT_PATH_ANIMATION_PROPS = {\n    style: defaults({\n        fill: true,\n        stroke: true,\n        strokePercent: true,\n        fillOpacity: true,\n        strokeOpacity: true,\n        lineDashOffset: true,\n        lineWidth: true,\n        miterLimit: true\n    }, DEFAULT_COMMON_ANIMATION_PROPS.style)\n};\nvar pathCopyParams = TRANSFORMABLE_PROPS.concat(['invisible',\n    'culling', 'z', 'z2', 'zlevel', 'parent'\n]);\nvar Path = (function (_super) {\n    __extends(Path, _super);\n    function Path(opts) {\n        return _super.call(this, opts) || this;\n    }\n    Path.prototype.update = function () {\n        var _this = this;\n        _super.prototype.update.call(this);\n        var style = this.style;\n        if (style.decal) {\n            var decalEl = this._decalEl = this._decalEl || new Path();\n            if (decalEl.buildPath === Path.prototype.buildPath) {\n                decalEl.buildPath = function (ctx) {\n                    _this.buildPath(ctx, _this.shape);\n                };\n            }\n            decalEl.silent = true;\n            var decalElStyle = decalEl.style;\n            for (var key in style) {\n                if (decalElStyle[key] !== style[key]) {\n                    decalElStyle[key] = style[key];\n                }\n            }\n            decalElStyle.fill = style.fill ? style.decal : null;\n            decalElStyle.decal = null;\n            decalElStyle.shadowColor = null;\n            style.strokeFirst && (decalElStyle.stroke = null);\n            for (var i = 0; i < pathCopyParams.length; ++i) {\n                decalEl[pathCopyParams[i]] = this[pathCopyParams[i]];\n            }\n            decalEl.__dirty |= REDRAW_BIT;\n        }\n        else if (this._decalEl) {\n            this._decalEl = null;\n        }\n    };\n    Path.prototype.getDecalElement = function () {\n        return this._decalEl;\n    };\n    Path.prototype._init = function (props) {\n        var keysArr = keys(props);\n        this.shape = this.getDefaultShape();\n        var defaultStyle = this.getDefaultStyle();\n        if (defaultStyle) {\n            this.useStyle(defaultStyle);\n        }\n        for (var i = 0; i < keysArr.length; i++) {\n            var key = keysArr[i];\n            var value = props[key];\n            if (key === 'style') {\n                if (!this.style) {\n                    this.useStyle(value);\n                }\n                else {\n                    extend(this.style, value);\n                }\n            }\n            else if (key === 'shape') {\n                extend(this.shape, value);\n            }\n            else {\n                _super.prototype.attrKV.call(this, key, value);\n            }\n        }\n        if (!this.style) {\n            this.useStyle({});\n        }\n    };\n    Path.prototype.getDefaultStyle = function () {\n        return null;\n    };\n    Path.prototype.getDefaultShape = function () {\n        return {};\n    };\n    Path.prototype.canBeInsideText = function () {\n        return this.hasFill();\n    };\n    Path.prototype.getInsideTextFill = function () {\n        var pathFill = this.style.fill;\n        if (pathFill !== 'none') {\n            if (isString(pathFill)) {\n                var fillLum = lum(pathFill, 0);\n                if (fillLum > 0.5) {\n                    return DARK_LABEL_COLOR;\n                }\n                else if (fillLum > 0.2) {\n                    return LIGHTER_LABEL_COLOR;\n                }\n                return LIGHT_LABEL_COLOR;\n            }\n            else if (pathFill) {\n                return LIGHT_LABEL_COLOR;\n            }\n        }\n        return DARK_LABEL_COLOR;\n    };\n    Path.prototype.getInsideTextStroke = function (textFill) {\n        var pathFill = this.style.fill;\n        if (isString(pathFill)) {\n            var zr = this.__zr;\n            var isDarkMode = !!(zr && zr.isDarkMode());\n            var isDarkLabel = lum(textFill, 0) < DARK_MODE_THRESHOLD;\n            if (isDarkMode === isDarkLabel) {\n                return pathFill;\n            }\n        }\n    };\n    Path.prototype.buildPath = function (ctx, shapeCfg, inBatch) { };\n    Path.prototype.pathUpdated = function () {\n        this.__dirty &= ~SHAPE_CHANGED_BIT;\n    };\n    Path.prototype.getUpdatedPathProxy = function (inBatch) {\n        !this.path && this.createPathProxy();\n        this.path.beginPath();\n        this.buildPath(this.path, this.shape, inBatch);\n        return this.path;\n    };\n    Path.prototype.createPathProxy = function () {\n        this.path = new PathProxy(false);\n    };\n    Path.prototype.hasStroke = function () {\n        var style = this.style;\n        var stroke = style.stroke;\n        return !(stroke == null || stroke === 'none' || !(style.lineWidth > 0));\n    };\n    Path.prototype.hasFill = function () {\n        var style = this.style;\n        var fill = style.fill;\n        return fill != null && fill !== 'none';\n    };\n    Path.prototype.getBoundingRect = function () {\n        var rect = this._rect;\n        var style = this.style;\n        var needsUpdateRect = !rect;\n        if (needsUpdateRect) {\n            var firstInvoke = false;\n            if (!this.path) {\n                firstInvoke = true;\n                this.createPathProxy();\n            }\n            var path = this.path;\n            if (firstInvoke || (this.__dirty & SHAPE_CHANGED_BIT)) {\n                path.beginPath();\n                this.buildPath(path, this.shape, false);\n                this.pathUpdated();\n            }\n            rect = path.getBoundingRect();\n        }\n        this._rect = rect;\n        if (this.hasStroke() && this.path && this.path.len() > 0) {\n            var rectStroke = this._rectStroke || (this._rectStroke = rect.clone());\n            if (this.__dirty || needsUpdateRect) {\n                rectStroke.copy(rect);\n                var lineScale = style.strokeNoScale ? this.getLineScale() : 1;\n                var w = style.lineWidth;\n                if (!this.hasFill()) {\n                    var strokeContainThreshold = this.strokeContainThreshold;\n                    w = Math.max(w, strokeContainThreshold == null ? 4 : strokeContainThreshold);\n                }\n                if (lineScale > 1e-10) {\n                    rectStroke.width += w / lineScale;\n                    rectStroke.height += w / lineScale;\n                    rectStroke.x -= w / lineScale / 2;\n                    rectStroke.y -= w / lineScale / 2;\n                }\n            }\n            return rectStroke;\n        }\n        return rect;\n    };\n    Path.prototype.contain = function (x, y) {\n        var localPos = this.transformCoordToLocal(x, y);\n        var rect = this.getBoundingRect();\n        var style = this.style;\n        x = localPos[0];\n        y = localPos[1];\n        if (rect.contain(x, y)) {\n            var pathProxy = this.path;\n            if (this.hasStroke()) {\n                var lineWidth = style.lineWidth;\n                var lineScale = style.strokeNoScale ? this.getLineScale() : 1;\n                if (lineScale > 1e-10) {\n                    if (!this.hasFill()) {\n                        lineWidth = Math.max(lineWidth, this.strokeContainThreshold);\n                    }\n                    if (pathContain.containStroke(pathProxy, lineWidth / lineScale, x, y)) {\n                        return true;\n                    }\n                }\n            }\n            if (this.hasFill()) {\n                return pathContain.contain(pathProxy, x, y);\n            }\n        }\n        return false;\n    };\n    Path.prototype.dirtyShape = function () {\n        this.__dirty |= SHAPE_CHANGED_BIT;\n        if (this._rect) {\n            this._rect = null;\n        }\n        if (this._decalEl) {\n            this._decalEl.dirtyShape();\n        }\n        this.markRedraw();\n    };\n    Path.prototype.dirty = function () {\n        this.dirtyStyle();\n        this.dirtyShape();\n    };\n    Path.prototype.animateShape = function (loop) {\n        return this.animate('shape', loop);\n    };\n    Path.prototype.updateDuringAnimation = function (targetKey) {\n        if (targetKey === 'style') {\n            this.dirtyStyle();\n        }\n        else if (targetKey === 'shape') {\n            this.dirtyShape();\n        }\n        else {\n            this.markRedraw();\n        }\n    };\n    Path.prototype.attrKV = function (key, value) {\n        if (key === 'shape') {\n            this.setShape(value);\n        }\n        else {\n            _super.prototype.attrKV.call(this, key, value);\n        }\n    };\n    Path.prototype.setShape = function (keyOrObj, value) {\n        var shape = this.shape;\n        if (!shape) {\n            shape = this.shape = {};\n        }\n        if (typeof keyOrObj === 'string') {\n            shape[keyOrObj] = value;\n        }\n        else {\n            extend(shape, keyOrObj);\n        }\n        this.dirtyShape();\n        return this;\n    };\n    Path.prototype.shapeChanged = function () {\n        return !!(this.__dirty & SHAPE_CHANGED_BIT);\n    };\n    Path.prototype.createStyle = function (obj) {\n        return createObject(DEFAULT_PATH_STYLE, obj);\n    };\n    Path.prototype._innerSaveToNormal = function (toState) {\n        _super.prototype._innerSaveToNormal.call(this, toState);\n        var normalState = this._normalState;\n        if (toState.shape && !normalState.shape) {\n            normalState.shape = extend({}, this.shape);\n        }\n    };\n    Path.prototype._applyStateObj = function (stateName, state, normalState, keepCurrentStates, transition, animationCfg) {\n        _super.prototype._applyStateObj.call(this, stateName, state, normalState, keepCurrentStates, transition, animationCfg);\n        var needsRestoreToNormal = !(state && keepCurrentStates);\n        var targetShape;\n        if (state && state.shape) {\n            if (transition) {\n                if (keepCurrentStates) {\n                    targetShape = state.shape;\n                }\n                else {\n                    targetShape = extend({}, normalState.shape);\n                    extend(targetShape, state.shape);\n                }\n            }\n            else {\n                targetShape = extend({}, keepCurrentStates ? this.shape : normalState.shape);\n                extend(targetShape, state.shape);\n            }\n        }\n        else if (needsRestoreToNormal) {\n            targetShape = normalState.shape;\n        }\n        if (targetShape) {\n            if (transition) {\n                this.shape = extend({}, this.shape);\n                var targetShapePrimaryProps = {};\n                var shapeKeys = keys(targetShape);\n                for (var i = 0; i < shapeKeys.length; i++) {\n                    var key = shapeKeys[i];\n                    if (typeof targetShape[key] === 'object') {\n                        this.shape[key] = targetShape[key];\n                    }\n                    else {\n                        targetShapePrimaryProps[key] = targetShape[key];\n                    }\n                }\n                this._transitionState(stateName, {\n                    shape: targetShapePrimaryProps\n                }, animationCfg);\n            }\n            else {\n                this.shape = targetShape;\n                this.dirtyShape();\n            }\n        }\n    };\n    Path.prototype._mergeStates = function (states) {\n        var mergedState = _super.prototype._mergeStates.call(this, states);\n        var mergedShape;\n        for (var i = 0; i < states.length; i++) {\n            var state = states[i];\n            if (state.shape) {\n                mergedShape = mergedShape || {};\n                this._mergeStyle(mergedShape, state.shape);\n            }\n        }\n        if (mergedShape) {\n            mergedState.shape = mergedShape;\n        }\n        return mergedState;\n    };\n    Path.prototype.getAnimationStyleProps = function () {\n        return DEFAULT_PATH_ANIMATION_PROPS;\n    };\n    Path.prototype.isZeroArea = function () {\n        return false;\n    };\n    Path.extend = function (defaultProps) {\n        var Sub = (function (_super) {\n            __extends(Sub, _super);\n            function Sub(opts) {\n                var _this = _super.call(this, opts) || this;\n                defaultProps.init && defaultProps.init.call(_this, opts);\n                return _this;\n            }\n            Sub.prototype.getDefaultStyle = function () {\n                return clone(defaultProps.style);\n            };\n            Sub.prototype.getDefaultShape = function () {\n                return clone(defaultProps.shape);\n            };\n            return Sub;\n        }(Path));\n        for (var key in defaultProps) {\n            if (typeof defaultProps[key] === 'function') {\n                Sub.prototype[key] = defaultProps[key];\n            }\n        }\n        return Sub;\n    };\n    Path.initDefaultProps = (function () {\n        var pathProto = Path.prototype;\n        pathProto.type = 'path';\n        pathProto.strokeContainThreshold = 5;\n        pathProto.segmentIgnoreThreshold = 0;\n        pathProto.subPixelOptimize = false;\n        pathProto.autoBatch = false;\n        pathProto.__dirty = REDRAW_BIT | STYLE_CHANGED_BIT | SHAPE_CHANGED_BIT;\n    })();\n    return Path;\n}(Displayable));\nexport default Path;\n","import { __extends } from \"tslib\";\nimport Displayable from './Displayable.js';\nimport { getBoundingRect } from '../contain/text.js';\nimport { DEFAULT_PATH_STYLE } from './Path.js';\nimport { createObject, defaults } from '../core/util.js';\nimport { DEFAULT_FONT } from '../core/platform.js';\nexport var DEFAULT_TSPAN_STYLE = defaults({\n    strokeFirst: true,\n    font: DEFAULT_FONT,\n    x: 0,\n    y: 0,\n    textAlign: 'left',\n    textBaseline: 'top',\n    miterLimit: 2\n}, DEFAULT_PATH_STYLE);\nvar TSpan = (function (_super) {\n    __extends(TSpan, _super);\n    function TSpan() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TSpan.prototype.hasStroke = function () {\n        var style = this.style;\n        var stroke = style.stroke;\n        return stroke != null && stroke !== 'none' && style.lineWidth > 0;\n    };\n    TSpan.prototype.hasFill = function () {\n        var style = this.style;\n        var fill = style.fill;\n        return fill != null && fill !== 'none';\n    };\n    TSpan.prototype.createStyle = function (obj) {\n        return createObject(DEFAULT_TSPAN_STYLE, obj);\n    };\n    TSpan.prototype.setBoundingRect = function (rect) {\n        this._rect = rect;\n    };\n    TSpan.prototype.getBoundingRect = function () {\n        var style = this.style;\n        if (!this._rect) {\n            var text = style.text;\n            text != null ? (text += '') : (text = '');\n            var rect = getBoundingRect(text, style.font, style.textAlign, style.textBaseline);\n            rect.x += style.x || 0;\n            rect.y += style.y || 0;\n            if (this.hasStroke()) {\n                var w = style.lineWidth;\n                rect.x -= w / 2;\n                rect.y -= w / 2;\n                rect.width += w;\n                rect.height += w;\n            }\n            this._rect = rect;\n        }\n        return this._rect;\n    };\n    TSpan.initDefaultProps = (function () {\n        var tspanProto = TSpan.prototype;\n        tspanProto.dirtyRectTolerance = 10;\n    })();\n    return TSpan;\n}(Displayable));\nTSpan.prototype.type = 'tspan';\nexport default TSpan;\n","import { __extends } from \"tslib\";\nimport Displayable, { DEFAULT_COMMON_STYLE, DEFAULT_COMMON_ANIMATION_PROPS } from './Displayable.js';\nimport BoundingRect from '../core/BoundingRect.js';\nimport { defaults, createObject } from '../core/util.js';\nexport var DEFAULT_IMAGE_STYLE = defaults({\n    x: 0,\n    y: 0\n}, DEFAULT_COMMON_STYLE);\nexport var DEFAULT_IMAGE_ANIMATION_PROPS = {\n    style: defaults({\n        x: true,\n        y: true,\n        width: true,\n        height: true,\n        sx: true,\n        sy: true,\n        sWidth: true,\n        sHeight: true\n    }, DEFAULT_COMMON_ANIMATION_PROPS.style)\n};\nfunction isImageLike(source) {\n    return !!(source\n        && typeof source !== 'string'\n        && source.width && source.height);\n}\nvar ZRImage = (function (_super) {\n    __extends(ZRImage, _super);\n    function ZRImage() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ZRImage.prototype.createStyle = function (obj) {\n        return createObject(DEFAULT_IMAGE_STYLE, obj);\n    };\n    ZRImage.prototype._getSize = function (dim) {\n        var style = this.style;\n        var size = style[dim];\n        if (size != null) {\n            return size;\n        }\n        var imageSource = isImageLike(style.image)\n            ? style.image : this.__image;\n        if (!imageSource) {\n            return 0;\n        }\n        var otherDim = dim === 'width' ? 'height' : 'width';\n        var otherDimSize = style[otherDim];\n        if (otherDimSize == null) {\n            return imageSource[dim];\n        }\n        else {\n            return imageSource[dim] / imageSource[otherDim] * otherDimSize;\n        }\n    };\n    ZRImage.prototype.getWidth = function () {\n        return this._getSize('width');\n    };\n    ZRImage.prototype.getHeight = function () {\n        return this._getSize('height');\n    };\n    ZRImage.prototype.getAnimationStyleProps = function () {\n        return DEFAULT_IMAGE_ANIMATION_PROPS;\n    };\n    ZRImage.prototype.getBoundingRect = function () {\n        var style = this.style;\n        if (!this._rect) {\n            this._rect = new BoundingRect(style.x || 0, style.y || 0, this.getWidth(), this.getHeight());\n        }\n        return this._rect;\n    };\n    return ZRImage;\n}(Displayable));\nZRImage.prototype.type = 'image';\nexport default ZRImage;\n","var round = Math.round;\nexport function subPixelOptimizeLine(outputShape, inputShape, style) {\n    if (!inputShape) {\n        return;\n    }\n    var x1 = inputShape.x1;\n    var x2 = inputShape.x2;\n    var y1 = inputShape.y1;\n    var y2 = inputShape.y2;\n    outputShape.x1 = x1;\n    outputShape.x2 = x2;\n    outputShape.y1 = y1;\n    outputShape.y2 = y2;\n    var lineWidth = style && style.lineWidth;\n    if (!lineWidth) {\n        return outputShape;\n    }\n    if (round(x1 * 2) === round(x2 * 2)) {\n        outputShape.x1 = outputShape.x2 = subPixelOptimize(x1, lineWidth, true);\n    }\n    if (round(y1 * 2) === round(y2 * 2)) {\n        outputShape.y1 = outputShape.y2 = subPixelOptimize(y1, lineWidth, true);\n    }\n    return outputShape;\n}\nexport function subPixelOptimizeRect(outputShape, inputShape, style) {\n    if (!inputShape) {\n        return;\n    }\n    var originX = inputShape.x;\n    var originY = inputShape.y;\n    var originWidth = inputShape.width;\n    var originHeight = inputShape.height;\n    outputShape.x = originX;\n    outputShape.y = originY;\n    outputShape.width = originWidth;\n    outputShape.height = originHeight;\n    var lineWidth = style && style.lineWidth;\n    if (!lineWidth) {\n        return outputShape;\n    }\n    outputShape.x = subPixelOptimize(originX, lineWidth, true);\n    outputShape.y = subPixelOptimize(originY, lineWidth, true);\n    outputShape.width = Math.max(subPixelOptimize(originX + originWidth, lineWidth, false) - outputShape.x, originWidth === 0 ? 0 : 1);\n    outputShape.height = Math.max(subPixelOptimize(originY + originHeight, lineWidth, false) - outputShape.y, originHeight === 0 ? 0 : 1);\n    return outputShape;\n}\nexport function subPixelOptimize(position, lineWidth, positiveOrNegative) {\n    if (!lineWidth) {\n        return position;\n    }\n    var doubledPosition = round(position * 2);\n    return (doubledPosition + round(lineWidth)) % 2 === 0\n        ? doubledPosition / 2\n        : (doubledPosition + (positiveOrNegative ? 1 : -1)) / 2;\n}\n","import { __extends } from \"tslib\";\nimport Path from '../Path.js';\nimport * as roundRectHelper from '../helper/roundRect.js';\nimport { subPixelOptimizeRect } from '../helper/subPixelOptimize.js';\nvar RectShape = (function () {\n    function RectShape() {\n        this.x = 0;\n        this.y = 0;\n        this.width = 0;\n        this.height = 0;\n    }\n    return RectShape;\n}());\nexport { RectShape };\nvar subPixelOptimizeOutputShape = {};\nvar Rect = (function (_super) {\n    __extends(Rect, _super);\n    function Rect(opts) {\n        return _super.call(this, opts) || this;\n    }\n    Rect.prototype.getDefaultShape = function () {\n        return new RectShape();\n    };\n    Rect.prototype.buildPath = function (ctx, shape) {\n        var x;\n        var y;\n        var width;\n        var height;\n        if (this.subPixelOptimize) {\n            var optimizedShape = subPixelOptimizeRect(subPixelOptimizeOutputShape, shape, this.style);\n            x = optimizedShape.x;\n            y = optimizedShape.y;\n            width = optimizedShape.width;\n            height = optimizedShape.height;\n            optimizedShape.r = shape.r;\n            shape = optimizedShape;\n        }\n        else {\n            x = shape.x;\n            y = shape.y;\n            width = shape.width;\n            height = shape.height;\n        }\n        if (!shape.r) {\n            ctx.rect(x, y, width, height);\n        }\n        else {\n            roundRectHelper.buildPath(ctx, shape);\n        }\n    };\n    Rect.prototype.isZeroArea = function () {\n        return !this.shape.width || !this.shape.height;\n    };\n    return Rect;\n}(Path));\nRect.prototype.type = 'rect';\nexport default Rect;\n","export function buildPath(ctx, shape) {\n    var x = shape.x;\n    var y = shape.y;\n    var width = shape.width;\n    var height = shape.height;\n    var r = shape.r;\n    var r1;\n    var r2;\n    var r3;\n    var r4;\n    if (width < 0) {\n        x = x + width;\n        width = -width;\n    }\n    if (height < 0) {\n        y = y + height;\n        height = -height;\n    }\n    if (typeof r === 'number') {\n        r1 = r2 = r3 = r4 = r;\n    }\n    else if (r instanceof Array) {\n        if (r.length === 1) {\n            r1 = r2 = r3 = r4 = r[0];\n        }\n        else if (r.length === 2) {\n            r1 = r3 = r[0];\n            r2 = r4 = r[1];\n        }\n        else if (r.length === 3) {\n            r1 = r[0];\n            r2 = r4 = r[1];\n            r3 = r[2];\n        }\n        else {\n            r1 = r[0];\n            r2 = r[1];\n            r3 = r[2];\n            r4 = r[3];\n        }\n    }\n    else {\n        r1 = r2 = r3 = r4 = 0;\n    }\n    var total;\n    if (r1 + r2 > width) {\n        total = r1 + r2;\n        r1 *= width / total;\n        r2 *= width / total;\n    }\n    if (r3 + r4 > width) {\n        total = r3 + r4;\n        r3 *= width / total;\n        r4 *= width / total;\n    }\n    if (r2 + r3 > height) {\n        total = r2 + r3;\n        r2 *= height / total;\n        r3 *= height / total;\n    }\n    if (r1 + r4 > height) {\n        total = r1 + r4;\n        r1 *= height / total;\n        r4 *= height / total;\n    }\n    ctx.moveTo(x + r1, y);\n    ctx.lineTo(x + width - r2, y);\n    r2 !== 0 && ctx.arc(x + width - r2, y + r2, r2, -Math.PI / 2, 0);\n    ctx.lineTo(x + width, y + height - r3);\n    r3 !== 0 && ctx.arc(x + width - r3, y + height - r3, r3, 0, Math.PI / 2);\n    ctx.lineTo(x + r4, y + height);\n    r4 !== 0 && ctx.arc(x + r4, y + height - r4, r4, Math.PI / 2, Math.PI);\n    ctx.lineTo(x, y + r1);\n    r1 !== 0 && ctx.arc(x + r1, y + r1, r1, Math.PI, Math.PI * 1.5);\n}\n","import { __extends } from \"tslib\";\nimport { parseRichText, parsePlainText } from './helper/parseText.js';\nimport TSpan from './TSpan.js';\nimport { retrieve2, each, normalizeCssArray, trim, retrieve3, extend, keys, defaults } from '../core/util.js';\nimport { adjustTextX, adjustTextY } from '../contain/text.js';\nimport ZRImage from './Image.js';\nimport Rect from './shape/Rect.js';\nimport BoundingRect from '../core/BoundingRect.js';\nimport Displayable, { DEFAULT_COMMON_ANIMATION_PROPS } from './Displayable.js';\nimport { DEFAULT_FONT, DEFAULT_FONT_SIZE } from '../core/platform.js';\nvar DEFAULT_RICH_TEXT_COLOR = {\n    fill: '#000'\n};\nvar DEFAULT_STROKE_LINE_WIDTH = 2;\nexport var DEFAULT_TEXT_ANIMATION_PROPS = {\n    style: defaults({\n        fill: true,\n        stroke: true,\n        fillOpacity: true,\n        strokeOpacity: true,\n        lineWidth: true,\n        fontSize: true,\n        lineHeight: true,\n        width: true,\n        height: true,\n        textShadowColor: true,\n        textShadowBlur: true,\n        textShadowOffsetX: true,\n        textShadowOffsetY: true,\n        backgroundColor: true,\n        padding: true,\n        borderColor: true,\n        borderWidth: true,\n        borderRadius: true\n    }, DEFAULT_COMMON_ANIMATION_PROPS.style)\n};\nvar ZRText = (function (_super) {\n    __extends(ZRText, _super);\n    function ZRText(opts) {\n        var _this = _super.call(this) || this;\n        _this.type = 'text';\n        _this._children = [];\n        _this._defaultStyle = DEFAULT_RICH_TEXT_COLOR;\n        _this.attr(opts);\n        return _this;\n    }\n    ZRText.prototype.childrenRef = function () {\n        return this._children;\n    };\n    ZRText.prototype.update = function () {\n        _super.prototype.update.call(this);\n        if (this.styleChanged()) {\n            this._updateSubTexts();\n        }\n        for (var i = 0; i < this._children.length; i++) {\n            var child = this._children[i];\n            child.zlevel = this.zlevel;\n            child.z = this.z;\n            child.z2 = this.z2;\n            child.culling = this.culling;\n            child.cursor = this.cursor;\n            child.invisible = this.invisible;\n        }\n    };\n    ZRText.prototype.updateTransform = function () {\n        var innerTransformable = this.innerTransformable;\n        if (innerTransformable) {\n            innerTransformable.updateTransform();\n            if (innerTransformable.transform) {\n                this.transform = innerTransformable.transform;\n            }\n        }\n        else {\n            _super.prototype.updateTransform.call(this);\n        }\n    };\n    ZRText.prototype.getLocalTransform = function (m) {\n        var innerTransformable = this.innerTransformable;\n        return innerTransformable\n            ? innerTransformable.getLocalTransform(m)\n            : _super.prototype.getLocalTransform.call(this, m);\n    };\n    ZRText.prototype.getComputedTransform = function () {\n        if (this.__hostTarget) {\n            this.__hostTarget.getComputedTransform();\n            this.__hostTarget.updateInnerText(true);\n        }\n        return _super.prototype.getComputedTransform.call(this);\n    };\n    ZRText.prototype._updateSubTexts = function () {\n        this._childCursor = 0;\n        normalizeTextStyle(this.style);\n        this.style.rich\n            ? this._updateRichTexts()\n            : this._updatePlainTexts();\n        this._children.length = this._childCursor;\n        this.styleUpdated();\n    };\n    ZRText.prototype.addSelfToZr = function (zr) {\n        _super.prototype.addSelfToZr.call(this, zr);\n        for (var i = 0; i < this._children.length; i++) {\n            this._children[i].__zr = zr;\n        }\n    };\n    ZRText.prototype.removeSelfFromZr = function (zr) {\n        _super.prototype.removeSelfFromZr.call(this, zr);\n        for (var i = 0; i < this._children.length; i++) {\n            this._children[i].__zr = null;\n        }\n    };\n    ZRText.prototype.getBoundingRect = function () {\n        if (this.styleChanged()) {\n            this._updateSubTexts();\n        }\n        if (!this._rect) {\n            var tmpRect = new BoundingRect(0, 0, 0, 0);\n            var children = this._children;\n            var tmpMat = [];\n            var rect = null;\n            for (var i = 0; i < children.length; i++) {\n                var child = children[i];\n                var childRect = child.getBoundingRect();\n                var transform = child.getLocalTransform(tmpMat);\n                if (transform) {\n                    tmpRect.copy(childRect);\n                    tmpRect.applyTransform(transform);\n                    rect = rect || tmpRect.clone();\n                    rect.union(tmpRect);\n                }\n                else {\n                    rect = rect || childRect.clone();\n                    rect.union(childRect);\n                }\n            }\n            this._rect = rect || tmpRect;\n        }\n        return this._rect;\n    };\n    ZRText.prototype.setDefaultTextStyle = function (defaultTextStyle) {\n        this._defaultStyle = defaultTextStyle || DEFAULT_RICH_TEXT_COLOR;\n    };\n    ZRText.prototype.setTextContent = function (textContent) {\n        if (process.env.NODE_ENV !== 'production') {\n            throw new Error('Can\\'t attach text on another text');\n        }\n    };\n    ZRText.prototype._mergeStyle = function (targetStyle, sourceStyle) {\n        if (!sourceStyle) {\n            return targetStyle;\n        }\n        var sourceRich = sourceStyle.rich;\n        var targetRich = targetStyle.rich || (sourceRich && {});\n        extend(targetStyle, sourceStyle);\n        if (sourceRich && targetRich) {\n            this._mergeRich(targetRich, sourceRich);\n            targetStyle.rich = targetRich;\n        }\n        else if (targetRich) {\n            targetStyle.rich = targetRich;\n        }\n        return targetStyle;\n    };\n    ZRText.prototype._mergeRich = function (targetRich, sourceRich) {\n        var richNames = keys(sourceRich);\n        for (var i = 0; i < richNames.length; i++) {\n            var richName = richNames[i];\n            targetRich[richName] = targetRich[richName] || {};\n            extend(targetRich[richName], sourceRich[richName]);\n        }\n    };\n    ZRText.prototype.getAnimationStyleProps = function () {\n        return DEFAULT_TEXT_ANIMATION_PROPS;\n    };\n    ZRText.prototype._getOrCreateChild = function (Ctor) {\n        var child = this._children[this._childCursor];\n        if (!child || !(child instanceof Ctor)) {\n            child = new Ctor();\n        }\n        this._children[this._childCursor++] = child;\n        child.__zr = this.__zr;\n        child.parent = this;\n        return child;\n    };\n    ZRText.prototype._updatePlainTexts = function () {\n        var style = this.style;\n        var textFont = style.font || DEFAULT_FONT;\n        var textPadding = style.padding;\n        var text = getStyleText(style);\n        var contentBlock = parsePlainText(text, style);\n        var needDrawBg = needDrawBackground(style);\n        var bgColorDrawn = !!(style.backgroundColor);\n        var outerHeight = contentBlock.outerHeight;\n        var outerWidth = contentBlock.outerWidth;\n        var contentWidth = contentBlock.contentWidth;\n        var textLines = contentBlock.lines;\n        var lineHeight = contentBlock.lineHeight;\n        var defaultStyle = this._defaultStyle;\n        this.isTruncated = !!contentBlock.isTruncated;\n        var baseX = style.x || 0;\n        var baseY = style.y || 0;\n        var textAlign = style.align || defaultStyle.align || 'left';\n        var verticalAlign = style.verticalAlign || defaultStyle.verticalAlign || 'top';\n        var textX = baseX;\n        var textY = adjustTextY(baseY, contentBlock.contentHeight, verticalAlign);\n        if (needDrawBg || textPadding) {\n            var boxX = adjustTextX(baseX, outerWidth, textAlign);\n            var boxY = adjustTextY(baseY, outerHeight, verticalAlign);\n            needDrawBg && this._renderBackground(style, style, boxX, boxY, outerWidth, outerHeight);\n        }\n        textY += lineHeight / 2;\n        if (textPadding) {\n            textX = getTextXForPadding(baseX, textAlign, textPadding);\n            if (verticalAlign === 'top') {\n                textY += textPadding[0];\n            }\n            else if (verticalAlign === 'bottom') {\n                textY -= textPadding[2];\n            }\n        }\n        var defaultLineWidth = 0;\n        var useDefaultFill = false;\n        var textFill = getFill('fill' in style\n            ? style.fill\n            : (useDefaultFill = true, defaultStyle.fill));\n        var textStroke = getStroke('stroke' in style\n            ? style.stroke\n            : (!bgColorDrawn\n                && (!defaultStyle.autoStroke || useDefaultFill))\n                ? (defaultLineWidth = DEFAULT_STROKE_LINE_WIDTH, defaultStyle.stroke)\n                : null);\n        var hasShadow = style.textShadowBlur > 0;\n        var fixedBoundingRect = style.width != null\n            && (style.overflow === 'truncate' || style.overflow === 'break' || style.overflow === 'breakAll');\n        var calculatedLineHeight = contentBlock.calculatedLineHeight;\n        for (var i = 0; i < textLines.length; i++) {\n            var el = this._getOrCreateChild(TSpan);\n            var subElStyle = el.createStyle();\n            el.useStyle(subElStyle);\n            subElStyle.text = textLines[i];\n            subElStyle.x = textX;\n            subElStyle.y = textY;\n            if (textAlign) {\n                subElStyle.textAlign = textAlign;\n            }\n            subElStyle.textBaseline = 'middle';\n            subElStyle.opacity = style.opacity;\n            subElStyle.strokeFirst = true;\n            if (hasShadow) {\n                subElStyle.shadowBlur = style.textShadowBlur || 0;\n                subElStyle.shadowColor = style.textShadowColor || 'transparent';\n                subElStyle.shadowOffsetX = style.textShadowOffsetX || 0;\n                subElStyle.shadowOffsetY = style.textShadowOffsetY || 0;\n            }\n            subElStyle.stroke = textStroke;\n            subElStyle.fill = textFill;\n            if (textStroke) {\n                subElStyle.lineWidth = style.lineWidth || defaultLineWidth;\n                subElStyle.lineDash = style.lineDash;\n                subElStyle.lineDashOffset = style.lineDashOffset || 0;\n            }\n            subElStyle.font = textFont;\n            setSeparateFont(subElStyle, style);\n            textY += lineHeight;\n            if (fixedBoundingRect) {\n                el.setBoundingRect(new BoundingRect(adjustTextX(subElStyle.x, contentWidth, subElStyle.textAlign), adjustTextY(subElStyle.y, calculatedLineHeight, subElStyle.textBaseline), contentWidth, calculatedLineHeight));\n            }\n        }\n    };\n    ZRText.prototype._updateRichTexts = function () {\n        var style = this.style;\n        var text = getStyleText(style);\n        var contentBlock = parseRichText(text, style);\n        var contentWidth = contentBlock.width;\n        var outerWidth = contentBlock.outerWidth;\n        var outerHeight = contentBlock.outerHeight;\n        var textPadding = style.padding;\n        var baseX = style.x || 0;\n        var baseY = style.y || 0;\n        var defaultStyle = this._defaultStyle;\n        var textAlign = style.align || defaultStyle.align;\n        var verticalAlign = style.verticalAlign || defaultStyle.verticalAlign;\n        this.isTruncated = !!contentBlock.isTruncated;\n        var boxX = adjustTextX(baseX, outerWidth, textAlign);\n        var boxY = adjustTextY(baseY, outerHeight, verticalAlign);\n        var xLeft = boxX;\n        var lineTop = boxY;\n        if (textPadding) {\n            xLeft += textPadding[3];\n            lineTop += textPadding[0];\n        }\n        var xRight = xLeft + contentWidth;\n        if (needDrawBackground(style)) {\n            this._renderBackground(style, style, boxX, boxY, outerWidth, outerHeight);\n        }\n        var bgColorDrawn = !!(style.backgroundColor);\n        for (var i = 0; i < contentBlock.lines.length; i++) {\n            var line = contentBlock.lines[i];\n            var tokens = line.tokens;\n            var tokenCount = tokens.length;\n            var lineHeight = line.lineHeight;\n            var remainedWidth = line.width;\n            var leftIndex = 0;\n            var lineXLeft = xLeft;\n            var lineXRight = xRight;\n            var rightIndex = tokenCount - 1;\n            var token = void 0;\n            while (leftIndex < tokenCount\n                && (token = tokens[leftIndex], !token.align || token.align === 'left')) {\n                this._placeToken(token, style, lineHeight, lineTop, lineXLeft, 'left', bgColorDrawn);\n                remainedWidth -= token.width;\n                lineXLeft += token.width;\n                leftIndex++;\n            }\n            while (rightIndex >= 0\n                && (token = tokens[rightIndex], token.align === 'right')) {\n                this._placeToken(token, style, lineHeight, lineTop, lineXRight, 'right', bgColorDrawn);\n                remainedWidth -= token.width;\n                lineXRight -= token.width;\n                rightIndex--;\n            }\n            lineXLeft += (contentWidth - (lineXLeft - xLeft) - (xRight - lineXRight) - remainedWidth) / 2;\n            while (leftIndex <= rightIndex) {\n                token = tokens[leftIndex];\n                this._placeToken(token, style, lineHeight, lineTop, lineXLeft + token.width / 2, 'center', bgColorDrawn);\n                lineXLeft += token.width;\n                leftIndex++;\n            }\n            lineTop += lineHeight;\n        }\n    };\n    ZRText.prototype._placeToken = function (token, style, lineHeight, lineTop, x, textAlign, parentBgColorDrawn) {\n        var tokenStyle = style.rich[token.styleName] || {};\n        tokenStyle.text = token.text;\n        var verticalAlign = token.verticalAlign;\n        var y = lineTop + lineHeight / 2;\n        if (verticalAlign === 'top') {\n            y = lineTop + token.height / 2;\n        }\n        else if (verticalAlign === 'bottom') {\n            y = lineTop + lineHeight - token.height / 2;\n        }\n        var needDrawBg = !token.isLineHolder && needDrawBackground(tokenStyle);\n        needDrawBg && this._renderBackground(tokenStyle, style, textAlign === 'right'\n            ? x - token.width\n            : textAlign === 'center'\n                ? x - token.width / 2\n                : x, y - token.height / 2, token.width, token.height);\n        var bgColorDrawn = !!tokenStyle.backgroundColor;\n        var textPadding = token.textPadding;\n        if (textPadding) {\n            x = getTextXForPadding(x, textAlign, textPadding);\n            y -= token.height / 2 - textPadding[0] - token.innerHeight / 2;\n        }\n        var el = this._getOrCreateChild(TSpan);\n        var subElStyle = el.createStyle();\n        el.useStyle(subElStyle);\n        var defaultStyle = this._defaultStyle;\n        var useDefaultFill = false;\n        var defaultLineWidth = 0;\n        var textFill = getFill('fill' in tokenStyle ? tokenStyle.fill\n            : 'fill' in style ? style.fill\n                : (useDefaultFill = true, defaultStyle.fill));\n        var textStroke = getStroke('stroke' in tokenStyle ? tokenStyle.stroke\n            : 'stroke' in style ? style.stroke\n                : (!bgColorDrawn\n                    && !parentBgColorDrawn\n                    && (!defaultStyle.autoStroke || useDefaultFill)) ? (defaultLineWidth = DEFAULT_STROKE_LINE_WIDTH, defaultStyle.stroke)\n                    : null);\n        var hasShadow = tokenStyle.textShadowBlur > 0\n            || style.textShadowBlur > 0;\n        subElStyle.text = token.text;\n        subElStyle.x = x;\n        subElStyle.y = y;\n        if (hasShadow) {\n            subElStyle.shadowBlur = tokenStyle.textShadowBlur || style.textShadowBlur || 0;\n            subElStyle.shadowColor = tokenStyle.textShadowColor || style.textShadowColor || 'transparent';\n            subElStyle.shadowOffsetX = tokenStyle.textShadowOffsetX || style.textShadowOffsetX || 0;\n            subElStyle.shadowOffsetY = tokenStyle.textShadowOffsetY || style.textShadowOffsetY || 0;\n        }\n        subElStyle.textAlign = textAlign;\n        subElStyle.textBaseline = 'middle';\n        subElStyle.font = token.font || DEFAULT_FONT;\n        subElStyle.opacity = retrieve3(tokenStyle.opacity, style.opacity, 1);\n        setSeparateFont(subElStyle, tokenStyle);\n        if (textStroke) {\n            subElStyle.lineWidth = retrieve3(tokenStyle.lineWidth, style.lineWidth, defaultLineWidth);\n            subElStyle.lineDash = retrieve2(tokenStyle.lineDash, style.lineDash);\n            subElStyle.lineDashOffset = style.lineDashOffset || 0;\n            subElStyle.stroke = textStroke;\n        }\n        if (textFill) {\n            subElStyle.fill = textFill;\n        }\n        var textWidth = token.contentWidth;\n        var textHeight = token.contentHeight;\n        el.setBoundingRect(new BoundingRect(adjustTextX(subElStyle.x, textWidth, subElStyle.textAlign), adjustTextY(subElStyle.y, textHeight, subElStyle.textBaseline), textWidth, textHeight));\n    };\n    ZRText.prototype._renderBackground = function (style, topStyle, x, y, width, height) {\n        var textBackgroundColor = style.backgroundColor;\n        var textBorderWidth = style.borderWidth;\n        var textBorderColor = style.borderColor;\n        var isImageBg = textBackgroundColor && textBackgroundColor.image;\n        var isPlainOrGradientBg = textBackgroundColor && !isImageBg;\n        var textBorderRadius = style.borderRadius;\n        var self = this;\n        var rectEl;\n        var imgEl;\n        if (isPlainOrGradientBg || style.lineHeight || (textBorderWidth && textBorderColor)) {\n            rectEl = this._getOrCreateChild(Rect);\n            rectEl.useStyle(rectEl.createStyle());\n            rectEl.style.fill = null;\n            var rectShape = rectEl.shape;\n            rectShape.x = x;\n            rectShape.y = y;\n            rectShape.width = width;\n            rectShape.height = height;\n            rectShape.r = textBorderRadius;\n            rectEl.dirtyShape();\n        }\n        if (isPlainOrGradientBg) {\n            var rectStyle = rectEl.style;\n            rectStyle.fill = textBackgroundColor || null;\n            rectStyle.fillOpacity = retrieve2(style.fillOpacity, 1);\n        }\n        else if (isImageBg) {\n            imgEl = this._getOrCreateChild(ZRImage);\n            imgEl.onload = function () {\n                self.dirtyStyle();\n            };\n            var imgStyle = imgEl.style;\n            imgStyle.image = textBackgroundColor.image;\n            imgStyle.x = x;\n            imgStyle.y = y;\n            imgStyle.width = width;\n            imgStyle.height = height;\n        }\n        if (textBorderWidth && textBorderColor) {\n            var rectStyle = rectEl.style;\n            rectStyle.lineWidth = textBorderWidth;\n            rectStyle.stroke = textBorderColor;\n            rectStyle.strokeOpacity = retrieve2(style.strokeOpacity, 1);\n            rectStyle.lineDash = style.borderDash;\n            rectStyle.lineDashOffset = style.borderDashOffset || 0;\n            rectEl.strokeContainThreshold = 0;\n            if (rectEl.hasFill() && rectEl.hasStroke()) {\n                rectStyle.strokeFirst = true;\n                rectStyle.lineWidth *= 2;\n            }\n        }\n        var commonStyle = (rectEl || imgEl).style;\n        commonStyle.shadowBlur = style.shadowBlur || 0;\n        commonStyle.shadowColor = style.shadowColor || 'transparent';\n        commonStyle.shadowOffsetX = style.shadowOffsetX || 0;\n        commonStyle.shadowOffsetY = style.shadowOffsetY || 0;\n        commonStyle.opacity = retrieve3(style.opacity, topStyle.opacity, 1);\n    };\n    ZRText.makeFont = function (style) {\n        var font = '';\n        if (hasSeparateFont(style)) {\n            font = [\n                style.fontStyle,\n                style.fontWeight,\n                parseFontSize(style.fontSize),\n                style.fontFamily || 'sans-serif'\n            ].join(' ');\n        }\n        return font && trim(font) || style.textFont || style.font;\n    };\n    return ZRText;\n}(Displayable));\nvar VALID_TEXT_ALIGN = { left: true, right: 1, center: 1 };\nvar VALID_TEXT_VERTICAL_ALIGN = { top: 1, bottom: 1, middle: 1 };\nvar FONT_PARTS = ['fontStyle', 'fontWeight', 'fontSize', 'fontFamily'];\nexport function parseFontSize(fontSize) {\n    if (typeof fontSize === 'string'\n        && (fontSize.indexOf('px') !== -1\n            || fontSize.indexOf('rem') !== -1\n            || fontSize.indexOf('em') !== -1)) {\n        return fontSize;\n    }\n    else if (!isNaN(+fontSize)) {\n        return fontSize + 'px';\n    }\n    else {\n        return DEFAULT_FONT_SIZE + 'px';\n    }\n}\nfunction setSeparateFont(targetStyle, sourceStyle) {\n    for (var i = 0; i < FONT_PARTS.length; i++) {\n        var fontProp = FONT_PARTS[i];\n        var val = sourceStyle[fontProp];\n        if (val != null) {\n            targetStyle[fontProp] = val;\n        }\n    }\n}\nexport function hasSeparateFont(style) {\n    return style.fontSize != null || style.fontFamily || style.fontWeight;\n}\nexport function normalizeTextStyle(style) {\n    normalizeStyle(style);\n    each(style.rich, normalizeStyle);\n    return style;\n}\nfunction normalizeStyle(style) {\n    if (style) {\n        style.font = ZRText.makeFont(style);\n        var textAlign = style.align;\n        textAlign === 'middle' && (textAlign = 'center');\n        style.align = (textAlign == null || VALID_TEXT_ALIGN[textAlign]) ? textAlign : 'left';\n        var verticalAlign = style.verticalAlign;\n        verticalAlign === 'center' && (verticalAlign = 'middle');\n        style.verticalAlign = (verticalAlign == null || VALID_TEXT_VERTICAL_ALIGN[verticalAlign]) ? verticalAlign : 'top';\n        var textPadding = style.padding;\n        if (textPadding) {\n            style.padding = normalizeCssArray(style.padding);\n        }\n    }\n}\nfunction getStroke(stroke, lineWidth) {\n    return (stroke == null || lineWidth <= 0 || stroke === 'transparent' || stroke === 'none')\n        ? null\n        : (stroke.image || stroke.colorStops)\n            ? '#000'\n            : stroke;\n}\nfunction getFill(fill) {\n    return (fill == null || fill === 'none')\n        ? null\n        : (fill.image || fill.colorStops)\n            ? '#000'\n            : fill;\n}\nfunction getTextXForPadding(x, textAlign, textPadding) {\n    return textAlign === 'right'\n        ? (x - textPadding[1])\n        : textAlign === 'center'\n            ? (x + textPadding[3] / 2 - textPadding[1] / 2)\n            : (x + textPadding[3]);\n}\nfunction getStyleText(style) {\n    var text = style.text;\n    text != null && (text += '');\n    return text;\n}\nfunction needDrawBackground(style) {\n    return !!(style.backgroundColor\n        || style.lineHeight\n        || (style.borderWidth && style.borderColor));\n}\nexport default ZRText;\n","import PathProxy from '../core/PathProxy.js';\nimport { applyTransform as v2ApplyTransform } from '../core/vector.js';\nvar CMD = PathProxy.CMD;\nvar points = [[], [], []];\nvar mathSqrt = Math.sqrt;\nvar mathAtan2 = Math.atan2;\nexport default function transformPath(path, m) {\n    if (!m) {\n        return;\n    }\n    var data = path.data;\n    var len = path.len();\n    var cmd;\n    var nPoint;\n    var i;\n    var j;\n    var k;\n    var p;\n    var M = CMD.M;\n    var C = CMD.C;\n    var L = CMD.L;\n    var R = CMD.R;\n    var A = CMD.A;\n    var Q = CMD.Q;\n    for (i = 0, j = 0; i < len;) {\n        cmd = data[i++];\n        j = i;\n        nPoint = 0;\n        switch (cmd) {\n            case M:\n                nPoint = 1;\n                break;\n            case L:\n                nPoint = 1;\n                break;\n            case C:\n                nPoint = 3;\n                break;\n            case Q:\n                nPoint = 2;\n                break;\n            case A:\n                var x = m[4];\n                var y = m[5];\n                var sx = mathSqrt(m[0] * m[0] + m[1] * m[1]);\n                var sy = mathSqrt(m[2] * m[2] + m[3] * m[3]);\n                var angle = mathAtan2(-m[1] / sy, m[0] / sx);\n                data[i] *= sx;\n                data[i++] += x;\n                data[i] *= sy;\n                data[i++] += y;\n                data[i++] *= sx;\n                data[i++] *= sy;\n                data[i++] += angle;\n                data[i++] += angle;\n                i += 2;\n                j = i;\n                break;\n            case R:\n                p[0] = data[i++];\n                p[1] = data[i++];\n                v2ApplyTransform(p, p, m);\n                data[j++] = p[0];\n                data[j++] = p[1];\n                p[0] += data[i++];\n                p[1] += data[i++];\n                v2ApplyTransform(p, p, m);\n                data[j++] = p[0];\n                data[j++] = p[1];\n        }\n        for (k = 0; k < nPoint; k++) {\n            var p_1 = points[k];\n            p_1[0] = data[i++];\n            p_1[1] = data[i++];\n            v2ApplyTransform(p_1, p_1, m);\n            data[j++] = p_1[0];\n            data[j++] = p_1[1];\n        }\n    }\n    path.increaseVersion();\n}\n","import { __extends } from \"tslib\";\nimport Path from '../graphic/Path.js';\nimport PathProxy from '../core/PathProxy.js';\nimport transformPath from './transformPath.js';\nimport { extend } from '../core/util.js';\nvar mathSqrt = Math.sqrt;\nvar mathSin = Math.sin;\nvar mathCos = Math.cos;\nvar PI = Math.PI;\nfunction vMag(v) {\n    return Math.sqrt(v[0] * v[0] + v[1] * v[1]);\n}\n;\nfunction vRatio(u, v) {\n    return (u[0] * v[0] + u[1] * v[1]) / (vMag(u) * vMag(v));\n}\n;\nfunction vAngle(u, v) {\n    return (u[0] * v[1] < u[1] * v[0] ? -1 : 1)\n        * Math.acos(vRatio(u, v));\n}\n;\nfunction processArc(x1, y1, x2, y2, fa, fs, rx, ry, psiDeg, cmd, path) {\n    var psi = psiDeg * (PI / 180.0);\n    var xp = mathCos(psi) * (x1 - x2) / 2.0\n        + mathSin(psi) * (y1 - y2) / 2.0;\n    var yp = -1 * mathSin(psi) * (x1 - x2) / 2.0\n        + mathCos(psi) * (y1 - y2) / 2.0;\n    var lambda = (xp * xp) / (rx * rx) + (yp * yp) / (ry * ry);\n    if (lambda > 1) {\n        rx *= mathSqrt(lambda);\n        ry *= mathSqrt(lambda);\n    }\n    var f = (fa === fs ? -1 : 1)\n        * mathSqrt((((rx * rx) * (ry * ry))\n            - ((rx * rx) * (yp * yp))\n            - ((ry * ry) * (xp * xp))) / ((rx * rx) * (yp * yp)\n            + (ry * ry) * (xp * xp))) || 0;\n    var cxp = f * rx * yp / ry;\n    var cyp = f * -ry * xp / rx;\n    var cx = (x1 + x2) / 2.0\n        + mathCos(psi) * cxp\n        - mathSin(psi) * cyp;\n    var cy = (y1 + y2) / 2.0\n        + mathSin(psi) * cxp\n        + mathCos(psi) * cyp;\n    var theta = vAngle([1, 0], [(xp - cxp) / rx, (yp - cyp) / ry]);\n    var u = [(xp - cxp) / rx, (yp - cyp) / ry];\n    var v = [(-1 * xp - cxp) / rx, (-1 * yp - cyp) / ry];\n    var dTheta = vAngle(u, v);\n    if (vRatio(u, v) <= -1) {\n        dTheta = PI;\n    }\n    if (vRatio(u, v) >= 1) {\n        dTheta = 0;\n    }\n    if (dTheta < 0) {\n        var n = Math.round(dTheta / PI * 1e6) / 1e6;\n        dTheta = PI * 2 + (n % 2) * PI;\n    }\n    path.addData(cmd, cx, cy, rx, ry, theta, dTheta, psi, fs);\n}\nvar commandReg = /([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig;\nvar numberReg = /-?([0-9]*\\.)?[0-9]+([eE]-?[0-9]+)?/g;\nfunction createPathProxyFromString(data) {\n    var path = new PathProxy();\n    if (!data) {\n        return path;\n    }\n    var cpx = 0;\n    var cpy = 0;\n    var subpathX = cpx;\n    var subpathY = cpy;\n    var prevCmd;\n    var CMD = PathProxy.CMD;\n    var cmdList = data.match(commandReg);\n    if (!cmdList) {\n        return path;\n    }\n    for (var l = 0; l < cmdList.length; l++) {\n        var cmdText = cmdList[l];\n        var cmdStr = cmdText.charAt(0);\n        var cmd = void 0;\n        var p = cmdText.match(numberReg) || [];\n        var pLen = p.length;\n        for (var i = 0; i < pLen; i++) {\n            p[i] = parseFloat(p[i]);\n        }\n        var off = 0;\n        while (off < pLen) {\n            var ctlPtx = void 0;\n            var ctlPty = void 0;\n            var rx = void 0;\n            var ry = void 0;\n            var psi = void 0;\n            var fa = void 0;\n            var fs = void 0;\n            var x1 = cpx;\n            var y1 = cpy;\n            var len = void 0;\n            var pathData = void 0;\n            switch (cmdStr) {\n                case 'l':\n                    cpx += p[off++];\n                    cpy += p[off++];\n                    cmd = CMD.L;\n                    path.addData(cmd, cpx, cpy);\n                    break;\n                case 'L':\n                    cpx = p[off++];\n                    cpy = p[off++];\n                    cmd = CMD.L;\n                    path.addData(cmd, cpx, cpy);\n                    break;\n                case 'm':\n                    cpx += p[off++];\n                    cpy += p[off++];\n                    cmd = CMD.M;\n                    path.addData(cmd, cpx, cpy);\n                    subpathX = cpx;\n                    subpathY = cpy;\n                    cmdStr = 'l';\n                    break;\n                case 'M':\n                    cpx = p[off++];\n                    cpy = p[off++];\n                    cmd = CMD.M;\n                    path.addData(cmd, cpx, cpy);\n                    subpathX = cpx;\n                    subpathY = cpy;\n                    cmdStr = 'L';\n                    break;\n                case 'h':\n                    cpx += p[off++];\n                    cmd = CMD.L;\n                    path.addData(cmd, cpx, cpy);\n                    break;\n                case 'H':\n                    cpx = p[off++];\n                    cmd = CMD.L;\n                    path.addData(cmd, cpx, cpy);\n                    break;\n                case 'v':\n                    cpy += p[off++];\n                    cmd = CMD.L;\n                    path.addData(cmd, cpx, cpy);\n                    break;\n                case 'V':\n                    cpy = p[off++];\n                    cmd = CMD.L;\n                    path.addData(cmd, cpx, cpy);\n                    break;\n                case 'C':\n                    cmd = CMD.C;\n                    path.addData(cmd, p[off++], p[off++], p[off++], p[off++], p[off++], p[off++]);\n                    cpx = p[off - 2];\n                    cpy = p[off - 1];\n                    break;\n                case 'c':\n                    cmd = CMD.C;\n                    path.addData(cmd, p[off++] + cpx, p[off++] + cpy, p[off++] + cpx, p[off++] + cpy, p[off++] + cpx, p[off++] + cpy);\n                    cpx += p[off - 2];\n                    cpy += p[off - 1];\n                    break;\n                case 'S':\n                    ctlPtx = cpx;\n                    ctlPty = cpy;\n                    len = path.len();\n                    pathData = path.data;\n                    if (prevCmd === CMD.C) {\n                        ctlPtx += cpx - pathData[len - 4];\n                        ctlPty += cpy - pathData[len - 3];\n                    }\n                    cmd = CMD.C;\n                    x1 = p[off++];\n                    y1 = p[off++];\n                    cpx = p[off++];\n                    cpy = p[off++];\n                    path.addData(cmd, ctlPtx, ctlPty, x1, y1, cpx, cpy);\n                    break;\n                case 's':\n                    ctlPtx = cpx;\n                    ctlPty = cpy;\n                    len = path.len();\n                    pathData = path.data;\n                    if (prevCmd === CMD.C) {\n                        ctlPtx += cpx - pathData[len - 4];\n                        ctlPty += cpy - pathData[len - 3];\n                    }\n                    cmd = CMD.C;\n                    x1 = cpx + p[off++];\n                    y1 = cpy + p[off++];\n                    cpx += p[off++];\n                    cpy += p[off++];\n                    path.addData(cmd, ctlPtx, ctlPty, x1, y1, cpx, cpy);\n                    break;\n                case 'Q':\n                    x1 = p[off++];\n                    y1 = p[off++];\n                    cpx = p[off++];\n                    cpy = p[off++];\n                    cmd = CMD.Q;\n                    path.addData(cmd, x1, y1, cpx, cpy);\n                    break;\n                case 'q':\n                    x1 = p[off++] + cpx;\n                    y1 = p[off++] + cpy;\n                    cpx += p[off++];\n                    cpy += p[off++];\n                    cmd = CMD.Q;\n                    path.addData(cmd, x1, y1, cpx, cpy);\n                    break;\n                case 'T':\n                    ctlPtx = cpx;\n                    ctlPty = cpy;\n                    len = path.len();\n                    pathData = path.data;\n                    if (prevCmd === CMD.Q) {\n                        ctlPtx += cpx - pathData[len - 4];\n                        ctlPty += cpy - pathData[len - 3];\n                    }\n                    cpx = p[off++];\n                    cpy = p[off++];\n                    cmd = CMD.Q;\n                    path.addData(cmd, ctlPtx, ctlPty, cpx, cpy);\n                    break;\n                case 't':\n                    ctlPtx = cpx;\n                    ctlPty = cpy;\n                    len = path.len();\n                    pathData = path.data;\n                    if (prevCmd === CMD.Q) {\n                        ctlPtx += cpx - pathData[len - 4];\n                        ctlPty += cpy - pathData[len - 3];\n                    }\n                    cpx += p[off++];\n                    cpy += p[off++];\n                    cmd = CMD.Q;\n                    path.addData(cmd, ctlPtx, ctlPty, cpx, cpy);\n                    break;\n                case 'A':\n                    rx = p[off++];\n                    ry = p[off++];\n                    psi = p[off++];\n                    fa = p[off++];\n                    fs = p[off++];\n                    x1 = cpx, y1 = cpy;\n                    cpx = p[off++];\n                    cpy = p[off++];\n                    cmd = CMD.A;\n                    processArc(x1, y1, cpx, cpy, fa, fs, rx, ry, psi, cmd, path);\n                    break;\n                case 'a':\n                    rx = p[off++];\n                    ry = p[off++];\n                    psi = p[off++];\n                    fa = p[off++];\n                    fs = p[off++];\n                    x1 = cpx, y1 = cpy;\n                    cpx += p[off++];\n                    cpy += p[off++];\n                    cmd = CMD.A;\n                    processArc(x1, y1, cpx, cpy, fa, fs, rx, ry, psi, cmd, path);\n                    break;\n            }\n        }\n        if (cmdStr === 'z' || cmdStr === 'Z') {\n            cmd = CMD.Z;\n            path.addData(cmd);\n            cpx = subpathX;\n            cpy = subpathY;\n        }\n        prevCmd = cmd;\n    }\n    path.toStatic();\n    return path;\n}\nvar SVGPath = (function (_super) {\n    __extends(SVGPath, _super);\n    function SVGPath() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    SVGPath.prototype.applyTransform = function (m) { };\n    return SVGPath;\n}(Path));\nfunction isPathProxy(path) {\n    return path.setData != null;\n}\nfunction createPathOptions(str, opts) {\n    var pathProxy = createPathProxyFromString(str);\n    var innerOpts = extend({}, opts);\n    innerOpts.buildPath = function (path) {\n        if (isPathProxy(path)) {\n            path.setData(pathProxy.data);\n            var ctx = path.getContext();\n            if (ctx) {\n                path.rebuildPath(ctx, 1);\n            }\n        }\n        else {\n            var ctx = path;\n            pathProxy.rebuildPath(ctx, 1);\n        }\n    };\n    innerOpts.applyTransform = function (m) {\n        transformPath(pathProxy, m);\n        this.dirtyShape();\n    };\n    return innerOpts;\n}\nexport function createFromString(str, opts) {\n    return new SVGPath(createPathOptions(str, opts));\n}\nexport function extendFromString(str, defaultOpts) {\n    var innerOpts = createPathOptions(str, defaultOpts);\n    var Sub = (function (_super) {\n        __extends(Sub, _super);\n        function Sub(opts) {\n            var _this = _super.call(this, opts) || this;\n            _this.applyTransform = innerOpts.applyTransform;\n            _this.buildPath = innerOpts.buildPath;\n            return _this;\n        }\n        return Sub;\n    }(SVGPath));\n    return Sub;\n}\nexport function mergePath(pathEls, opts) {\n    var pathList = [];\n    var len = pathEls.length;\n    for (var i = 0; i < len; i++) {\n        var pathEl = pathEls[i];\n        pathList.push(pathEl.getUpdatedPathProxy(true));\n    }\n    var pathBundle = new Path(opts);\n    pathBundle.createPathProxy();\n    pathBundle.buildPath = function (path) {\n        if (isPathProxy(path)) {\n            path.appendPath(pathList);\n            var ctx = path.getContext();\n            if (ctx) {\n                path.rebuildPath(ctx, 1);\n            }\n        }\n    };\n    return pathBundle;\n}\nexport function clonePath(sourcePath, opts) {\n    opts = opts || {};\n    var path = new Path();\n    if (sourcePath.shape) {\n        path.setShape(sourcePath.shape);\n    }\n    path.setStyle(sourcePath.style);\n    if (opts.bakeTransform) {\n        transformPath(path.path, sourcePath.getComputedTransform());\n    }\n    else {\n        if (opts.toLocal) {\n            path.setLocalTransform(sourcePath.getComputedTransform());\n        }\n        else {\n            path.copyTransform(sourcePath);\n        }\n    }\n    path.buildPath = sourcePath.buildPath;\n    path.applyTransform = path.applyTransform;\n    path.z = sourcePath.z;\n    path.z2 = sourcePath.z2;\n    path.zlevel = sourcePath.zlevel;\n    return path;\n}\n","import { __extends } from \"tslib\";\nimport Path from '../Path.js';\nvar CircleShape = (function () {\n    function CircleShape() {\n        this.cx = 0;\n        this.cy = 0;\n        this.r = 0;\n    }\n    return CircleShape;\n}());\nexport { CircleShape };\nvar Circle = (function (_super) {\n    __extends(Circle, _super);\n    function Circle(opts) {\n        return _super.call(this, opts) || this;\n    }\n    Circle.prototype.getDefaultShape = function () {\n        return new CircleShape();\n    };\n    Circle.prototype.buildPath = function (ctx, shape) {\n        ctx.moveTo(shape.cx + shape.r, shape.cy);\n        ctx.arc(shape.cx, shape.cy, shape.r, 0, Math.PI * 2);\n    };\n    return Circle;\n}(Path));\n;\nCircle.prototype.type = 'circle';\nexport default Circle;\n","import { __extends } from \"tslib\";\nimport Path from '../Path.js';\nvar EllipseShape = (function () {\n    function EllipseShape() {\n        this.cx = 0;\n        this.cy = 0;\n        this.rx = 0;\n        this.ry = 0;\n    }\n    return EllipseShape;\n}());\nexport { EllipseShape };\nvar Ellipse = (function (_super) {\n    __extends(Ellipse, _super);\n    function Ellipse(opts) {\n        return _super.call(this, opts) || this;\n    }\n    Ellipse.prototype.getDefaultShape = function () {\n        return new EllipseShape();\n    };\n    Ellipse.prototype.buildPath = function (ctx, shape) {\n        var k = 0.5522848;\n        var x = shape.cx;\n        var y = shape.cy;\n        var a = shape.rx;\n        var b = shape.ry;\n        var ox = a * k;\n        var oy = b * k;\n        ctx.moveTo(x - a, y);\n        ctx.bezierCurveTo(x - a, y - oy, x - ox, y - b, x, y - b);\n        ctx.bezierCurveTo(x + ox, y - b, x + a, y - oy, x + a, y);\n        ctx.bezierCurveTo(x + a, y + oy, x + ox, y + b, x, y + b);\n        ctx.bezierCurveTo(x - ox, y + b, x - a, y + oy, x - a, y);\n        ctx.closePath();\n    };\n    return Ellipse;\n}(Path));\nEllipse.prototype.type = 'ellipse';\nexport default Ellipse;\n","import { isArray } from '../../core/util.js';\nvar PI = Math.PI;\nvar PI2 = PI * 2;\nvar mathSin = Math.sin;\nvar mathCos = Math.cos;\nvar mathACos = Math.acos;\nvar mathATan2 = Math.atan2;\nvar mathAbs = Math.abs;\nvar mathSqrt = Math.sqrt;\nvar mathMax = Math.max;\nvar mathMin = Math.min;\nvar e = 1e-4;\nfunction intersect(x0, y0, x1, y1, x2, y2, x3, y3) {\n    var dx10 = x1 - x0;\n    var dy10 = y1 - y0;\n    var dx32 = x3 - x2;\n    var dy32 = y3 - y2;\n    var t = dy32 * dx10 - dx32 * dy10;\n    if (t * t < e) {\n        return;\n    }\n    t = (dx32 * (y0 - y2) - dy32 * (x0 - x2)) / t;\n    return [x0 + t * dx10, y0 + t * dy10];\n}\nfunction computeCornerTangents(x0, y0, x1, y1, radius, cr, clockwise) {\n    var x01 = x0 - x1;\n    var y01 = y0 - y1;\n    var lo = (clockwise ? cr : -cr) / mathSqrt(x01 * x01 + y01 * y01);\n    var ox = lo * y01;\n    var oy = -lo * x01;\n    var x11 = x0 + ox;\n    var y11 = y0 + oy;\n    var x10 = x1 + ox;\n    var y10 = y1 + oy;\n    var x00 = (x11 + x10) / 2;\n    var y00 = (y11 + y10) / 2;\n    var dx = x10 - x11;\n    var dy = y10 - y11;\n    var d2 = dx * dx + dy * dy;\n    var r = radius - cr;\n    var s = x11 * y10 - x10 * y11;\n    var d = (dy < 0 ? -1 : 1) * mathSqrt(mathMax(0, r * r * d2 - s * s));\n    var cx0 = (s * dy - dx * d) / d2;\n    var cy0 = (-s * dx - dy * d) / d2;\n    var cx1 = (s * dy + dx * d) / d2;\n    var cy1 = (-s * dx + dy * d) / d2;\n    var dx0 = cx0 - x00;\n    var dy0 = cy0 - y00;\n    var dx1 = cx1 - x00;\n    var dy1 = cy1 - y00;\n    if (dx0 * dx0 + dy0 * dy0 > dx1 * dx1 + dy1 * dy1) {\n        cx0 = cx1;\n        cy0 = cy1;\n    }\n    return {\n        cx: cx0,\n        cy: cy0,\n        x0: -ox,\n        y0: -oy,\n        x1: cx0 * (radius / r - 1),\n        y1: cy0 * (radius / r - 1)\n    };\n}\nfunction normalizeCornerRadius(cr) {\n    var arr;\n    if (isArray(cr)) {\n        var len = cr.length;\n        if (!len) {\n            return cr;\n        }\n        if (len === 1) {\n            arr = [cr[0], cr[0], 0, 0];\n        }\n        else if (len === 2) {\n            arr = [cr[0], cr[0], cr[1], cr[1]];\n        }\n        else if (len === 3) {\n            arr = cr.concat(cr[2]);\n        }\n        else {\n            arr = cr;\n        }\n    }\n    else {\n        arr = [cr, cr, cr, cr];\n    }\n    return arr;\n}\nexport function buildPath(ctx, shape) {\n    var _a;\n    var radius = mathMax(shape.r, 0);\n    var innerRadius = mathMax(shape.r0 || 0, 0);\n    var hasRadius = radius > 0;\n    var hasInnerRadius = innerRadius > 0;\n    if (!hasRadius && !hasInnerRadius) {\n        return;\n    }\n    if (!hasRadius) {\n        radius = innerRadius;\n        innerRadius = 0;\n    }\n    if (innerRadius > radius) {\n        var tmp = radius;\n        radius = innerRadius;\n        innerRadius = tmp;\n    }\n    var startAngle = shape.startAngle, endAngle = shape.endAngle;\n    if (isNaN(startAngle) || isNaN(endAngle)) {\n        return;\n    }\n    var cx = shape.cx, cy = shape.cy;\n    var clockwise = !!shape.clockwise;\n    var arc = mathAbs(endAngle - startAngle);\n    var mod = arc > PI2 && arc % PI2;\n    mod > e && (arc = mod);\n    if (!(radius > e)) {\n        ctx.moveTo(cx, cy);\n    }\n    else if (arc > PI2 - e) {\n        ctx.moveTo(cx + radius * mathCos(startAngle), cy + radius * mathSin(startAngle));\n        ctx.arc(cx, cy, radius, startAngle, endAngle, !clockwise);\n        if (innerRadius > e) {\n            ctx.moveTo(cx + innerRadius * mathCos(endAngle), cy + innerRadius * mathSin(endAngle));\n            ctx.arc(cx, cy, innerRadius, endAngle, startAngle, clockwise);\n        }\n    }\n    else {\n        var icrStart = void 0;\n        var icrEnd = void 0;\n        var ocrStart = void 0;\n        var ocrEnd = void 0;\n        var ocrs = void 0;\n        var ocre = void 0;\n        var icrs = void 0;\n        var icre = void 0;\n        var ocrMax = void 0;\n        var icrMax = void 0;\n        var limitedOcrMax = void 0;\n        var limitedIcrMax = void 0;\n        var xre = void 0;\n        var yre = void 0;\n        var xirs = void 0;\n        var yirs = void 0;\n        var xrs = radius * mathCos(startAngle);\n        var yrs = radius * mathSin(startAngle);\n        var xire = innerRadius * mathCos(endAngle);\n        var yire = innerRadius * mathSin(endAngle);\n        var hasArc = arc > e;\n        if (hasArc) {\n            var cornerRadius = shape.cornerRadius;\n            if (cornerRadius) {\n                _a = normalizeCornerRadius(cornerRadius), icrStart = _a[0], icrEnd = _a[1], ocrStart = _a[2], ocrEnd = _a[3];\n            }\n            var halfRd = mathAbs(radius - innerRadius) / 2;\n            ocrs = mathMin(halfRd, ocrStart);\n            ocre = mathMin(halfRd, ocrEnd);\n            icrs = mathMin(halfRd, icrStart);\n            icre = mathMin(halfRd, icrEnd);\n            limitedOcrMax = ocrMax = mathMax(ocrs, ocre);\n            limitedIcrMax = icrMax = mathMax(icrs, icre);\n            if (ocrMax > e || icrMax > e) {\n                xre = radius * mathCos(endAngle);\n                yre = radius * mathSin(endAngle);\n                xirs = innerRadius * mathCos(startAngle);\n                yirs = innerRadius * mathSin(startAngle);\n                if (arc < PI) {\n                    var it_1 = intersect(xrs, yrs, xirs, yirs, xre, yre, xire, yire);\n                    if (it_1) {\n                        var x0 = xrs - it_1[0];\n                        var y0 = yrs - it_1[1];\n                        var x1 = xre - it_1[0];\n                        var y1 = yre - it_1[1];\n                        var a = 1 / mathSin(mathACos((x0 * x1 + y0 * y1) / (mathSqrt(x0 * x0 + y0 * y0) * mathSqrt(x1 * x1 + y1 * y1))) / 2);\n                        var b = mathSqrt(it_1[0] * it_1[0] + it_1[1] * it_1[1]);\n                        limitedOcrMax = mathMin(ocrMax, (radius - b) / (a + 1));\n                        limitedIcrMax = mathMin(icrMax, (innerRadius - b) / (a - 1));\n                    }\n                }\n            }\n        }\n        if (!hasArc) {\n            ctx.moveTo(cx + xrs, cy + yrs);\n        }\n        else if (limitedOcrMax > e) {\n            var crStart = mathMin(ocrStart, limitedOcrMax);\n            var crEnd = mathMin(ocrEnd, limitedOcrMax);\n            var ct0 = computeCornerTangents(xirs, yirs, xrs, yrs, radius, crStart, clockwise);\n            var ct1 = computeCornerTangents(xre, yre, xire, yire, radius, crEnd, clockwise);\n            ctx.moveTo(cx + ct0.cx + ct0.x0, cy + ct0.cy + ct0.y0);\n            if (limitedOcrMax < ocrMax && crStart === crEnd) {\n                ctx.arc(cx + ct0.cx, cy + ct0.cy, limitedOcrMax, mathATan2(ct0.y0, ct0.x0), mathATan2(ct1.y0, ct1.x0), !clockwise);\n            }\n            else {\n                crStart > 0 && ctx.arc(cx + ct0.cx, cy + ct0.cy, crStart, mathATan2(ct0.y0, ct0.x0), mathATan2(ct0.y1, ct0.x1), !clockwise);\n                ctx.arc(cx, cy, radius, mathATan2(ct0.cy + ct0.y1, ct0.cx + ct0.x1), mathATan2(ct1.cy + ct1.y1, ct1.cx + ct1.x1), !clockwise);\n                crEnd > 0 && ctx.arc(cx + ct1.cx, cy + ct1.cy, crEnd, mathATan2(ct1.y1, ct1.x1), mathATan2(ct1.y0, ct1.x0), !clockwise);\n            }\n        }\n        else {\n            ctx.moveTo(cx + xrs, cy + yrs);\n            ctx.arc(cx, cy, radius, startAngle, endAngle, !clockwise);\n        }\n        if (!(innerRadius > e) || !hasArc) {\n            ctx.lineTo(cx + xire, cy + yire);\n        }\n        else if (limitedIcrMax > e) {\n            var crStart = mathMin(icrStart, limitedIcrMax);\n            var crEnd = mathMin(icrEnd, limitedIcrMax);\n            var ct0 = computeCornerTangents(xire, yire, xre, yre, innerRadius, -crEnd, clockwise);\n            var ct1 = computeCornerTangents(xrs, yrs, xirs, yirs, innerRadius, -crStart, clockwise);\n            ctx.lineTo(cx + ct0.cx + ct0.x0, cy + ct0.cy + ct0.y0);\n            if (limitedIcrMax < icrMax && crStart === crEnd) {\n                ctx.arc(cx + ct0.cx, cy + ct0.cy, limitedIcrMax, mathATan2(ct0.y0, ct0.x0), mathATan2(ct1.y0, ct1.x0), !clockwise);\n            }\n            else {\n                crEnd > 0 && ctx.arc(cx + ct0.cx, cy + ct0.cy, crEnd, mathATan2(ct0.y0, ct0.x0), mathATan2(ct0.y1, ct0.x1), !clockwise);\n                ctx.arc(cx, cy, innerRadius, mathATan2(ct0.cy + ct0.y1, ct0.cx + ct0.x1), mathATan2(ct1.cy + ct1.y1, ct1.cx + ct1.x1), clockwise);\n                crStart > 0 && ctx.arc(cx + ct1.cx, cy + ct1.cy, crStart, mathATan2(ct1.y1, ct1.x1), mathATan2(ct1.y0, ct1.x0), !clockwise);\n            }\n        }\n        else {\n            ctx.lineTo(cx + xire, cy + yire);\n            ctx.arc(cx, cy, innerRadius, endAngle, startAngle, clockwise);\n        }\n    }\n    ctx.closePath();\n}\n","import { __extends } from \"tslib\";\nimport Path from '../Path.js';\nimport * as roundSectorHelper from '../helper/roundSector.js';\nvar SectorShape = (function () {\n    function SectorShape() {\n        this.cx = 0;\n        this.cy = 0;\n        this.r0 = 0;\n        this.r = 0;\n        this.startAngle = 0;\n        this.endAngle = Math.PI * 2;\n        this.clockwise = true;\n        this.cornerRadius = 0;\n    }\n    return SectorShape;\n}());\nexport { SectorShape };\nvar Sector = (function (_super) {\n    __extends(Sector, _super);\n    function Sector(opts) {\n        return _super.call(this, opts) || this;\n    }\n    Sector.prototype.getDefaultShape = function () {\n        return new SectorShape();\n    };\n    Sector.prototype.buildPath = function (ctx, shape) {\n        roundSectorHelper.buildPath(ctx, shape);\n    };\n    Sector.prototype.isZeroArea = function () {\n        return this.shape.startAngle === this.shape.endAngle\n            || this.shape.r === this.shape.r0;\n    };\n    return Sector;\n}(Path));\nSector.prototype.type = 'sector';\nexport default Sector;\n","import { __extends } from \"tslib\";\nimport Path from '../Path.js';\nvar RingShape = (function () {\n    function RingShape() {\n        this.cx = 0;\n        this.cy = 0;\n        this.r = 0;\n        this.r0 = 0;\n    }\n    return RingShape;\n}());\nexport { RingShape };\nvar Ring = (function (_super) {\n    __extends(Ring, _super);\n    function Ring(opts) {\n        return _super.call(this, opts) || this;\n    }\n    Ring.prototype.getDefaultShape = function () {\n        return new RingShape();\n    };\n    Ring.prototype.buildPath = function (ctx, shape) {\n        var x = shape.cx;\n        var y = shape.cy;\n        var PI2 = Math.PI * 2;\n        ctx.moveTo(x + shape.r, y);\n        ctx.arc(x, y, shape.r, 0, PI2, false);\n        ctx.moveTo(x + shape.r0, y);\n        ctx.arc(x, y, shape.r0, 0, PI2, true);\n    };\n    return Ring;\n}(Path));\nRing.prototype.type = 'ring';\nexport default Ring;\n","import smoothBezier from './smoothBezier.js';\nexport function buildPath(ctx, shape, closePath) {\n    var smooth = shape.smooth;\n    var points = shape.points;\n    if (points && points.length >= 2) {\n        if (smooth) {\n            var controlPoints = smoothBezier(points, smooth, closePath, shape.smoothConstraint);\n            ctx.moveTo(points[0][0], points[0][1]);\n            var len = points.length;\n            for (var i = 0; i < (closePath ? len : len - 1); i++) {\n                var cp1 = controlPoints[i * 2];\n                var cp2 = controlPoints[i * 2 + 1];\n                var p = points[(i + 1) % len];\n                ctx.bezierCurveTo(cp1[0], cp1[1], cp2[0], cp2[1], p[0], p[1]);\n            }\n        }\n        else {\n            ctx.moveTo(points[0][0], points[0][1]);\n            for (var i = 1, l = points.length; i < l; i++) {\n                ctx.lineTo(points[i][0], points[i][1]);\n            }\n        }\n        closePath && ctx.closePath();\n    }\n}\n","import { min as v2Min, max as v2Max, scale as v2Scale, distance as v2Distance, add as v2Add, clone as v2Clone, sub as v2Sub } from '../../core/vector.js';\nexport default function smoothBezier(points, smooth, isLoop, constraint) {\n    var cps = [];\n    var v = [];\n    var v1 = [];\n    var v2 = [];\n    var prevPoint;\n    var nextPoint;\n    var min;\n    var max;\n    if (constraint) {\n        min = [Infinity, Infinity];\n        max = [-Infinity, -Infinity];\n        for (var i = 0, len = points.length; i < len; i++) {\n            v2Min(min, min, points[i]);\n            v2Max(max, max, points[i]);\n        }\n        v2Min(min, min, constraint[0]);\n        v2Max(max, max, constraint[1]);\n    }\n    for (var i = 0, len = points.length; i < len; i++) {\n        var point = points[i];\n        if (isLoop) {\n            prevPoint = points[i ? i - 1 : len - 1];\n            nextPoint = points[(i + 1) % len];\n        }\n        else {\n            if (i === 0 || i === len - 1) {\n                cps.push(v2Clone(points[i]));\n                continue;\n            }\n            else {\n                prevPoint = points[i - 1];\n                nextPoint = points[i + 1];\n            }\n        }\n        v2Sub(v, nextPoint, prevPoint);\n        v2Scale(v, v, smooth);\n        var d0 = v2Distance(point, prevPoint);\n        var d1 = v2Distance(point, nextPoint);\n        var sum = d0 + d1;\n        if (sum !== 0) {\n            d0 /= sum;\n            d1 /= sum;\n        }\n        v2Scale(v1, v, -d0);\n        v2Scale(v2, v, d1);\n        var cp0 = v2Add([], point, v1);\n        var cp1 = v2Add([], point, v2);\n        if (constraint) {\n            v2Max(cp0, cp0, min);\n            v2Min(cp0, cp0, max);\n            v2Max(cp1, cp1, min);\n            v2Min(cp1, cp1, max);\n        }\n        cps.push(cp0);\n        cps.push(cp1);\n    }\n    if (isLoop) {\n        cps.push(cps.shift());\n    }\n    return cps;\n}\n","import { __extends } from \"tslib\";\nimport Path from '../Path.js';\nimport * as polyHelper from '../helper/poly.js';\nvar PolygonShape = (function () {\n    function PolygonShape() {\n        this.points = null;\n        this.smooth = 0;\n        this.smoothConstraint = null;\n    }\n    return PolygonShape;\n}());\nexport { PolygonShape };\nvar Polygon = (function (_super) {\n    __extends(Polygon, _super);\n    function Polygon(opts) {\n        return _super.call(this, opts) || this;\n    }\n    Polygon.prototype.getDefaultShape = function () {\n        return new PolygonShape();\n    };\n    Polygon.prototype.buildPath = function (ctx, shape) {\n        polyHelper.buildPath(ctx, shape, true);\n    };\n    return Polygon;\n}(Path));\n;\nPolygon.prototype.type = 'polygon';\nexport default Polygon;\n","import { __extends } from \"tslib\";\nimport Path from '../Path.js';\nimport * as polyHelper from '../helper/poly.js';\nvar PolylineShape = (function () {\n    function PolylineShape() {\n        this.points = null;\n        this.percent = 1;\n        this.smooth = 0;\n        this.smoothConstraint = null;\n    }\n    return PolylineShape;\n}());\nexport { PolylineShape };\nvar Polyline = (function (_super) {\n    __extends(Polyline, _super);\n    function Polyline(opts) {\n        return _super.call(this, opts) || this;\n    }\n    Polyline.prototype.getDefaultStyle = function () {\n        return {\n            stroke: '#000',\n            fill: null\n        };\n    };\n    Polyline.prototype.getDefaultShape = function () {\n        return new PolylineShape();\n    };\n    Polyline.prototype.buildPath = function (ctx, shape) {\n        polyHelper.buildPath(ctx, shape, false);\n    };\n    return Polyline;\n}(Path));\nPolyline.prototype.type = 'polyline';\nexport default Polyline;\n","import { __extends } from \"tslib\";\nimport Path from '../Path.js';\nimport { subPixelOptimizeLine } from '../helper/subPixelOptimize.js';\nvar subPixelOptimizeOutputShape = {};\nvar LineShape = (function () {\n    function LineShape() {\n        this.x1 = 0;\n        this.y1 = 0;\n        this.x2 = 0;\n        this.y2 = 0;\n        this.percent = 1;\n    }\n    return LineShape;\n}());\nexport { LineShape };\nvar Line = (function (_super) {\n    __extends(Line, _super);\n    function Line(opts) {\n        return _super.call(this, opts) || this;\n    }\n    Line.prototype.getDefaultStyle = function () {\n        return {\n            stroke: '#000',\n            fill: null\n        };\n    };\n    Line.prototype.getDefaultShape = function () {\n        return new LineShape();\n    };\n    Line.prototype.buildPath = function (ctx, shape) {\n        var x1;\n        var y1;\n        var x2;\n        var y2;\n        if (this.subPixelOptimize) {\n            var optimizedShape = subPixelOptimizeLine(subPixelOptimizeOutputShape, shape, this.style);\n            x1 = optimizedShape.x1;\n            y1 = optimizedShape.y1;\n            x2 = optimizedShape.x2;\n            y2 = optimizedShape.y2;\n        }\n        else {\n            x1 = shape.x1;\n            y1 = shape.y1;\n            x2 = shape.x2;\n            y2 = shape.y2;\n        }\n        var percent = shape.percent;\n        if (percent === 0) {\n            return;\n        }\n        ctx.moveTo(x1, y1);\n        if (percent < 1) {\n            x2 = x1 * (1 - percent) + x2 * percent;\n            y2 = y1 * (1 - percent) + y2 * percent;\n        }\n        ctx.lineTo(x2, y2);\n    };\n    Line.prototype.pointAt = function (p) {\n        var shape = this.shape;\n        return [\n            shape.x1 * (1 - p) + shape.x2 * p,\n            shape.y1 * (1 - p) + shape.y2 * p\n        ];\n    };\n    return Line;\n}(Path));\nLine.prototype.type = 'line';\nexport default Line;\n","import { __extends } from \"tslib\";\nimport Path from '../Path.js';\nimport * as vec2 from '../../core/vector.js';\nimport { quadraticSubdivide, cubicSubdivide, quadraticAt, cubicAt, quadraticDerivativeAt, cubicDerivativeAt } from '../../core/curve.js';\nvar out = [];\nvar BezierCurveShape = (function () {\n    function BezierCurveShape() {\n        this.x1 = 0;\n        this.y1 = 0;\n        this.x2 = 0;\n        this.y2 = 0;\n        this.cpx1 = 0;\n        this.cpy1 = 0;\n        this.percent = 1;\n    }\n    return BezierCurveShape;\n}());\nexport { BezierCurveShape };\nfunction someVectorAt(shape, t, isTangent) {\n    var cpx2 = shape.cpx2;\n    var cpy2 = shape.cpy2;\n    if (cpx2 != null || cpy2 != null) {\n        return [\n            (isTangent ? cubicDerivativeAt : cubicAt)(shape.x1, shape.cpx1, shape.cpx2, shape.x2, t),\n            (isTangent ? cubicDerivativeAt : cubicAt)(shape.y1, shape.cpy1, shape.cpy2, shape.y2, t)\n        ];\n    }\n    else {\n        return [\n            (isTangent ? quadraticDerivativeAt : quadraticAt)(shape.x1, shape.cpx1, shape.x2, t),\n            (isTangent ? quadraticDerivativeAt : quadraticAt)(shape.y1, shape.cpy1, shape.y2, t)\n        ];\n    }\n}\nvar BezierCurve = (function (_super) {\n    __extends(BezierCurve, _super);\n    function BezierCurve(opts) {\n        return _super.call(this, opts) || this;\n    }\n    BezierCurve.prototype.getDefaultStyle = function () {\n        return {\n            stroke: '#000',\n            fill: null\n        };\n    };\n    BezierCurve.prototype.getDefaultShape = function () {\n        return new BezierCurveShape();\n    };\n    BezierCurve.prototype.buildPath = function (ctx, shape) {\n        var x1 = shape.x1;\n        var y1 = shape.y1;\n        var x2 = shape.x2;\n        var y2 = shape.y2;\n        var cpx1 = shape.cpx1;\n        var cpy1 = shape.cpy1;\n        var cpx2 = shape.cpx2;\n        var cpy2 = shape.cpy2;\n        var percent = shape.percent;\n        if (percent === 0) {\n            return;\n        }\n        ctx.moveTo(x1, y1);\n        if (cpx2 == null || cpy2 == null) {\n            if (percent < 1) {\n                quadraticSubdivide(x1, cpx1, x2, percent, out);\n                cpx1 = out[1];\n                x2 = out[2];\n                quadraticSubdivide(y1, cpy1, y2, percent, out);\n                cpy1 = out[1];\n                y2 = out[2];\n            }\n            ctx.quadraticCurveTo(cpx1, cpy1, x2, y2);\n        }\n        else {\n            if (percent < 1) {\n                cubicSubdivide(x1, cpx1, cpx2, x2, percent, out);\n                cpx1 = out[1];\n                cpx2 = out[2];\n                x2 = out[3];\n                cubicSubdivide(y1, cpy1, cpy2, y2, percent, out);\n                cpy1 = out[1];\n                cpy2 = out[2];\n                y2 = out[3];\n            }\n            ctx.bezierCurveTo(cpx1, cpy1, cpx2, cpy2, x2, y2);\n        }\n    };\n    BezierCurve.prototype.pointAt = function (t) {\n        return someVectorAt(this.shape, t, false);\n    };\n    BezierCurve.prototype.tangentAt = function (t) {\n        var p = someVectorAt(this.shape, t, true);\n        return vec2.normalize(p, p);\n    };\n    return BezierCurve;\n}(Path));\n;\nBezierCurve.prototype.type = 'bezier-curve';\nexport default BezierCurve;\n","import { __extends } from \"tslib\";\nimport Path from '../Path.js';\nvar ArcShape = (function () {\n    function ArcShape() {\n        this.cx = 0;\n        this.cy = 0;\n        this.r = 0;\n        this.startAngle = 0;\n        this.endAngle = Math.PI * 2;\n        this.clockwise = true;\n    }\n    return ArcShape;\n}());\nexport { ArcShape };\nvar Arc = (function (_super) {\n    __extends(Arc, _super);\n    function Arc(opts) {\n        return _super.call(this, opts) || this;\n    }\n    Arc.prototype.getDefaultStyle = function () {\n        return {\n            stroke: '#000',\n            fill: null\n        };\n    };\n    Arc.prototype.getDefaultShape = function () {\n        return new ArcShape();\n    };\n    Arc.prototype.buildPath = function (ctx, shape) {\n        var x = shape.cx;\n        var y = shape.cy;\n        var r = Math.max(shape.r, 0);\n        var startAngle = shape.startAngle;\n        var endAngle = shape.endAngle;\n        var clockwise = shape.clockwise;\n        var unitX = Math.cos(startAngle);\n        var unitY = Math.sin(startAngle);\n        ctx.moveTo(unitX * r + x, unitY * r + y);\n        ctx.arc(x, y, r, startAngle, endAngle, !clockwise);\n    };\n    return Arc;\n}(Path));\nArc.prototype.type = 'arc';\nexport default Arc;\n","import { __extends } from \"tslib\";\nimport Path from './Path.js';\nvar CompoundPath = (function (_super) {\n    __extends(CompoundPath, _super);\n    function CompoundPath() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = 'compound';\n        return _this;\n    }\n    CompoundPath.prototype._updatePathDirty = function () {\n        var paths = this.shape.paths;\n        var dirtyPath = this.shapeChanged();\n        for (var i = 0; i < paths.length; i++) {\n            dirtyPath = dirtyPath || paths[i].shapeChanged();\n        }\n        if (dirtyPath) {\n            this.dirtyShape();\n        }\n    };\n    CompoundPath.prototype.beforeBrush = function () {\n        this._updatePathDirty();\n        var paths = this.shape.paths || [];\n        var scale = this.getGlobalScale();\n        for (var i = 0; i < paths.length; i++) {\n            if (!paths[i].path) {\n                paths[i].createPathProxy();\n            }\n            paths[i].path.setScale(scale[0], scale[1], paths[i].segmentIgnoreThreshold);\n        }\n    };\n    CompoundPath.prototype.buildPath = function (ctx, shape) {\n        var paths = shape.paths || [];\n        for (var i = 0; i < paths.length; i++) {\n            paths[i].buildPath(ctx, paths[i].shape, true);\n        }\n    };\n    CompoundPath.prototype.afterBrush = function () {\n        var paths = this.shape.paths || [];\n        for (var i = 0; i < paths.length; i++) {\n            paths[i].pathUpdated();\n        }\n    };\n    CompoundPath.prototype.getBoundingRect = function () {\n        this._updatePathDirty.call(this);\n        return Path.prototype.getBoundingRect.call(this);\n    };\n    return CompoundPath;\n}(Path));\nexport default CompoundPath;\n","var Gradient = (function () {\n    function Gradient(colorStops) {\n        this.colorStops = colorStops || [];\n    }\n    Gradient.prototype.addColorStop = function (offset, color) {\n        this.colorStops.push({\n            offset: offset,\n            color: color\n        });\n    };\n    return Gradient;\n}());\nexport default Gradient;\n","import { __extends } from \"tslib\";\nimport Gradient from './Gradient.js';\nvar LinearGradient = (function (_super) {\n    __extends(LinearGradient, _super);\n    function LinearGradient(x, y, x2, y2, colorStops, globalCoord) {\n        var _this = _super.call(this, colorStops) || this;\n        _this.x = x == null ? 0 : x;\n        _this.y = y == null ? 0 : y;\n        _this.x2 = x2 == null ? 1 : x2;\n        _this.y2 = y2 == null ? 0 : y2;\n        _this.type = 'linear';\n        _this.global = globalCoord || false;\n        return _this;\n    }\n    return LinearGradient;\n}(Gradient));\nexport default LinearGradient;\n;\n","import { __extends } from \"tslib\";\nimport Gradient from './Gradient.js';\nvar RadialGradient = (function (_super) {\n    __extends(RadialGradient, _super);\n    function RadialGradient(x, y, r, colorStops, globalCoord) {\n        var _this = _super.call(this, colorStops) || this;\n        _this.x = x == null ? 0.5 : x;\n        _this.y = y == null ? 0.5 : y;\n        _this.r = r == null ? 0.5 : r;\n        _this.type = 'radial';\n        _this.global = globalCoord || false;\n        return _this;\n    }\n    return RadialGradient;\n}(Gradient));\nexport default RadialGradient;\n","import Point from './Point.js';\nvar extent = [0, 0];\nvar extent2 = [0, 0];\nvar minTv = new Point();\nvar maxTv = new Point();\nvar OrientedBoundingRect = (function () {\n    function OrientedBoundingRect(rect, transform) {\n        this._corners = [];\n        this._axes = [];\n        this._origin = [0, 0];\n        for (var i = 0; i < 4; i++) {\n            this._corners[i] = new Point();\n        }\n        for (var i = 0; i < 2; i++) {\n            this._axes[i] = new Point();\n        }\n        if (rect) {\n            this.fromBoundingRect(rect, transform);\n        }\n    }\n    OrientedBoundingRect.prototype.fromBoundingRect = function (rect, transform) {\n        var corners = this._corners;\n        var axes = this._axes;\n        var x = rect.x;\n        var y = rect.y;\n        var x2 = x + rect.width;\n        var y2 = y + rect.height;\n        corners[0].set(x, y);\n        corners[1].set(x2, y);\n        corners[2].set(x2, y2);\n        corners[3].set(x, y2);\n        if (transform) {\n            for (var i = 0; i < 4; i++) {\n                corners[i].transform(transform);\n            }\n        }\n        Point.sub(axes[0], corners[1], corners[0]);\n        Point.sub(axes[1], corners[3], corners[0]);\n        axes[0].normalize();\n        axes[1].normalize();\n        for (var i = 0; i < 2; i++) {\n            this._origin[i] = axes[i].dot(corners[0]);\n        }\n    };\n    OrientedBoundingRect.prototype.intersect = function (other, mtv) {\n        var overlapped = true;\n        var noMtv = !mtv;\n        minTv.set(Infinity, Infinity);\n        maxTv.set(0, 0);\n        if (!this._intersectCheckOneSide(this, other, minTv, maxTv, noMtv, 1)) {\n            overlapped = false;\n            if (noMtv) {\n                return overlapped;\n            }\n        }\n        if (!this._intersectCheckOneSide(other, this, minTv, maxTv, noMtv, -1)) {\n            overlapped = false;\n            if (noMtv) {\n                return overlapped;\n            }\n        }\n        if (!noMtv) {\n            Point.copy(mtv, overlapped ? minTv : maxTv);\n        }\n        return overlapped;\n    };\n    OrientedBoundingRect.prototype._intersectCheckOneSide = function (self, other, minTv, maxTv, noMtv, inverse) {\n        var overlapped = true;\n        for (var i = 0; i < 2; i++) {\n            var axis = this._axes[i];\n            this._getProjMinMaxOnAxis(i, self._corners, extent);\n            this._getProjMinMaxOnAxis(i, other._corners, extent2);\n            if (extent[1] < extent2[0] || extent[0] > extent2[1]) {\n                overlapped = false;\n                if (noMtv) {\n                    return overlapped;\n                }\n                var dist0 = Math.abs(extent2[0] - extent[1]);\n                var dist1 = Math.abs(extent[0] - extent2[1]);\n                if (Math.min(dist0, dist1) > maxTv.len()) {\n                    if (dist0 < dist1) {\n                        Point.scale(maxTv, axis, -dist0 * inverse);\n                    }\n                    else {\n                        Point.scale(maxTv, axis, dist1 * inverse);\n                    }\n                }\n            }\n            else if (minTv) {\n                var dist0 = Math.abs(extent2[0] - extent[1]);\n                var dist1 = Math.abs(extent[0] - extent2[1]);\n                if (Math.min(dist0, dist1) < minTv.len()) {\n                    if (dist0 < dist1) {\n                        Point.scale(minTv, axis, dist0 * inverse);\n                    }\n                    else {\n                        Point.scale(minTv, axis, -dist1 * inverse);\n                    }\n                }\n            }\n        }\n        return overlapped;\n    };\n    OrientedBoundingRect.prototype._getProjMinMaxOnAxis = function (dim, corners, out) {\n        var axis = this._axes[dim];\n        var origin = this._origin;\n        var proj = corners[0].dot(axis) + origin[dim];\n        var min = proj;\n        var max = proj;\n        for (var i = 1; i < corners.length; i++) {\n            var proj_1 = corners[i].dot(axis) + origin[dim];\n            min = Math.min(proj_1, min);\n            max = Math.max(proj_1, max);\n        }\n        out[0] = min;\n        out[1] = max;\n    };\n    return OrientedBoundingRect;\n}());\nexport default OrientedBoundingRect;\n","import { __extends } from \"tslib\";\nimport Displayble from './Displayable.js';\nimport BoundingRect from '../core/BoundingRect.js';\nvar m = [];\nvar IncrementalDisplayable = (function (_super) {\n    __extends(IncrementalDisplayable, _super);\n    function IncrementalDisplayable() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.notClear = true;\n        _this.incremental = true;\n        _this._displayables = [];\n        _this._temporaryDisplayables = [];\n        _this._cursor = 0;\n        return _this;\n    }\n    IncrementalDisplayable.prototype.traverse = function (cb, context) {\n        cb.call(context, this);\n    };\n    IncrementalDisplayable.prototype.useStyle = function () {\n        this.style = {};\n    };\n    IncrementalDisplayable.prototype.getCursor = function () {\n        return this._cursor;\n    };\n    IncrementalDisplayable.prototype.innerAfterBrush = function () {\n        this._cursor = this._displayables.length;\n    };\n    IncrementalDisplayable.prototype.clearDisplaybles = function () {\n        this._displayables = [];\n        this._temporaryDisplayables = [];\n        this._cursor = 0;\n        this.markRedraw();\n        this.notClear = false;\n    };\n    IncrementalDisplayable.prototype.clearTemporalDisplayables = function () {\n        this._temporaryDisplayables = [];\n    };\n    IncrementalDisplayable.prototype.addDisplayable = function (displayable, notPersistent) {\n        if (notPersistent) {\n            this._temporaryDisplayables.push(displayable);\n        }\n        else {\n            this._displayables.push(displayable);\n        }\n        this.markRedraw();\n    };\n    IncrementalDisplayable.prototype.addDisplayables = function (displayables, notPersistent) {\n        notPersistent = notPersistent || false;\n        for (var i = 0; i < displayables.length; i++) {\n            this.addDisplayable(displayables[i], notPersistent);\n        }\n    };\n    IncrementalDisplayable.prototype.getDisplayables = function () {\n        return this._displayables;\n    };\n    IncrementalDisplayable.prototype.getTemporalDisplayables = function () {\n        return this._temporaryDisplayables;\n    };\n    IncrementalDisplayable.prototype.eachPendingDisplayable = function (cb) {\n        for (var i = this._cursor; i < this._displayables.length; i++) {\n            cb && cb(this._displayables[i]);\n        }\n        for (var i = 0; i < this._temporaryDisplayables.length; i++) {\n            cb && cb(this._temporaryDisplayables[i]);\n        }\n    };\n    IncrementalDisplayable.prototype.update = function () {\n        this.updateTransform();\n        for (var i = this._cursor; i < this._displayables.length; i++) {\n            var displayable = this._displayables[i];\n            displayable.parent = this;\n            displayable.update();\n            displayable.parent = null;\n        }\n        for (var i = 0; i < this._temporaryDisplayables.length; i++) {\n            var displayable = this._temporaryDisplayables[i];\n            displayable.parent = this;\n            displayable.update();\n            displayable.parent = null;\n        }\n    };\n    IncrementalDisplayable.prototype.getBoundingRect = function () {\n        if (!this._rect) {\n            var rect = new BoundingRect(Infinity, Infinity, -Infinity, -Infinity);\n            for (var i = 0; i < this._displayables.length; i++) {\n                var displayable = this._displayables[i];\n                var childRect = displayable.getBoundingRect().clone();\n                if (displayable.needLocalTransform()) {\n                    childRect.applyTransform(displayable.getLocalTransform(m));\n                }\n                rect.union(childRect);\n            }\n            this._rect = rect;\n        }\n        return this._rect;\n    };\n    IncrementalDisplayable.prototype.contain = function (x, y) {\n        var localPos = this.transformCoordToLocal(x, y);\n        var rect = this.getBoundingRect();\n        if (rect.contain(localPos[0], localPos[1])) {\n            for (var i = 0; i < this._displayables.length; i++) {\n                var displayable = this._displayables[i];\n                if (displayable.contain(x, y)) {\n                    return true;\n                }\n            }\n        }\n        return false;\n    };\n    return IncrementalDisplayable;\n}(Displayble));\nexport default IncrementalDisplayable;\n","var wmUniqueIndex = Math.round(Math.random() * 9);\nvar supportDefineProperty = typeof Object.defineProperty === 'function';\nvar WeakMap = (function () {\n    function WeakMap() {\n        this._id = '__ec_inner_' + wmUniqueIndex++;\n    }\n    WeakMap.prototype.get = function (key) {\n        return this._guard(key)[this._id];\n    };\n    WeakMap.prototype.set = function (key, value) {\n        var target = this._guard(key);\n        if (supportDefineProperty) {\n            Object.defineProperty(target, this._id, {\n                value: value,\n                enumerable: false,\n                configurable: true\n            });\n        }\n        else {\n            target[this._id] = value;\n        }\n        return this;\n    };\n    WeakMap.prototype[\"delete\"] = function (key) {\n        if (this.has(key)) {\n            delete this._guard(key)[this._id];\n            return true;\n        }\n        return false;\n    };\n    WeakMap.prototype.has = function (key) {\n        return !!this._guard(key)[this._id];\n    };\n    WeakMap.prototype._guard = function (key) {\n        if (key !== Object(key)) {\n            throw TypeError('Value of WeakMap is not a non-null object.');\n        }\n        return key;\n    };\n    return WeakMap;\n}());\nexport default WeakMap;\n","function isSafeNum(num) {\n    return isFinite(num);\n}\nexport function createLinearGradient(ctx, obj, rect) {\n    var x = obj.x == null ? 0 : obj.x;\n    var x2 = obj.x2 == null ? 1 : obj.x2;\n    var y = obj.y == null ? 0 : obj.y;\n    var y2 = obj.y2 == null ? 0 : obj.y2;\n    if (!obj.global) {\n        x = x * rect.width + rect.x;\n        x2 = x2 * rect.width + rect.x;\n        y = y * rect.height + rect.y;\n        y2 = y2 * rect.height + rect.y;\n    }\n    x = isSafeNum(x) ? x : 0;\n    x2 = isSafeNum(x2) ? x2 : 1;\n    y = isSafeNum(y) ? y : 0;\n    y2 = isSafeNum(y2) ? y2 : 0;\n    var canvasGradient = ctx.createLinearGradient(x, y, x2, y2);\n    return canvasGradient;\n}\nexport function createRadialGradient(ctx, obj, rect) {\n    var width = rect.width;\n    var height = rect.height;\n    var min = Math.min(width, height);\n    var x = obj.x == null ? 0.5 : obj.x;\n    var y = obj.y == null ? 0.5 : obj.y;\n    var r = obj.r == null ? 0.5 : obj.r;\n    if (!obj.global) {\n        x = x * width + rect.x;\n        y = y * height + rect.y;\n        r = r * min;\n    }\n    x = isSafeNum(x) ? x : 0.5;\n    y = isSafeNum(y) ? y : 0.5;\n    r = r >= 0 && isSafeNum(r) ? r : 0.5;\n    var canvasGradient = ctx.createRadialGradient(x, y, 0, x, y, r);\n    return canvasGradient;\n}\nexport function getCanvasGradient(ctx, obj, rect) {\n    var canvasGradient = obj.type === 'radial'\n        ? createRadialGradient(ctx, obj, rect)\n        : createLinearGradient(ctx, obj, rect);\n    var colorStops = obj.colorStops;\n    for (var i = 0; i < colorStops.length; i++) {\n        canvasGradient.addColorStop(colorStops[i].offset, colorStops[i].color);\n    }\n    return canvasGradient;\n}\nexport function isClipPathChanged(clipPaths, prevClipPaths) {\n    if (clipPaths === prevClipPaths || (!clipPaths && !prevClipPaths)) {\n        return false;\n    }\n    if (!clipPaths || !prevClipPaths || (clipPaths.length !== prevClipPaths.length)) {\n        return true;\n    }\n    for (var i = 0; i < clipPaths.length; i++) {\n        if (clipPaths[i] !== prevClipPaths[i]) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction parseInt10(val) {\n    return parseInt(val, 10);\n}\nexport function getSize(root, whIdx, opts) {\n    var wh = ['width', 'height'][whIdx];\n    var cwh = ['clientWidth', 'clientHeight'][whIdx];\n    var plt = ['paddingLeft', 'paddingTop'][whIdx];\n    var prb = ['paddingRight', 'paddingBottom'][whIdx];\n    if (opts[wh] != null && opts[wh] !== 'auto') {\n        return parseFloat(opts[wh]);\n    }\n    var stl = document.defaultView.getComputedStyle(root);\n    return ((root[cwh] || parseInt10(stl[wh]) || parseInt10(root.style[wh]))\n        - (parseInt10(stl[plt]) || 0)\n        - (parseInt10(stl[prb]) || 0)) | 0;\n}\n","import { isArray, isNumber, map } from '../core/util.js';\nexport function normalizeLineDash(lineType, lineWidth) {\n    if (!lineType || lineType === 'solid' || !(lineWidth > 0)) {\n        return null;\n    }\n    return lineType === 'dashed'\n        ? [4 * lineWidth, 2 * lineWidth]\n        : lineType === 'dotted'\n            ? [lineWidth]\n            : isNumber(lineType)\n                ? [lineType] : isArray(lineType) ? lineType : null;\n}\nexport function getLineDash(el) {\n    var style = el.style;\n    var lineDash = style.lineDash && style.lineWidth > 0 && normalizeLineDash(style.lineDash, style.lineWidth);\n    var lineDashOffset = style.lineDashOffset;\n    if (lineDash) {\n        var lineScale_1 = (style.strokeNoScale && el.getLineScale) ? el.getLineScale() : 1;\n        if (lineScale_1 && lineScale_1 !== 1) {\n            lineDash = map(lineDash, function (rawVal) {\n                return rawVal / lineScale_1;\n            });\n            lineDashOffset /= lineScale_1;\n        }\n    }\n    return [lineDash, lineDashOffset];\n}\n","import { DEFAULT_COMMON_STYLE } from '../graphic/Displayable.js';\nimport PathProxy from '../core/PathProxy.js';\nimport { createOrUpdateImage, isImageReady } from '../graphic/helper/image.js';\nimport { getCanvasGradient, isClipPathChanged } from './helper.js';\nimport Path from '../graphic/Path.js';\nimport ZRImage from '../graphic/Image.js';\nimport TSpan from '../graphic/TSpan.js';\nimport { RADIAN_TO_DEGREE } from '../core/util.js';\nimport { getLineDash } from './dashStyle.js';\nimport { REDRAW_BIT, SHAPE_CHANGED_BIT } from '../graphic/constants.js';\nimport { DEFAULT_FONT } from '../core/platform.js';\nvar pathProxyForDraw = new PathProxy(true);\nfunction styleHasStroke(style) {\n    var stroke = style.stroke;\n    return !(stroke == null || stroke === 'none' || !(style.lineWidth > 0));\n}\nfunction isValidStrokeFillStyle(strokeOrFill) {\n    return typeof strokeOrFill === 'string' && strokeOrFill !== 'none';\n}\nfunction styleHasFill(style) {\n    var fill = style.fill;\n    return fill != null && fill !== 'none';\n}\nfunction doFillPath(ctx, style) {\n    if (style.fillOpacity != null && style.fillOpacity !== 1) {\n        var originalGlobalAlpha = ctx.globalAlpha;\n        ctx.globalAlpha = style.fillOpacity * style.opacity;\n        ctx.fill();\n        ctx.globalAlpha = originalGlobalAlpha;\n    }\n    else {\n        ctx.fill();\n    }\n}\nfunction doStrokePath(ctx, style) {\n    if (style.strokeOpacity != null && style.strokeOpacity !== 1) {\n        var originalGlobalAlpha = ctx.globalAlpha;\n        ctx.globalAlpha = style.strokeOpacity * style.opacity;\n        ctx.stroke();\n        ctx.globalAlpha = originalGlobalAlpha;\n    }\n    else {\n        ctx.stroke();\n    }\n}\nexport function createCanvasPattern(ctx, pattern, el) {\n    var image = createOrUpdateImage(pattern.image, pattern.__image, el);\n    if (isImageReady(image)) {\n        var canvasPattern = ctx.createPattern(image, pattern.repeat || 'repeat');\n        if (typeof DOMMatrix === 'function'\n            && canvasPattern\n            && canvasPattern.setTransform) {\n            var matrix = new DOMMatrix();\n            matrix.translateSelf((pattern.x || 0), (pattern.y || 0));\n            matrix.rotateSelf(0, 0, (pattern.rotation || 0) * RADIAN_TO_DEGREE);\n            matrix.scaleSelf((pattern.scaleX || 1), (pattern.scaleY || 1));\n            canvasPattern.setTransform(matrix);\n        }\n        return canvasPattern;\n    }\n}\nfunction brushPath(ctx, el, style, inBatch) {\n    var _a;\n    var hasStroke = styleHasStroke(style);\n    var hasFill = styleHasFill(style);\n    var strokePercent = style.strokePercent;\n    var strokePart = strokePercent < 1;\n    var firstDraw = !el.path;\n    if ((!el.silent || strokePart) && firstDraw) {\n        el.createPathProxy();\n    }\n    var path = el.path || pathProxyForDraw;\n    var dirtyFlag = el.__dirty;\n    if (!inBatch) {\n        var fill = style.fill;\n        var stroke = style.stroke;\n        var hasFillGradient = hasFill && !!fill.colorStops;\n        var hasStrokeGradient = hasStroke && !!stroke.colorStops;\n        var hasFillPattern = hasFill && !!fill.image;\n        var hasStrokePattern = hasStroke && !!stroke.image;\n        var fillGradient = void 0;\n        var strokeGradient = void 0;\n        var fillPattern = void 0;\n        var strokePattern = void 0;\n        var rect = void 0;\n        if (hasFillGradient || hasStrokeGradient) {\n            rect = el.getBoundingRect();\n        }\n        if (hasFillGradient) {\n            fillGradient = dirtyFlag\n                ? getCanvasGradient(ctx, fill, rect)\n                : el.__canvasFillGradient;\n            el.__canvasFillGradient = fillGradient;\n        }\n        if (hasStrokeGradient) {\n            strokeGradient = dirtyFlag\n                ? getCanvasGradient(ctx, stroke, rect)\n                : el.__canvasStrokeGradient;\n            el.__canvasStrokeGradient = strokeGradient;\n        }\n        if (hasFillPattern) {\n            fillPattern = (dirtyFlag || !el.__canvasFillPattern)\n                ? createCanvasPattern(ctx, fill, el)\n                : el.__canvasFillPattern;\n            el.__canvasFillPattern = fillPattern;\n        }\n        if (hasStrokePattern) {\n            strokePattern = (dirtyFlag || !el.__canvasStrokePattern)\n                ? createCanvasPattern(ctx, stroke, el)\n                : el.__canvasStrokePattern;\n            el.__canvasStrokePattern = fillPattern;\n        }\n        if (hasFillGradient) {\n            ctx.fillStyle = fillGradient;\n        }\n        else if (hasFillPattern) {\n            if (fillPattern) {\n                ctx.fillStyle = fillPattern;\n            }\n            else {\n                hasFill = false;\n            }\n        }\n        if (hasStrokeGradient) {\n            ctx.strokeStyle = strokeGradient;\n        }\n        else if (hasStrokePattern) {\n            if (strokePattern) {\n                ctx.strokeStyle = strokePattern;\n            }\n            else {\n                hasStroke = false;\n            }\n        }\n    }\n    var scale = el.getGlobalScale();\n    path.setScale(scale[0], scale[1], el.segmentIgnoreThreshold);\n    var lineDash;\n    var lineDashOffset;\n    if (ctx.setLineDash && style.lineDash) {\n        _a = getLineDash(el), lineDash = _a[0], lineDashOffset = _a[1];\n    }\n    var needsRebuild = true;\n    if (firstDraw || (dirtyFlag & SHAPE_CHANGED_BIT)) {\n        path.setDPR(ctx.dpr);\n        if (strokePart) {\n            path.setContext(null);\n        }\n        else {\n            path.setContext(ctx);\n            needsRebuild = false;\n        }\n        path.reset();\n        el.buildPath(path, el.shape, inBatch);\n        path.toStatic();\n        el.pathUpdated();\n    }\n    if (needsRebuild) {\n        path.rebuildPath(ctx, strokePart ? strokePercent : 1);\n    }\n    if (lineDash) {\n        ctx.setLineDash(lineDash);\n        ctx.lineDashOffset = lineDashOffset;\n    }\n    if (!inBatch) {\n        if (style.strokeFirst) {\n            if (hasStroke) {\n                doStrokePath(ctx, style);\n            }\n            if (hasFill) {\n                doFillPath(ctx, style);\n            }\n        }\n        else {\n            if (hasFill) {\n                doFillPath(ctx, style);\n            }\n            if (hasStroke) {\n                doStrokePath(ctx, style);\n            }\n        }\n    }\n    if (lineDash) {\n        ctx.setLineDash([]);\n    }\n}\nfunction brushImage(ctx, el, style) {\n    var image = el.__image = createOrUpdateImage(style.image, el.__image, el, el.onload);\n    if (!image || !isImageReady(image)) {\n        return;\n    }\n    var x = style.x || 0;\n    var y = style.y || 0;\n    var width = el.getWidth();\n    var height = el.getHeight();\n    var aspect = image.width / image.height;\n    if (width == null && height != null) {\n        width = height * aspect;\n    }\n    else if (height == null && width != null) {\n        height = width / aspect;\n    }\n    else if (width == null && height == null) {\n        width = image.width;\n        height = image.height;\n    }\n    if (style.sWidth && style.sHeight) {\n        var sx = style.sx || 0;\n        var sy = style.sy || 0;\n        ctx.drawImage(image, sx, sy, style.sWidth, style.sHeight, x, y, width, height);\n    }\n    else if (style.sx && style.sy) {\n        var sx = style.sx;\n        var sy = style.sy;\n        var sWidth = width - sx;\n        var sHeight = height - sy;\n        ctx.drawImage(image, sx, sy, sWidth, sHeight, x, y, width, height);\n    }\n    else {\n        ctx.drawImage(image, x, y, width, height);\n    }\n}\nfunction brushText(ctx, el, style) {\n    var _a;\n    var text = style.text;\n    text != null && (text += '');\n    if (text) {\n        ctx.font = style.font || DEFAULT_FONT;\n        ctx.textAlign = style.textAlign;\n        ctx.textBaseline = style.textBaseline;\n        var lineDash = void 0;\n        var lineDashOffset = void 0;\n        if (ctx.setLineDash && style.lineDash) {\n            _a = getLineDash(el), lineDash = _a[0], lineDashOffset = _a[1];\n        }\n        if (lineDash) {\n            ctx.setLineDash(lineDash);\n            ctx.lineDashOffset = lineDashOffset;\n        }\n        if (style.strokeFirst) {\n            if (styleHasStroke(style)) {\n                ctx.strokeText(text, style.x, style.y);\n            }\n            if (styleHasFill(style)) {\n                ctx.fillText(text, style.x, style.y);\n            }\n        }\n        else {\n            if (styleHasFill(style)) {\n                ctx.fillText(text, style.x, style.y);\n            }\n            if (styleHasStroke(style)) {\n                ctx.strokeText(text, style.x, style.y);\n            }\n        }\n        if (lineDash) {\n            ctx.setLineDash([]);\n        }\n    }\n}\nvar SHADOW_NUMBER_PROPS = ['shadowBlur', 'shadowOffsetX', 'shadowOffsetY'];\nvar STROKE_PROPS = [\n    ['lineCap', 'butt'], ['lineJoin', 'miter'], ['miterLimit', 10]\n];\nfunction bindCommonProps(ctx, style, prevStyle, forceSetAll, scope) {\n    var styleChanged = false;\n    if (!forceSetAll) {\n        prevStyle = prevStyle || {};\n        if (style === prevStyle) {\n            return false;\n        }\n    }\n    if (forceSetAll || style.opacity !== prevStyle.opacity) {\n        flushPathDrawn(ctx, scope);\n        styleChanged = true;\n        var opacity = Math.max(Math.min(style.opacity, 1), 0);\n        ctx.globalAlpha = isNaN(opacity) ? DEFAULT_COMMON_STYLE.opacity : opacity;\n    }\n    if (forceSetAll || style.blend !== prevStyle.blend) {\n        if (!styleChanged) {\n            flushPathDrawn(ctx, scope);\n            styleChanged = true;\n        }\n        ctx.globalCompositeOperation = style.blend || DEFAULT_COMMON_STYLE.blend;\n    }\n    for (var i = 0; i < SHADOW_NUMBER_PROPS.length; i++) {\n        var propName = SHADOW_NUMBER_PROPS[i];\n        if (forceSetAll || style[propName] !== prevStyle[propName]) {\n            if (!styleChanged) {\n                flushPathDrawn(ctx, scope);\n                styleChanged = true;\n            }\n            ctx[propName] = ctx.dpr * (style[propName] || 0);\n        }\n    }\n    if (forceSetAll || style.shadowColor !== prevStyle.shadowColor) {\n        if (!styleChanged) {\n            flushPathDrawn(ctx, scope);\n            styleChanged = true;\n        }\n        ctx.shadowColor = style.shadowColor || DEFAULT_COMMON_STYLE.shadowColor;\n    }\n    return styleChanged;\n}\nfunction bindPathAndTextCommonStyle(ctx, el, prevEl, forceSetAll, scope) {\n    var style = getStyle(el, scope.inHover);\n    var prevStyle = forceSetAll\n        ? null\n        : (prevEl && getStyle(prevEl, scope.inHover) || {});\n    if (style === prevStyle) {\n        return false;\n    }\n    var styleChanged = bindCommonProps(ctx, style, prevStyle, forceSetAll, scope);\n    if (forceSetAll || style.fill !== prevStyle.fill) {\n        if (!styleChanged) {\n            flushPathDrawn(ctx, scope);\n            styleChanged = true;\n        }\n        isValidStrokeFillStyle(style.fill) && (ctx.fillStyle = style.fill);\n    }\n    if (forceSetAll || style.stroke !== prevStyle.stroke) {\n        if (!styleChanged) {\n            flushPathDrawn(ctx, scope);\n            styleChanged = true;\n        }\n        isValidStrokeFillStyle(style.stroke) && (ctx.strokeStyle = style.stroke);\n    }\n    if (forceSetAll || style.opacity !== prevStyle.opacity) {\n        if (!styleChanged) {\n            flushPathDrawn(ctx, scope);\n            styleChanged = true;\n        }\n        ctx.globalAlpha = style.opacity == null ? 1 : style.opacity;\n    }\n    if (el.hasStroke()) {\n        var lineWidth = style.lineWidth;\n        var newLineWidth = lineWidth / ((style.strokeNoScale && el.getLineScale) ? el.getLineScale() : 1);\n        if (ctx.lineWidth !== newLineWidth) {\n            if (!styleChanged) {\n                flushPathDrawn(ctx, scope);\n                styleChanged = true;\n            }\n            ctx.lineWidth = newLineWidth;\n        }\n    }\n    for (var i = 0; i < STROKE_PROPS.length; i++) {\n        var prop = STROKE_PROPS[i];\n        var propName = prop[0];\n        if (forceSetAll || style[propName] !== prevStyle[propName]) {\n            if (!styleChanged) {\n                flushPathDrawn(ctx, scope);\n                styleChanged = true;\n            }\n            ctx[propName] = style[propName] || prop[1];\n        }\n    }\n    return styleChanged;\n}\nfunction bindImageStyle(ctx, el, prevEl, forceSetAll, scope) {\n    return bindCommonProps(ctx, getStyle(el, scope.inHover), prevEl && getStyle(prevEl, scope.inHover), forceSetAll, scope);\n}\nfunction setContextTransform(ctx, el) {\n    var m = el.transform;\n    var dpr = ctx.dpr || 1;\n    if (m) {\n        ctx.setTransform(dpr * m[0], dpr * m[1], dpr * m[2], dpr * m[3], dpr * m[4], dpr * m[5]);\n    }\n    else {\n        ctx.setTransform(dpr, 0, 0, dpr, 0, 0);\n    }\n}\nfunction updateClipStatus(clipPaths, ctx, scope) {\n    var allClipped = false;\n    for (var i = 0; i < clipPaths.length; i++) {\n        var clipPath = clipPaths[i];\n        allClipped = allClipped || clipPath.isZeroArea();\n        setContextTransform(ctx, clipPath);\n        ctx.beginPath();\n        clipPath.buildPath(ctx, clipPath.shape);\n        ctx.clip();\n    }\n    scope.allClipped = allClipped;\n}\nfunction isTransformChanged(m0, m1) {\n    if (m0 && m1) {\n        return m0[0] !== m1[0]\n            || m0[1] !== m1[1]\n            || m0[2] !== m1[2]\n            || m0[3] !== m1[3]\n            || m0[4] !== m1[4]\n            || m0[5] !== m1[5];\n    }\n    else if (!m0 && !m1) {\n        return false;\n    }\n    return true;\n}\nvar DRAW_TYPE_PATH = 1;\nvar DRAW_TYPE_IMAGE = 2;\nvar DRAW_TYPE_TEXT = 3;\nvar DRAW_TYPE_INCREMENTAL = 4;\nfunction canPathBatch(style) {\n    var hasFill = styleHasFill(style);\n    var hasStroke = styleHasStroke(style);\n    return !(style.lineDash\n        || !(+hasFill ^ +hasStroke)\n        || (hasFill && typeof style.fill !== 'string')\n        || (hasStroke && typeof style.stroke !== 'string')\n        || style.strokePercent < 1\n        || style.strokeOpacity < 1\n        || style.fillOpacity < 1);\n}\nfunction flushPathDrawn(ctx, scope) {\n    scope.batchFill && ctx.fill();\n    scope.batchStroke && ctx.stroke();\n    scope.batchFill = '';\n    scope.batchStroke = '';\n}\nfunction getStyle(el, inHover) {\n    return inHover ? (el.__hoverStyle || el.style) : el.style;\n}\nexport function brushSingle(ctx, el) {\n    brush(ctx, el, { inHover: false, viewWidth: 0, viewHeight: 0 }, true);\n}\nexport function brush(ctx, el, scope, isLast) {\n    var m = el.transform;\n    if (!el.shouldBePainted(scope.viewWidth, scope.viewHeight, false, false)) {\n        el.__dirty &= ~REDRAW_BIT;\n        el.__isRendered = false;\n        return;\n    }\n    var clipPaths = el.__clipPaths;\n    var prevElClipPaths = scope.prevElClipPaths;\n    var forceSetTransform = false;\n    var forceSetStyle = false;\n    if (!prevElClipPaths || isClipPathChanged(clipPaths, prevElClipPaths)) {\n        if (prevElClipPaths && prevElClipPaths.length) {\n            flushPathDrawn(ctx, scope);\n            ctx.restore();\n            forceSetStyle = forceSetTransform = true;\n            scope.prevElClipPaths = null;\n            scope.allClipped = false;\n            scope.prevEl = null;\n        }\n        if (clipPaths && clipPaths.length) {\n            flushPathDrawn(ctx, scope);\n            ctx.save();\n            updateClipStatus(clipPaths, ctx, scope);\n            forceSetTransform = true;\n        }\n        scope.prevElClipPaths = clipPaths;\n    }\n    if (scope.allClipped) {\n        el.__isRendered = false;\n        return;\n    }\n    el.beforeBrush && el.beforeBrush();\n    el.innerBeforeBrush();\n    var prevEl = scope.prevEl;\n    if (!prevEl) {\n        forceSetStyle = forceSetTransform = true;\n    }\n    var canBatchPath = el instanceof Path\n        && el.autoBatch\n        && canPathBatch(el.style);\n    if (forceSetTransform || isTransformChanged(m, prevEl.transform)) {\n        flushPathDrawn(ctx, scope);\n        setContextTransform(ctx, el);\n    }\n    else if (!canBatchPath) {\n        flushPathDrawn(ctx, scope);\n    }\n    var style = getStyle(el, scope.inHover);\n    if (el instanceof Path) {\n        if (scope.lastDrawType !== DRAW_TYPE_PATH) {\n            forceSetStyle = true;\n            scope.lastDrawType = DRAW_TYPE_PATH;\n        }\n        bindPathAndTextCommonStyle(ctx, el, prevEl, forceSetStyle, scope);\n        if (!canBatchPath || (!scope.batchFill && !scope.batchStroke)) {\n            ctx.beginPath();\n        }\n        brushPath(ctx, el, style, canBatchPath);\n        if (canBatchPath) {\n            scope.batchFill = style.fill || '';\n            scope.batchStroke = style.stroke || '';\n        }\n    }\n    else {\n        if (el instanceof TSpan) {\n            if (scope.lastDrawType !== DRAW_TYPE_TEXT) {\n                forceSetStyle = true;\n                scope.lastDrawType = DRAW_TYPE_TEXT;\n            }\n            bindPathAndTextCommonStyle(ctx, el, prevEl, forceSetStyle, scope);\n            brushText(ctx, el, style);\n        }\n        else if (el instanceof ZRImage) {\n            if (scope.lastDrawType !== DRAW_TYPE_IMAGE) {\n                forceSetStyle = true;\n                scope.lastDrawType = DRAW_TYPE_IMAGE;\n            }\n            bindImageStyle(ctx, el, prevEl, forceSetStyle, scope);\n            brushImage(ctx, el, style);\n        }\n        else if (el.getTemporalDisplayables) {\n            if (scope.lastDrawType !== DRAW_TYPE_INCREMENTAL) {\n                forceSetStyle = true;\n                scope.lastDrawType = DRAW_TYPE_INCREMENTAL;\n            }\n            brushIncremental(ctx, el, scope);\n        }\n    }\n    if (canBatchPath && isLast) {\n        flushPathDrawn(ctx, scope);\n    }\n    el.innerAfterBrush();\n    el.afterBrush && el.afterBrush();\n    scope.prevEl = el;\n    el.__dirty = 0;\n    el.__isRendered = true;\n}\nfunction brushIncremental(ctx, el, scope) {\n    var displayables = el.getDisplayables();\n    var temporalDisplayables = el.getTemporalDisplayables();\n    ctx.save();\n    var innerScope = {\n        prevElClipPaths: null,\n        prevEl: null,\n        allClipped: false,\n        viewWidth: scope.viewWidth,\n        viewHeight: scope.viewHeight,\n        inHover: scope.inHover\n    };\n    var i;\n    var len;\n    for (i = el.getCursor(), len = displayables.length; i < len; i++) {\n        var displayable = displayables[i];\n        displayable.beforeBrush && displayable.beforeBrush();\n        displayable.innerBeforeBrush();\n        brush(ctx, displayable, innerScope, i === len - 1);\n        displayable.innerAfterBrush();\n        displayable.afterBrush && displayable.afterBrush();\n        innerScope.prevEl = displayable;\n    }\n    for (var i_1 = 0, len_1 = temporalDisplayables.length; i_1 < len_1; i_1++) {\n        var displayable = temporalDisplayables[i_1];\n        displayable.beforeBrush && displayable.beforeBrush();\n        displayable.innerBeforeBrush();\n        brush(ctx, displayable, innerScope, i_1 === len_1 - 1);\n        displayable.innerAfterBrush();\n        displayable.afterBrush && displayable.afterBrush();\n        innerScope.prevEl = displayable;\n    }\n    el.clearTemporalDisplayables();\n    el.notClear = true;\n    ctx.restore();\n}\n","import windingLine from './windingLine.js';\nvar EPSILON = 1e-8;\nfunction isAroundEqual(a, b) {\n    return Math.abs(a - b) < EPSILON;\n}\nexport function contain(points, x, y) {\n    var w = 0;\n    var p = points[0];\n    if (!p) {\n        return false;\n    }\n    for (var i = 1; i < points.length; i++) {\n        var p2 = points[i];\n        w += windingLine(p[0], p[1], p2[0], p2[1], x, y);\n        p = p2;\n    }\n    var p0 = points[0];\n    if (!isAroundEqual(p[0], p0[0]) || !isAroundEqual(p[1], p0[1])) {\n        w += windingLine(p[0], p[1], p0[0], p0[1], x, y);\n    }\n    return w !== 0;\n}\n","import { isAroundZero } from './helper.js';\nvar mathSin = Math.sin;\nvar mathCos = Math.cos;\nvar PI = Math.PI;\nvar PI2 = Math.PI * 2;\nvar degree = 180 / PI;\nvar SVGPathRebuilder = (function () {\n    function SVGPathRebuilder() {\n    }\n    SVGPathRebuilder.prototype.reset = function (precision) {\n        this._start = true;\n        this._d = [];\n        this._str = '';\n        this._p = Math.pow(10, precision || 4);\n    };\n    SVGPathRebuilder.prototype.moveTo = function (x, y) {\n        this._add('M', x, y);\n    };\n    SVGPathRebuilder.prototype.lineTo = function (x, y) {\n        this._add('L', x, y);\n    };\n    SVGPathRebuilder.prototype.bezierCurveTo = function (x, y, x2, y2, x3, y3) {\n        this._add('C', x, y, x2, y2, x3, y3);\n    };\n    SVGPathRebuilder.prototype.quadraticCurveTo = function (x, y, x2, y2) {\n        this._add('Q', x, y, x2, y2);\n    };\n    SVGPathRebuilder.prototype.arc = function (cx, cy, r, startAngle, endAngle, anticlockwise) {\n        this.ellipse(cx, cy, r, r, 0, startAngle, endAngle, anticlockwise);\n    };\n    SVGPathRebuilder.prototype.ellipse = function (cx, cy, rx, ry, psi, startAngle, endAngle, anticlockwise) {\n        var dTheta = endAngle - startAngle;\n        var clockwise = !anticlockwise;\n        var dThetaPositive = Math.abs(dTheta);\n        var isCircle = isAroundZero(dThetaPositive - PI2)\n            || (clockwise ? dTheta >= PI2 : -dTheta >= PI2);\n        var unifiedTheta = dTheta > 0 ? dTheta % PI2 : (dTheta % PI2 + PI2);\n        var large = false;\n        if (isCircle) {\n            large = true;\n        }\n        else if (isAroundZero(dThetaPositive)) {\n            large = false;\n        }\n        else {\n            large = (unifiedTheta >= PI) === !!clockwise;\n        }\n        var x0 = cx + rx * mathCos(startAngle);\n        var y0 = cy + ry * mathSin(startAngle);\n        if (this._start) {\n            this._add('M', x0, y0);\n        }\n        var xRot = Math.round(psi * degree);\n        if (isCircle) {\n            var p = 1 / this._p;\n            var dTheta_1 = (clockwise ? 1 : -1) * (PI2 - p);\n            this._add('A', rx, ry, xRot, 1, +clockwise, cx + rx * mathCos(startAngle + dTheta_1), cy + ry * mathSin(startAngle + dTheta_1));\n            if (p > 1e-2) {\n                this._add('A', rx, ry, xRot, 0, +clockwise, x0, y0);\n            }\n        }\n        else {\n            var x = cx + rx * mathCos(endAngle);\n            var y = cy + ry * mathSin(endAngle);\n            this._add('A', rx, ry, xRot, +large, +clockwise, x, y);\n        }\n    };\n    SVGPathRebuilder.prototype.rect = function (x, y, w, h) {\n        this._add('M', x, y);\n        this._add('l', w, 0);\n        this._add('l', 0, h);\n        this._add('l', -w, 0);\n        this._add('Z');\n    };\n    SVGPathRebuilder.prototype.closePath = function () {\n        if (this._d.length > 0) {\n            this._add('Z');\n        }\n    };\n    SVGPathRebuilder.prototype._add = function (cmd, a, b, c, d, e, f, g, h) {\n        var vals = [];\n        var p = this._p;\n        for (var i = 1; i < arguments.length; i++) {\n            var val = arguments[i];\n            if (isNaN(val)) {\n                this._invalid = true;\n                return;\n            }\n            vals.push(Math.round(val * p) / p);\n        }\n        this._d.push(cmd + vals.join(' '));\n        this._start = cmd === 'Z';\n    };\n    SVGPathRebuilder.prototype.generateStr = function () {\n        this._str = this._invalid ? '' : this._d.join('');\n        this._d = [];\n    };\n    SVGPathRebuilder.prototype.getStr = function () {\n        return this._str;\n    };\n    return SVGPathRebuilder;\n}());\nexport default SVGPathRebuilder;\n","import { DEFAULT_PATH_STYLE } from '../graphic/Path.js';\nimport ZRImage from '../graphic/Image.js';\nimport { getLineDash } from '../canvas/dashStyle.js';\nimport { map } from '../core/util.js';\nimport { normalizeColor } from './helper.js';\nvar NONE = 'none';\nvar mathRound = Math.round;\nfunction pathHasFill(style) {\n    var fill = style.fill;\n    return fill != null && fill !== NONE;\n}\nfunction pathHasStroke(style) {\n    var stroke = style.stroke;\n    return stroke != null && stroke !== NONE;\n}\nvar strokeProps = ['lineCap', 'miterLimit', 'lineJoin'];\nvar svgStrokeProps = map(strokeProps, function (prop) { return \"stroke-\" + prop.toLowerCase(); });\nexport default function mapStyleToAttrs(updateAttr, style, el, forceUpdate) {\n    var opacity = style.opacity == null ? 1 : style.opacity;\n    if (el instanceof ZRImage) {\n        updateAttr('opacity', opacity);\n        return;\n    }\n    if (pathHasFill(style)) {\n        var fill = normalizeColor(style.fill);\n        updateAttr('fill', fill.color);\n        var fillOpacity = style.fillOpacity != null\n            ? style.fillOpacity * fill.opacity * opacity\n            : fill.opacity * opacity;\n        if (forceUpdate || fillOpacity < 1) {\n            updateAttr('fill-opacity', fillOpacity);\n        }\n    }\n    else {\n        updateAttr('fill', NONE);\n    }\n    if (pathHasStroke(style)) {\n        var stroke = normalizeColor(style.stroke);\n        updateAttr('stroke', stroke.color);\n        var strokeScale = style.strokeNoScale\n            ? el.getLineScale()\n            : 1;\n        var strokeWidth = (strokeScale ? (style.lineWidth || 0) / strokeScale : 0);\n        var strokeOpacity = style.strokeOpacity != null\n            ? style.strokeOpacity * stroke.opacity * opacity\n            : stroke.opacity * opacity;\n        var strokeFirst = style.strokeFirst;\n        if (forceUpdate || strokeWidth !== 1) {\n            updateAttr('stroke-width', strokeWidth);\n        }\n        if (forceUpdate || strokeFirst) {\n            updateAttr('paint-order', strokeFirst ? 'stroke' : 'fill');\n        }\n        if (forceUpdate || strokeOpacity < 1) {\n            updateAttr('stroke-opacity', strokeOpacity);\n        }\n        if (style.lineDash) {\n            var _a = getLineDash(el), lineDash = _a[0], lineDashOffset = _a[1];\n            if (lineDash) {\n                lineDashOffset = mathRound(lineDashOffset || 0);\n                updateAttr('stroke-dasharray', lineDash.join(','));\n                if (lineDashOffset || forceUpdate) {\n                    updateAttr('stroke-dashoffset', lineDashOffset);\n                }\n            }\n        }\n        else if (forceUpdate) {\n            updateAttr('stroke-dasharray', NONE);\n        }\n        for (var i = 0; i < strokeProps.length; i++) {\n            var propName = strokeProps[i];\n            if (forceUpdate || style[propName] !== DEFAULT_PATH_STYLE[propName]) {\n                var val = style[propName] || DEFAULT_PATH_STYLE[propName];\n                val && updateAttr(svgStrokeProps[i], val);\n            }\n        }\n    }\n    else if (forceUpdate) {\n        updateAttr('stroke', NONE);\n    }\n}\n","import { keys, map } from '../core/util.js';\nimport { encodeHTML } from '../core/dom.js';\nexport var SVGNS = 'http://www.w3.org/2000/svg';\nexport var XLINKNS = 'http://www.w3.org/1999/xlink';\nexport var XMLNS = 'http://www.w3.org/2000/xmlns/';\nexport var XML_NAMESPACE = 'http://www.w3.org/XML/1998/namespace';\nexport var META_DATA_PREFIX = 'ecmeta_';\nexport function createElement(name) {\n    return document.createElementNS(SVGNS, name);\n}\n;\nexport function createVNode(tag, key, attrs, children, text) {\n    return {\n        tag: tag,\n        attrs: attrs || {},\n        children: children,\n        text: text,\n        key: key\n    };\n}\nfunction createElementOpen(name, attrs) {\n    var attrsStr = [];\n    if (attrs) {\n        for (var key in attrs) {\n            var val = attrs[key];\n            var part = key;\n            if (val === false) {\n                continue;\n            }\n            else if (val !== true && val != null) {\n                part += \"=\\\"\" + val + \"\\\"\";\n            }\n            attrsStr.push(part);\n        }\n    }\n    return \"<\" + name + \" \" + attrsStr.join(' ') + \">\";\n}\nfunction createElementClose(name) {\n    return \"</\" + name + \">\";\n}\nexport function vNodeToString(el, opts) {\n    opts = opts || {};\n    var S = opts.newline ? '\\n' : '';\n    function convertElToString(el) {\n        var children = el.children, tag = el.tag, attrs = el.attrs, text = el.text;\n        return createElementOpen(tag, attrs)\n            + (tag !== 'style' ? encodeHTML(text) : text || '')\n            + (children ? \"\" + S + map(children, function (child) { return convertElToString(child); }).join(S) + S : '')\n            + createElementClose(tag);\n    }\n    return convertElToString(el);\n}\nexport function getCssString(selectorNodes, animationNodes, opts) {\n    opts = opts || {};\n    var S = opts.newline ? '\\n' : '';\n    var bracketBegin = \" {\" + S;\n    var bracketEnd = S + \"}\";\n    var selectors = map(keys(selectorNodes), function (className) {\n        return className + bracketBegin + map(keys(selectorNodes[className]), function (attrName) {\n            return attrName + \":\" + selectorNodes[className][attrName] + \";\";\n        }).join(S) + bracketEnd;\n    }).join(S);\n    var animations = map(keys(animationNodes), function (animationName) {\n        return \"@keyframes \" + animationName + bracketBegin + map(keys(animationNodes[animationName]), function (percent) {\n            return percent + bracketBegin + map(keys(animationNodes[animationName][percent]), function (attrName) {\n                var val = animationNodes[animationName][percent][attrName];\n                if (attrName === 'd') {\n                    val = \"path(\\\"\" + val + \"\\\")\";\n                }\n                return attrName + \":\" + val + \";\";\n            }).join(S) + bracketEnd;\n        }).join(S) + bracketEnd;\n    }).join(S);\n    if (!selectors && !animations) {\n        return '';\n    }\n    return ['<![CDATA[', selectors, animations, ']]>'].join(S);\n}\nexport function createBrushScope(zrId) {\n    return {\n        zrId: zrId,\n        shadowCache: {},\n        patternCache: {},\n        gradientCache: {},\n        clipPathCache: {},\n        defs: {},\n        cssNodes: {},\n        cssAnims: {},\n        cssStyleCache: {},\n        cssAnimIdx: 0,\n        shadowIdx: 0,\n        gradientIdx: 0,\n        patternIdx: 0,\n        clipPathIdx: 0\n    };\n}\nexport function createSVGVNode(width, height, children, useViewBox) {\n    return createVNode('svg', 'root', {\n        'width': width,\n        'height': height,\n        'xmlns': SVGNS,\n        'xmlns:xlink': XLINKNS,\n        'version': '1.1',\n        'baseProfile': 'full',\n        'viewBox': useViewBox ? \"0 0 \" + width + \" \" + height : false\n    }, children);\n}\n","var cssClassIdx = 0;\nexport function getClassId() {\n    return cssClassIdx++;\n}\n","import { copyTransform } from '../core/Transformable.js';\nimport { createBrushScope } from './core.js';\nimport SVGPathRebuilder from './SVGPathRebuilder.js';\nimport PathProxy from '../core/PathProxy.js';\nimport { getPathPrecision, getSRTTransformString } from './helper.js';\nimport { each, extend, filter, isNumber, isString, keys } from '../core/util.js';\nimport CompoundPath from '../graphic/CompoundPath.js';\nimport { createCubicEasingFunc } from '../animation/cubicEasing.js';\nimport { getClassId } from './cssClassId.js';\nexport var EASING_MAP = {\n    cubicIn: '0.32,0,0.67,0',\n    cubicOut: '0.33,1,0.68,1',\n    cubicInOut: '0.65,0,0.35,1',\n    quadraticIn: '0.11,0,0.5,0',\n    quadraticOut: '0.5,1,0.89,1',\n    quadraticInOut: '0.45,0,0.55,1',\n    quarticIn: '0.5,0,0.75,0',\n    quarticOut: '0.25,1,0.5,1',\n    quarticInOut: '0.76,0,0.24,1',\n    quinticIn: '0.64,0,0.78,0',\n    quinticOut: '0.22,1,0.36,1',\n    quinticInOut: '0.83,0,0.17,1',\n    sinusoidalIn: '0.12,0,0.39,0',\n    sinusoidalOut: '0.61,1,0.88,1',\n    sinusoidalInOut: '0.37,0,0.63,1',\n    exponentialIn: '0.7,0,0.84,0',\n    exponentialOut: '0.16,1,0.3,1',\n    exponentialInOut: '0.87,0,0.13,1',\n    circularIn: '0.55,0,1,0.45',\n    circularOut: '0,0.55,0.45,1',\n    circularInOut: '0.85,0,0.15,1'\n};\nvar transformOriginKey = 'transform-origin';\nfunction buildPathString(el, kfShape, path) {\n    var shape = extend({}, el.shape);\n    extend(shape, kfShape);\n    el.buildPath(path, shape);\n    var svgPathBuilder = new SVGPathRebuilder();\n    svgPathBuilder.reset(getPathPrecision(el));\n    path.rebuildPath(svgPathBuilder, 1);\n    svgPathBuilder.generateStr();\n    return svgPathBuilder.getStr();\n}\nfunction setTransformOrigin(target, transform) {\n    var originX = transform.originX, originY = transform.originY;\n    if (originX || originY) {\n        target[transformOriginKey] = originX + \"px \" + originY + \"px\";\n    }\n}\nexport var ANIMATE_STYLE_MAP = {\n    fill: 'fill',\n    opacity: 'opacity',\n    lineWidth: 'stroke-width',\n    lineDashOffset: 'stroke-dashoffset'\n};\nfunction addAnimation(cssAnim, scope) {\n    var animationName = scope.zrId + '-ani-' + scope.cssAnimIdx++;\n    scope.cssAnims[animationName] = cssAnim;\n    return animationName;\n}\nfunction createCompoundPathCSSAnimation(el, attrs, scope) {\n    var paths = el.shape.paths;\n    var composedAnim = {};\n    var cssAnimationCfg;\n    var cssAnimationName;\n    each(paths, function (path) {\n        var subScope = createBrushScope(scope.zrId);\n        subScope.animation = true;\n        createCSSAnimation(path, {}, subScope, true);\n        var cssAnims = subScope.cssAnims;\n        var cssNodes = subScope.cssNodes;\n        var animNames = keys(cssAnims);\n        var len = animNames.length;\n        if (!len) {\n            return;\n        }\n        cssAnimationName = animNames[len - 1];\n        var lastAnim = cssAnims[cssAnimationName];\n        for (var percent in lastAnim) {\n            var kf = lastAnim[percent];\n            composedAnim[percent] = composedAnim[percent] || { d: '' };\n            composedAnim[percent].d += kf.d || '';\n        }\n        for (var className in cssNodes) {\n            var val = cssNodes[className].animation;\n            if (val.indexOf(cssAnimationName) >= 0) {\n                cssAnimationCfg = val;\n            }\n        }\n    });\n    if (!cssAnimationCfg) {\n        return;\n    }\n    attrs.d = false;\n    var animationName = addAnimation(composedAnim, scope);\n    return cssAnimationCfg.replace(cssAnimationName, animationName);\n}\nfunction getEasingFunc(easing) {\n    return isString(easing)\n        ? EASING_MAP[easing]\n            ? \"cubic-bezier(\" + EASING_MAP[easing] + \")\"\n            : createCubicEasingFunc(easing) ? easing : ''\n        : '';\n}\nexport function createCSSAnimation(el, attrs, scope, onlyShape) {\n    var animators = el.animators;\n    var len = animators.length;\n    var cssAnimations = [];\n    if (el instanceof CompoundPath) {\n        var animationCfg = createCompoundPathCSSAnimation(el, attrs, scope);\n        if (animationCfg) {\n            cssAnimations.push(animationCfg);\n        }\n        else if (!len) {\n            return;\n        }\n    }\n    else if (!len) {\n        return;\n    }\n    var groupAnimators = {};\n    for (var i = 0; i < len; i++) {\n        var animator = animators[i];\n        var cfgArr = [animator.getMaxTime() / 1000 + 's'];\n        var easing = getEasingFunc(animator.getClip().easing);\n        var delay = animator.getDelay();\n        if (easing) {\n            cfgArr.push(easing);\n        }\n        else {\n            cfgArr.push('linear');\n        }\n        if (delay) {\n            cfgArr.push(delay / 1000 + 's');\n        }\n        if (animator.getLoop()) {\n            cfgArr.push('infinite');\n        }\n        var cfg = cfgArr.join(' ');\n        groupAnimators[cfg] = groupAnimators[cfg] || [cfg, []];\n        groupAnimators[cfg][1].push(animator);\n    }\n    function createSingleCSSAnimation(groupAnimator) {\n        var animators = groupAnimator[1];\n        var len = animators.length;\n        var transformKfs = {};\n        var shapeKfs = {};\n        var finalKfs = {};\n        var animationTimingFunctionAttrName = 'animation-timing-function';\n        function saveAnimatorTrackToCssKfs(animator, cssKfs, toCssAttrName) {\n            var tracks = animator.getTracks();\n            var maxTime = animator.getMaxTime();\n            for (var k = 0; k < tracks.length; k++) {\n                var track = tracks[k];\n                if (track.needsAnimate()) {\n                    var kfs = track.keyframes;\n                    var attrName = track.propName;\n                    toCssAttrName && (attrName = toCssAttrName(attrName));\n                    if (attrName) {\n                        for (var i = 0; i < kfs.length; i++) {\n                            var kf = kfs[i];\n                            var percent = Math.round(kf.time / maxTime * 100) + '%';\n                            var kfEasing = getEasingFunc(kf.easing);\n                            var rawValue = kf.rawValue;\n                            if (isString(rawValue) || isNumber(rawValue)) {\n                                cssKfs[percent] = cssKfs[percent] || {};\n                                cssKfs[percent][attrName] = kf.rawValue;\n                                if (kfEasing) {\n                                    cssKfs[percent][animationTimingFunctionAttrName] = kfEasing;\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        }\n        for (var i = 0; i < len; i++) {\n            var animator = animators[i];\n            var targetProp = animator.targetName;\n            if (!targetProp) {\n                !onlyShape && saveAnimatorTrackToCssKfs(animator, transformKfs);\n            }\n            else if (targetProp === 'shape') {\n                saveAnimatorTrackToCssKfs(animator, shapeKfs);\n            }\n        }\n        for (var percent in transformKfs) {\n            var transform = {};\n            copyTransform(transform, el);\n            extend(transform, transformKfs[percent]);\n            var str = getSRTTransformString(transform);\n            var timingFunction = transformKfs[percent][animationTimingFunctionAttrName];\n            finalKfs[percent] = str ? {\n                transform: str\n            } : {};\n            setTransformOrigin(finalKfs[percent], transform);\n            if (timingFunction) {\n                finalKfs[percent][animationTimingFunctionAttrName] = timingFunction;\n            }\n        }\n        ;\n        var path;\n        var canAnimateShape = true;\n        for (var percent in shapeKfs) {\n            finalKfs[percent] = finalKfs[percent] || {};\n            var isFirst = !path;\n            var timingFunction = shapeKfs[percent][animationTimingFunctionAttrName];\n            if (isFirst) {\n                path = new PathProxy();\n            }\n            var len_1 = path.len();\n            path.reset();\n            finalKfs[percent].d = buildPathString(el, shapeKfs[percent], path);\n            var newLen = path.len();\n            if (!isFirst && len_1 !== newLen) {\n                canAnimateShape = false;\n                break;\n            }\n            if (timingFunction) {\n                finalKfs[percent][animationTimingFunctionAttrName] = timingFunction;\n            }\n        }\n        ;\n        if (!canAnimateShape) {\n            for (var percent in finalKfs) {\n                delete finalKfs[percent].d;\n            }\n        }\n        if (!onlyShape) {\n            for (var i = 0; i < len; i++) {\n                var animator = animators[i];\n                var targetProp = animator.targetName;\n                if (targetProp === 'style') {\n                    saveAnimatorTrackToCssKfs(animator, finalKfs, function (propName) { return ANIMATE_STYLE_MAP[propName]; });\n                }\n            }\n        }\n        var percents = keys(finalKfs);\n        var allTransformOriginSame = true;\n        var transformOrigin;\n        for (var i = 1; i < percents.length; i++) {\n            var p0 = percents[i - 1];\n            var p1 = percents[i];\n            if (finalKfs[p0][transformOriginKey] !== finalKfs[p1][transformOriginKey]) {\n                allTransformOriginSame = false;\n                break;\n            }\n            transformOrigin = finalKfs[p0][transformOriginKey];\n        }\n        if (allTransformOriginSame && transformOrigin) {\n            for (var percent in finalKfs) {\n                if (finalKfs[percent][transformOriginKey]) {\n                    delete finalKfs[percent][transformOriginKey];\n                }\n            }\n            attrs[transformOriginKey] = transformOrigin;\n        }\n        if (filter(percents, function (percent) { return keys(finalKfs[percent]).length > 0; }).length) {\n            var animationName = addAnimation(finalKfs, scope);\n            return animationName + \" \" + groupAnimator[0] + \" both\";\n        }\n    }\n    for (var key in groupAnimators) {\n        var animationCfg = createSingleCSSAnimation(groupAnimators[key]);\n        if (animationCfg) {\n            cssAnimations.push(animationCfg);\n        }\n    }\n    if (cssAnimations.length) {\n        var className = scope.zrId + '-cls-' + getClassId();\n        scope.cssNodes['.' + className] = {\n            animation: cssAnimations.join(',')\n        };\n        attrs[\"class\"] = className;\n    }\n}\n","import { liftColor } from '../tool/color.js';\nimport { getClassId } from './cssClassId.js';\nexport function createCSSEmphasis(el, attrs, scope) {\n    if (!el.ignore) {\n        if (el.isSilent()) {\n            var style = {\n                'pointer-events': 'none'\n            };\n            setClassAttribute(style, attrs, scope, true);\n        }\n        else {\n            var emphasisStyle = el.states.emphasis && el.states.emphasis.style\n                ? el.states.emphasis.style\n                : {};\n            var fill = emphasisStyle.fill;\n            if (!fill) {\n                var normalFill = el.style && el.style.fill;\n                var selectFill = el.states.select\n                    && el.states.select.style\n                    && el.states.select.style.fill;\n                var fromFill = el.currentStates.indexOf('select') >= 0\n                    ? (selectFill || normalFill)\n                    : normalFill;\n                if (fromFill) {\n                    fill = liftColor(fromFill);\n                }\n            }\n            var lineWidth = emphasisStyle.lineWidth;\n            if (lineWidth) {\n                var scaleX = (!emphasisStyle.strokeNoScale && el.transform)\n                    ? el.transform[0]\n                    : 1;\n                lineWidth = lineWidth / scaleX;\n            }\n            var style = {\n                cursor: 'pointer'\n            };\n            if (fill) {\n                style.fill = fill;\n            }\n            if (emphasisStyle.stroke) {\n                style.stroke = emphasisStyle.stroke;\n            }\n            if (lineWidth) {\n                style['stroke-width'] = lineWidth;\n            }\n            setClassAttribute(style, attrs, scope, true);\n        }\n    }\n}\nfunction setClassAttribute(style, attrs, scope, withHover) {\n    var styleKey = JSON.stringify(style);\n    var className = scope.cssStyleCache[styleKey];\n    if (!className) {\n        className = scope.zrId + '-cls-' + getClassId();\n        scope.cssStyleCache[styleKey] = className;\n        scope.cssNodes['.' + className + (withHover ? ':hover' : '')] = style;\n    }\n    attrs[\"class\"] = attrs[\"class\"] ? (attrs[\"class\"] + ' ' + className) : className;\n}\n","import { adjustTextY, getIdURL, getMatrixStr, getPathPrecision, getShadowKey, getSRTTransformString, hasShadow, isAroundZero, isGradient, isImagePattern, isLinearGradient, isPattern, isRadialGradient, normalizeColor, round4, TEXT_ALIGN_TO_ANCHOR } from './helper.js';\nimport Path from '../graphic/Path.js';\nimport ZRImage from '../graphic/Image.js';\nimport { getLineHeight } from '../contain/text.js';\nimport TSpan from '../graphic/TSpan.js';\nimport SVGPathRebuilder from './SVGPathRebuilder.js';\nimport mapStyleToAttrs from './mapStyleToAttrs.js';\nimport { createVNode, vNodeToString, META_DATA_PREFIX } from './core.js';\nimport { assert, clone, isFunction, isString, logError, map, retrieve2 } from '../core/util.js';\nimport { createOrUpdateImage } from '../graphic/helper/image.js';\nimport { createCSSAnimation } from './cssAnimation.js';\nimport { hasSeparateFont, parseFontSize } from '../graphic/Text.js';\nimport { DEFAULT_FONT, DEFAULT_FONT_FAMILY } from '../core/platform.js';\nimport { createCSSEmphasis } from './cssEmphasis.js';\nimport { getElementSSRData } from '../zrender.js';\nvar round = Math.round;\nfunction isImageLike(val) {\n    return val && isString(val.src);\n}\nfunction isCanvasLike(val) {\n    return val && isFunction(val.toDataURL);\n}\nfunction setStyleAttrs(attrs, style, el, scope) {\n    mapStyleToAttrs(function (key, val) {\n        var isFillStroke = key === 'fill' || key === 'stroke';\n        if (isFillStroke && isGradient(val)) {\n            setGradient(style, attrs, key, scope);\n        }\n        else if (isFillStroke && isPattern(val)) {\n            setPattern(el, attrs, key, scope);\n        }\n        else {\n            attrs[key] = val;\n        }\n        if (isFillStroke && scope.ssr && val === 'none') {\n            attrs['pointer-events'] = 'visible';\n        }\n    }, style, el, false);\n    setShadow(el, attrs, scope);\n}\nfunction setMetaData(attrs, el) {\n    var metaData = getElementSSRData(el);\n    if (metaData) {\n        metaData.each(function (val, key) {\n            val != null && (attrs[(META_DATA_PREFIX + key).toLowerCase()] = val + '');\n        });\n        if (el.isSilent()) {\n            attrs[META_DATA_PREFIX + 'silent'] = 'true';\n        }\n    }\n}\nfunction noRotateScale(m) {\n    return isAroundZero(m[0] - 1)\n        && isAroundZero(m[1])\n        && isAroundZero(m[2])\n        && isAroundZero(m[3] - 1);\n}\nfunction noTranslate(m) {\n    return isAroundZero(m[4]) && isAroundZero(m[5]);\n}\nfunction setTransform(attrs, m, compress) {\n    if (m && !(noTranslate(m) && noRotateScale(m))) {\n        var mul = compress ? 10 : 1e4;\n        attrs.transform = noRotateScale(m)\n            ? \"translate(\" + round(m[4] * mul) / mul + \" \" + round(m[5] * mul) / mul + \")\" : getMatrixStr(m);\n    }\n}\nfunction convertPolyShape(shape, attrs, mul) {\n    var points = shape.points;\n    var strArr = [];\n    for (var i = 0; i < points.length; i++) {\n        strArr.push(round(points[i][0] * mul) / mul);\n        strArr.push(round(points[i][1] * mul) / mul);\n    }\n    attrs.points = strArr.join(' ');\n}\nfunction validatePolyShape(shape) {\n    return !shape.smooth;\n}\nfunction createAttrsConvert(desc) {\n    var normalizedDesc = map(desc, function (item) {\n        return (typeof item === 'string' ? [item, item] : item);\n    });\n    return function (shape, attrs, mul) {\n        for (var i = 0; i < normalizedDesc.length; i++) {\n            var item = normalizedDesc[i];\n            var val = shape[item[0]];\n            if (val != null) {\n                attrs[item[1]] = round(val * mul) / mul;\n            }\n        }\n    };\n}\nvar builtinShapesDef = {\n    circle: [createAttrsConvert(['cx', 'cy', 'r'])],\n    polyline: [convertPolyShape, validatePolyShape],\n    polygon: [convertPolyShape, validatePolyShape]\n};\nfunction hasShapeAnimation(el) {\n    var animators = el.animators;\n    for (var i = 0; i < animators.length; i++) {\n        if (animators[i].targetName === 'shape') {\n            return true;\n        }\n    }\n    return false;\n}\nexport function brushSVGPath(el, scope) {\n    var style = el.style;\n    var shape = el.shape;\n    var builtinShpDef = builtinShapesDef[el.type];\n    var attrs = {};\n    var needsAnimate = scope.animation;\n    var svgElType = 'path';\n    var strokePercent = el.style.strokePercent;\n    var precision = (scope.compress && getPathPrecision(el)) || 4;\n    if (builtinShpDef\n        && !scope.willUpdate\n        && !(builtinShpDef[1] && !builtinShpDef[1](shape))\n        && !(needsAnimate && hasShapeAnimation(el))\n        && !(strokePercent < 1)) {\n        svgElType = el.type;\n        var mul = Math.pow(10, precision);\n        builtinShpDef[0](shape, attrs, mul);\n    }\n    else {\n        var needBuildPath = !el.path || el.shapeChanged();\n        if (!el.path) {\n            el.createPathProxy();\n        }\n        var path = el.path;\n        if (needBuildPath) {\n            path.beginPath();\n            el.buildPath(path, el.shape);\n            el.pathUpdated();\n        }\n        var pathVersion = path.getVersion();\n        var elExt = el;\n        var svgPathBuilder = elExt.__svgPathBuilder;\n        if (elExt.__svgPathVersion !== pathVersion\n            || !svgPathBuilder\n            || strokePercent !== elExt.__svgPathStrokePercent) {\n            if (!svgPathBuilder) {\n                svgPathBuilder = elExt.__svgPathBuilder = new SVGPathRebuilder();\n            }\n            svgPathBuilder.reset(precision);\n            path.rebuildPath(svgPathBuilder, strokePercent);\n            svgPathBuilder.generateStr();\n            elExt.__svgPathVersion = pathVersion;\n            elExt.__svgPathStrokePercent = strokePercent;\n        }\n        attrs.d = svgPathBuilder.getStr();\n    }\n    setTransform(attrs, el.transform);\n    setStyleAttrs(attrs, style, el, scope);\n    setMetaData(attrs, el);\n    scope.animation && createCSSAnimation(el, attrs, scope);\n    scope.emphasis && createCSSEmphasis(el, attrs, scope);\n    return createVNode(svgElType, el.id + '', attrs);\n}\nexport function brushSVGImage(el, scope) {\n    var style = el.style;\n    var image = style.image;\n    if (image && !isString(image)) {\n        if (isImageLike(image)) {\n            image = image.src;\n        }\n        else if (isCanvasLike(image)) {\n            image = image.toDataURL();\n        }\n    }\n    if (!image) {\n        return;\n    }\n    var x = style.x || 0;\n    var y = style.y || 0;\n    var dw = style.width;\n    var dh = style.height;\n    var attrs = {\n        href: image,\n        width: dw,\n        height: dh\n    };\n    if (x) {\n        attrs.x = x;\n    }\n    if (y) {\n        attrs.y = y;\n    }\n    setTransform(attrs, el.transform);\n    setStyleAttrs(attrs, style, el, scope);\n    setMetaData(attrs, el);\n    scope.animation && createCSSAnimation(el, attrs, scope);\n    return createVNode('image', el.id + '', attrs);\n}\n;\nexport function brushSVGTSpan(el, scope) {\n    var style = el.style;\n    var text = style.text;\n    text != null && (text += '');\n    if (!text || isNaN(style.x) || isNaN(style.y)) {\n        return;\n    }\n    var font = style.font || DEFAULT_FONT;\n    var x = style.x || 0;\n    var y = adjustTextY(style.y || 0, getLineHeight(font), style.textBaseline);\n    var textAlign = TEXT_ALIGN_TO_ANCHOR[style.textAlign]\n        || style.textAlign;\n    var attrs = {\n        'dominant-baseline': 'central',\n        'text-anchor': textAlign\n    };\n    if (hasSeparateFont(style)) {\n        var separatedFontStr = '';\n        var fontStyle = style.fontStyle;\n        var fontSize = parseFontSize(style.fontSize);\n        if (!parseFloat(fontSize)) {\n            return;\n        }\n        var fontFamily = style.fontFamily || DEFAULT_FONT_FAMILY;\n        var fontWeight = style.fontWeight;\n        separatedFontStr += \"font-size:\" + fontSize + \";font-family:\" + fontFamily + \";\";\n        if (fontStyle && fontStyle !== 'normal') {\n            separatedFontStr += \"font-style:\" + fontStyle + \";\";\n        }\n        if (fontWeight && fontWeight !== 'normal') {\n            separatedFontStr += \"font-weight:\" + fontWeight + \";\";\n        }\n        attrs.style = separatedFontStr;\n    }\n    else {\n        attrs.style = \"font: \" + font;\n    }\n    if (text.match(/\\s/)) {\n        attrs['xml:space'] = 'preserve';\n    }\n    if (x) {\n        attrs.x = x;\n    }\n    if (y) {\n        attrs.y = y;\n    }\n    setTransform(attrs, el.transform);\n    setStyleAttrs(attrs, style, el, scope);\n    setMetaData(attrs, el);\n    scope.animation && createCSSAnimation(el, attrs, scope);\n    return createVNode('text', el.id + '', attrs, undefined, text);\n}\nexport function brush(el, scope) {\n    if (el instanceof Path) {\n        return brushSVGPath(el, scope);\n    }\n    else if (el instanceof ZRImage) {\n        return brushSVGImage(el, scope);\n    }\n    else if (el instanceof TSpan) {\n        return brushSVGTSpan(el, scope);\n    }\n}\nfunction setShadow(el, attrs, scope) {\n    var style = el.style;\n    if (hasShadow(style)) {\n        var shadowKey = getShadowKey(el);\n        var shadowCache = scope.shadowCache;\n        var shadowId = shadowCache[shadowKey];\n        if (!shadowId) {\n            var globalScale = el.getGlobalScale();\n            var scaleX = globalScale[0];\n            var scaleY = globalScale[1];\n            if (!scaleX || !scaleY) {\n                return;\n            }\n            var offsetX = style.shadowOffsetX || 0;\n            var offsetY = style.shadowOffsetY || 0;\n            var blur_1 = style.shadowBlur;\n            var _a = normalizeColor(style.shadowColor), opacity = _a.opacity, color = _a.color;\n            var stdDx = blur_1 / 2 / scaleX;\n            var stdDy = blur_1 / 2 / scaleY;\n            var stdDeviation = stdDx + ' ' + stdDy;\n            shadowId = scope.zrId + '-s' + scope.shadowIdx++;\n            scope.defs[shadowId] = createVNode('filter', shadowId, {\n                'id': shadowId,\n                'x': '-100%',\n                'y': '-100%',\n                'width': '300%',\n                'height': '300%'\n            }, [\n                createVNode('feDropShadow', '', {\n                    'dx': offsetX / scaleX,\n                    'dy': offsetY / scaleY,\n                    'stdDeviation': stdDeviation,\n                    'flood-color': color,\n                    'flood-opacity': opacity\n                })\n            ]);\n            shadowCache[shadowKey] = shadowId;\n        }\n        attrs.filter = getIdURL(shadowId);\n    }\n}\nexport function setGradient(style, attrs, target, scope) {\n    var val = style[target];\n    var gradientTag;\n    var gradientAttrs = {\n        'gradientUnits': val.global\n            ? 'userSpaceOnUse'\n            : 'objectBoundingBox'\n    };\n    if (isLinearGradient(val)) {\n        gradientTag = 'linearGradient';\n        gradientAttrs.x1 = val.x;\n        gradientAttrs.y1 = val.y;\n        gradientAttrs.x2 = val.x2;\n        gradientAttrs.y2 = val.y2;\n    }\n    else if (isRadialGradient(val)) {\n        gradientTag = 'radialGradient';\n        gradientAttrs.cx = retrieve2(val.x, 0.5);\n        gradientAttrs.cy = retrieve2(val.y, 0.5);\n        gradientAttrs.r = retrieve2(val.r, 0.5);\n    }\n    else {\n        if (process.env.NODE_ENV !== 'production') {\n            logError('Illegal gradient type.');\n        }\n        return;\n    }\n    var colors = val.colorStops;\n    var colorStops = [];\n    for (var i = 0, len = colors.length; i < len; ++i) {\n        var offset = round4(colors[i].offset) * 100 + '%';\n        var stopColor = colors[i].color;\n        var _a = normalizeColor(stopColor), color = _a.color, opacity = _a.opacity;\n        var stopsAttrs = {\n            'offset': offset\n        };\n        stopsAttrs['stop-color'] = color;\n        if (opacity < 1) {\n            stopsAttrs['stop-opacity'] = opacity;\n        }\n        colorStops.push(createVNode('stop', i + '', stopsAttrs));\n    }\n    var gradientVNode = createVNode(gradientTag, '', gradientAttrs, colorStops);\n    var gradientKey = vNodeToString(gradientVNode);\n    var gradientCache = scope.gradientCache;\n    var gradientId = gradientCache[gradientKey];\n    if (!gradientId) {\n        gradientId = scope.zrId + '-g' + scope.gradientIdx++;\n        gradientCache[gradientKey] = gradientId;\n        gradientAttrs.id = gradientId;\n        scope.defs[gradientId] = createVNode(gradientTag, gradientId, gradientAttrs, colorStops);\n    }\n    attrs[target] = getIdURL(gradientId);\n}\nexport function setPattern(el, attrs, target, scope) {\n    var val = el.style[target];\n    var boundingRect = el.getBoundingRect();\n    var patternAttrs = {};\n    var repeat = val.repeat;\n    var noRepeat = repeat === 'no-repeat';\n    var repeatX = repeat === 'repeat-x';\n    var repeatY = repeat === 'repeat-y';\n    var child;\n    if (isImagePattern(val)) {\n        var imageWidth_1 = val.imageWidth;\n        var imageHeight_1 = val.imageHeight;\n        var imageSrc = void 0;\n        var patternImage = val.image;\n        if (isString(patternImage)) {\n            imageSrc = patternImage;\n        }\n        else if (isImageLike(patternImage)) {\n            imageSrc = patternImage.src;\n        }\n        else if (isCanvasLike(patternImage)) {\n            imageSrc = patternImage.toDataURL();\n        }\n        if (typeof Image === 'undefined') {\n            var errMsg = 'Image width/height must been given explictly in svg-ssr renderer.';\n            assert(imageWidth_1, errMsg);\n            assert(imageHeight_1, errMsg);\n        }\n        else if (imageWidth_1 == null || imageHeight_1 == null) {\n            var setSizeToVNode_1 = function (vNode, img) {\n                if (vNode) {\n                    var svgEl = vNode.elm;\n                    var width = imageWidth_1 || img.width;\n                    var height = imageHeight_1 || img.height;\n                    if (vNode.tag === 'pattern') {\n                        if (repeatX) {\n                            height = 1;\n                            width /= boundingRect.width;\n                        }\n                        else if (repeatY) {\n                            width = 1;\n                            height /= boundingRect.height;\n                        }\n                    }\n                    vNode.attrs.width = width;\n                    vNode.attrs.height = height;\n                    if (svgEl) {\n                        svgEl.setAttribute('width', width);\n                        svgEl.setAttribute('height', height);\n                    }\n                }\n            };\n            var createdImage = createOrUpdateImage(imageSrc, null, el, function (img) {\n                noRepeat || setSizeToVNode_1(patternVNode, img);\n                setSizeToVNode_1(child, img);\n            });\n            if (createdImage && createdImage.width && createdImage.height) {\n                imageWidth_1 = imageWidth_1 || createdImage.width;\n                imageHeight_1 = imageHeight_1 || createdImage.height;\n            }\n        }\n        child = createVNode('image', 'img', {\n            href: imageSrc,\n            width: imageWidth_1,\n            height: imageHeight_1\n        });\n        patternAttrs.width = imageWidth_1;\n        patternAttrs.height = imageHeight_1;\n    }\n    else if (val.svgElement) {\n        child = clone(val.svgElement);\n        patternAttrs.width = val.svgWidth;\n        patternAttrs.height = val.svgHeight;\n    }\n    if (!child) {\n        return;\n    }\n    var patternWidth;\n    var patternHeight;\n    if (noRepeat) {\n        patternWidth = patternHeight = 1;\n    }\n    else if (repeatX) {\n        patternHeight = 1;\n        patternWidth = patternAttrs.width / boundingRect.width;\n    }\n    else if (repeatY) {\n        patternWidth = 1;\n        patternHeight = patternAttrs.height / boundingRect.height;\n    }\n    else {\n        patternAttrs.patternUnits = 'userSpaceOnUse';\n    }\n    if (patternWidth != null && !isNaN(patternWidth)) {\n        patternAttrs.width = patternWidth;\n    }\n    if (patternHeight != null && !isNaN(patternHeight)) {\n        patternAttrs.height = patternHeight;\n    }\n    var patternTransform = getSRTTransformString(val);\n    patternTransform && (patternAttrs.patternTransform = patternTransform);\n    var patternVNode = createVNode('pattern', '', patternAttrs, [child]);\n    var patternKey = vNodeToString(patternVNode);\n    var patternCache = scope.patternCache;\n    var patternId = patternCache[patternKey];\n    if (!patternId) {\n        patternId = scope.zrId + '-p' + scope.patternIdx++;\n        patternCache[patternKey] = patternId;\n        patternAttrs.id = patternId;\n        patternVNode = scope.defs[patternId] = createVNode('pattern', patternId, patternAttrs, [child]);\n    }\n    attrs[target] = getIdURL(patternId);\n}\nexport function setClipPath(clipPath, attrs, scope) {\n    var clipPathCache = scope.clipPathCache, defs = scope.defs;\n    var clipPathId = clipPathCache[clipPath.id];\n    if (!clipPathId) {\n        clipPathId = scope.zrId + '-c' + scope.clipPathIdx++;\n        var clipPathAttrs = {\n            id: clipPathId\n        };\n        clipPathCache[clipPath.id] = clipPathId;\n        defs[clipPathId] = createVNode('clipPath', clipPathId, clipPathAttrs, [brushSVGPath(clipPath, scope)]);\n    }\n    attrs['clip-path'] = getIdURL(clipPathId);\n}\n","export function createTextNode(text) {\n    return document.createTextNode(text);\n}\nexport function createComment(text) {\n    return document.createComment(text);\n}\nexport function insertBefore(parentNode, newNode, referenceNode) {\n    parentNode.insertBefore(newNode, referenceNode);\n}\nexport function removeChild(node, child) {\n    node.removeChild(child);\n}\nexport function appendChild(node, child) {\n    node.appendChild(child);\n}\nexport function parentNode(node) {\n    return node.parentNode;\n}\nexport function nextSibling(node) {\n    return node.nextSibling;\n}\nexport function tagName(elm) {\n    return elm.tagName;\n}\nexport function setTextContent(node, text) {\n    node.textContent = text;\n}\nexport function getTextContent(node) {\n    return node.textContent;\n}\nexport function isElement(node) {\n    return node.nodeType === 1;\n}\nexport function isText(node) {\n    return node.nodeType === 3;\n}\nexport function isComment(node) {\n    return node.nodeType === 8;\n}\n","import { isArray, isObject } from '../core/util.js';\nimport { createElement, createVNode, XMLNS, XML_NAMESPACE, XLINKNS } from './core.js';\nimport * as api from './domapi.js';\nvar colonChar = 58;\nvar xChar = 120;\nvar emptyNode = createVNode('', '');\nfunction isUndef(s) {\n    return s === undefined;\n}\nfunction isDef(s) {\n    return s !== undefined;\n}\nfunction createKeyToOldIdx(children, beginIdx, endIdx) {\n    var map = {};\n    for (var i = beginIdx; i <= endIdx; ++i) {\n        var key = children[i].key;\n        if (key !== undefined) {\n            if (process.env.NODE_ENV !== 'production') {\n                if (map[key] != null) {\n                    console.error(\"Duplicate key \" + key);\n                }\n            }\n            map[key] = i;\n        }\n    }\n    return map;\n}\nfunction sameVnode(vnode1, vnode2) {\n    var isSameKey = vnode1.key === vnode2.key;\n    var isSameTag = vnode1.tag === vnode2.tag;\n    return isSameTag && isSameKey;\n}\nfunction createElm(vnode) {\n    var i;\n    var children = vnode.children;\n    var tag = vnode.tag;\n    if (isDef(tag)) {\n        var elm = (vnode.elm = createElement(tag));\n        updateAttrs(emptyNode, vnode);\n        if (isArray(children)) {\n            for (i = 0; i < children.length; ++i) {\n                var ch = children[i];\n                if (ch != null) {\n                    api.appendChild(elm, createElm(ch));\n                }\n            }\n        }\n        else if (isDef(vnode.text) && !isObject(vnode.text)) {\n            api.appendChild(elm, api.createTextNode(vnode.text));\n        }\n    }\n    else {\n        vnode.elm = api.createTextNode(vnode.text);\n    }\n    return vnode.elm;\n}\nfunction addVnodes(parentElm, before, vnodes, startIdx, endIdx) {\n    for (; startIdx <= endIdx; ++startIdx) {\n        var ch = vnodes[startIdx];\n        if (ch != null) {\n            api.insertBefore(parentElm, createElm(ch), before);\n        }\n    }\n}\nfunction removeVnodes(parentElm, vnodes, startIdx, endIdx) {\n    for (; startIdx <= endIdx; ++startIdx) {\n        var ch = vnodes[startIdx];\n        if (ch != null) {\n            if (isDef(ch.tag)) {\n                var parent_1 = api.parentNode(ch.elm);\n                api.removeChild(parent_1, ch.elm);\n            }\n            else {\n                api.removeChild(parentElm, ch.elm);\n            }\n        }\n    }\n}\nexport function updateAttrs(oldVnode, vnode) {\n    var key;\n    var elm = vnode.elm;\n    var oldAttrs = oldVnode && oldVnode.attrs || {};\n    var attrs = vnode.attrs || {};\n    if (oldAttrs === attrs) {\n        return;\n    }\n    for (key in attrs) {\n        var cur = attrs[key];\n        var old = oldAttrs[key];\n        if (old !== cur) {\n            if (cur === true) {\n                elm.setAttribute(key, '');\n            }\n            else if (cur === false) {\n                elm.removeAttribute(key);\n            }\n            else {\n                if (key === 'style') {\n                    elm.style.cssText = cur;\n                }\n                else if (key.charCodeAt(0) !== xChar) {\n                    elm.setAttribute(key, cur);\n                }\n                else if (key === 'xmlns:xlink' || key === 'xmlns') {\n                    elm.setAttributeNS(XMLNS, key, cur);\n                }\n                else if (key.charCodeAt(3) === colonChar) {\n                    elm.setAttributeNS(XML_NAMESPACE, key, cur);\n                }\n                else if (key.charCodeAt(5) === colonChar) {\n                    elm.setAttributeNS(XLINKNS, key, cur);\n                }\n                else {\n                    elm.setAttribute(key, cur);\n                }\n            }\n        }\n    }\n    for (key in oldAttrs) {\n        if (!(key in attrs)) {\n            elm.removeAttribute(key);\n        }\n    }\n}\nfunction updateChildren(parentElm, oldCh, newCh) {\n    var oldStartIdx = 0;\n    var newStartIdx = 0;\n    var oldEndIdx = oldCh.length - 1;\n    var oldStartVnode = oldCh[0];\n    var oldEndVnode = oldCh[oldEndIdx];\n    var newEndIdx = newCh.length - 1;\n    var newStartVnode = newCh[0];\n    var newEndVnode = newCh[newEndIdx];\n    var oldKeyToIdx;\n    var idxInOld;\n    var elmToMove;\n    var before;\n    while (oldStartIdx <= oldEndIdx && newStartIdx <= newEndIdx) {\n        if (oldStartVnode == null) {\n            oldStartVnode = oldCh[++oldStartIdx];\n        }\n        else if (oldEndVnode == null) {\n            oldEndVnode = oldCh[--oldEndIdx];\n        }\n        else if (newStartVnode == null) {\n            newStartVnode = newCh[++newStartIdx];\n        }\n        else if (newEndVnode == null) {\n            newEndVnode = newCh[--newEndIdx];\n        }\n        else if (sameVnode(oldStartVnode, newStartVnode)) {\n            patchVnode(oldStartVnode, newStartVnode);\n            oldStartVnode = oldCh[++oldStartIdx];\n            newStartVnode = newCh[++newStartIdx];\n        }\n        else if (sameVnode(oldEndVnode, newEndVnode)) {\n            patchVnode(oldEndVnode, newEndVnode);\n            oldEndVnode = oldCh[--oldEndIdx];\n            newEndVnode = newCh[--newEndIdx];\n        }\n        else if (sameVnode(oldStartVnode, newEndVnode)) {\n            patchVnode(oldStartVnode, newEndVnode);\n            api.insertBefore(parentElm, oldStartVnode.elm, api.nextSibling(oldEndVnode.elm));\n            oldStartVnode = oldCh[++oldStartIdx];\n            newEndVnode = newCh[--newEndIdx];\n        }\n        else if (sameVnode(oldEndVnode, newStartVnode)) {\n            patchVnode(oldEndVnode, newStartVnode);\n            api.insertBefore(parentElm, oldEndVnode.elm, oldStartVnode.elm);\n            oldEndVnode = oldCh[--oldEndIdx];\n            newStartVnode = newCh[++newStartIdx];\n        }\n        else {\n            if (isUndef(oldKeyToIdx)) {\n                oldKeyToIdx = createKeyToOldIdx(oldCh, oldStartIdx, oldEndIdx);\n            }\n            idxInOld = oldKeyToIdx[newStartVnode.key];\n            if (isUndef(idxInOld)) {\n                api.insertBefore(parentElm, createElm(newStartVnode), oldStartVnode.elm);\n            }\n            else {\n                elmToMove = oldCh[idxInOld];\n                if (elmToMove.tag !== newStartVnode.tag) {\n                    api.insertBefore(parentElm, createElm(newStartVnode), oldStartVnode.elm);\n                }\n                else {\n                    patchVnode(elmToMove, newStartVnode);\n                    oldCh[idxInOld] = undefined;\n                    api.insertBefore(parentElm, elmToMove.elm, oldStartVnode.elm);\n                }\n            }\n            newStartVnode = newCh[++newStartIdx];\n        }\n    }\n    if (oldStartIdx <= oldEndIdx || newStartIdx <= newEndIdx) {\n        if (oldStartIdx > oldEndIdx) {\n            before = newCh[newEndIdx + 1] == null ? null : newCh[newEndIdx + 1].elm;\n            addVnodes(parentElm, before, newCh, newStartIdx, newEndIdx);\n        }\n        else {\n            removeVnodes(parentElm, oldCh, oldStartIdx, oldEndIdx);\n        }\n    }\n}\nfunction patchVnode(oldVnode, vnode) {\n    var elm = (vnode.elm = oldVnode.elm);\n    var oldCh = oldVnode.children;\n    var ch = vnode.children;\n    if (oldVnode === vnode) {\n        return;\n    }\n    updateAttrs(oldVnode, vnode);\n    if (isUndef(vnode.text)) {\n        if (isDef(oldCh) && isDef(ch)) {\n            if (oldCh !== ch) {\n                updateChildren(elm, oldCh, ch);\n            }\n        }\n        else if (isDef(ch)) {\n            if (isDef(oldVnode.text)) {\n                api.setTextContent(elm, '');\n            }\n            addVnodes(elm, null, ch, 0, ch.length - 1);\n        }\n        else if (isDef(oldCh)) {\n            removeVnodes(elm, oldCh, 0, oldCh.length - 1);\n        }\n        else if (isDef(oldVnode.text)) {\n            api.setTextContent(elm, '');\n        }\n    }\n    else if (oldVnode.text !== vnode.text) {\n        if (isDef(oldCh)) {\n            removeVnodes(elm, oldCh, 0, oldCh.length - 1);\n        }\n        api.setTextContent(elm, vnode.text);\n    }\n}\nexport default function patch(oldVnode, vnode) {\n    if (sameVnode(oldVnode, vnode)) {\n        patchVnode(oldVnode, vnode);\n    }\n    else {\n        var elm = oldVnode.elm;\n        var parent_2 = api.parentNode(elm);\n        createElm(vnode);\n        if (parent_2 !== null) {\n            api.insertBefore(parent_2, vnode.elm, api.nextSibling(elm));\n            removeVnodes(parent_2, [oldVnode], 0, 0);\n        }\n    }\n    return vnode;\n}\n","import { brush, setClipPath, setGradient, setPattern } from './graphic.js';\nimport { createElement, createVNode, vNodeToString, getCssString, createBrushScope, createSVGVNode } from './core.js';\nimport { normalizeColor, encodeBase64, isGradient, isPattern } from './helper.js';\nimport { extend, keys, logError, map, noop, retrieve2 } from '../core/util.js';\nimport patch, { updateAttrs } from './patch.js';\nimport { getSize } from '../canvas/helper.js';\nvar svgId = 0;\nvar SVGPainter = (function () {\n    function SVGPainter(root, storage, opts) {\n        this.type = 'svg';\n        this.refreshHover = createMethodNotSupport('refreshHover');\n        this.configLayer = createMethodNotSupport('configLayer');\n        this.storage = storage;\n        this._opts = opts = extend({}, opts);\n        this.root = root;\n        this._id = 'zr' + svgId++;\n        this._oldVNode = createSVGVNode(opts.width, opts.height);\n        if (root && !opts.ssr) {\n            var viewport = this._viewport = document.createElement('div');\n            viewport.style.cssText = 'position:relative;overflow:hidden';\n            var svgDom = this._svgDom = this._oldVNode.elm = createElement('svg');\n            updateAttrs(null, this._oldVNode);\n            viewport.appendChild(svgDom);\n            root.appendChild(viewport);\n        }\n        this.resize(opts.width, opts.height);\n    }\n    SVGPainter.prototype.getType = function () {\n        return this.type;\n    };\n    SVGPainter.prototype.getViewportRoot = function () {\n        return this._viewport;\n    };\n    SVGPainter.prototype.getViewportRootOffset = function () {\n        var viewportRoot = this.getViewportRoot();\n        if (viewportRoot) {\n            return {\n                offsetLeft: viewportRoot.offsetLeft || 0,\n                offsetTop: viewportRoot.offsetTop || 0\n            };\n        }\n    };\n    SVGPainter.prototype.getSvgDom = function () {\n        return this._svgDom;\n    };\n    SVGPainter.prototype.refresh = function () {\n        if (this.root) {\n            var vnode = this.renderToVNode({\n                willUpdate: true\n            });\n            vnode.attrs.style = 'position:absolute;left:0;top:0;user-select:none';\n            patch(this._oldVNode, vnode);\n            this._oldVNode = vnode;\n        }\n    };\n    SVGPainter.prototype.renderOneToVNode = function (el) {\n        return brush(el, createBrushScope(this._id));\n    };\n    SVGPainter.prototype.renderToVNode = function (opts) {\n        opts = opts || {};\n        var list = this.storage.getDisplayList(true);\n        var width = this._width;\n        var height = this._height;\n        var scope = createBrushScope(this._id);\n        scope.animation = opts.animation;\n        scope.willUpdate = opts.willUpdate;\n        scope.compress = opts.compress;\n        scope.emphasis = opts.emphasis;\n        scope.ssr = this._opts.ssr;\n        var children = [];\n        var bgVNode = this._bgVNode = createBackgroundVNode(width, height, this._backgroundColor, scope);\n        bgVNode && children.push(bgVNode);\n        var mainVNode = !opts.compress\n            ? (this._mainVNode = createVNode('g', 'main', {}, [])) : null;\n        this._paintList(list, scope, mainVNode ? mainVNode.children : children);\n        mainVNode && children.push(mainVNode);\n        var defs = map(keys(scope.defs), function (id) { return scope.defs[id]; });\n        if (defs.length) {\n            children.push(createVNode('defs', 'defs', {}, defs));\n        }\n        if (opts.animation) {\n            var animationCssStr = getCssString(scope.cssNodes, scope.cssAnims, { newline: true });\n            if (animationCssStr) {\n                var styleNode = createVNode('style', 'stl', {}, [], animationCssStr);\n                children.push(styleNode);\n            }\n        }\n        return createSVGVNode(width, height, children, opts.useViewBox);\n    };\n    SVGPainter.prototype.renderToString = function (opts) {\n        opts = opts || {};\n        return vNodeToString(this.renderToVNode({\n            animation: retrieve2(opts.cssAnimation, true),\n            emphasis: retrieve2(opts.cssEmphasis, true),\n            willUpdate: false,\n            compress: true,\n            useViewBox: retrieve2(opts.useViewBox, true)\n        }), { newline: true });\n    };\n    SVGPainter.prototype.setBackgroundColor = function (backgroundColor) {\n        this._backgroundColor = backgroundColor;\n    };\n    SVGPainter.prototype.getSvgRoot = function () {\n        return this._mainVNode && this._mainVNode.elm;\n    };\n    SVGPainter.prototype._paintList = function (list, scope, out) {\n        var listLen = list.length;\n        var clipPathsGroupsStack = [];\n        var clipPathsGroupsStackDepth = 0;\n        var currentClipPathGroup;\n        var prevClipPaths;\n        var clipGroupNodeIdx = 0;\n        for (var i = 0; i < listLen; i++) {\n            var displayable = list[i];\n            if (!displayable.invisible) {\n                var clipPaths = displayable.__clipPaths;\n                var len = clipPaths && clipPaths.length || 0;\n                var prevLen = prevClipPaths && prevClipPaths.length || 0;\n                var lca = void 0;\n                for (lca = Math.max(len - 1, prevLen - 1); lca >= 0; lca--) {\n                    if (clipPaths && prevClipPaths\n                        && clipPaths[lca] === prevClipPaths[lca]) {\n                        break;\n                    }\n                }\n                for (var i_1 = prevLen - 1; i_1 > lca; i_1--) {\n                    clipPathsGroupsStackDepth--;\n                    currentClipPathGroup = clipPathsGroupsStack[clipPathsGroupsStackDepth - 1];\n                }\n                for (var i_2 = lca + 1; i_2 < len; i_2++) {\n                    var groupAttrs = {};\n                    setClipPath(clipPaths[i_2], groupAttrs, scope);\n                    var g = createVNode('g', 'clip-g-' + clipGroupNodeIdx++, groupAttrs, []);\n                    (currentClipPathGroup ? currentClipPathGroup.children : out).push(g);\n                    clipPathsGroupsStack[clipPathsGroupsStackDepth++] = g;\n                    currentClipPathGroup = g;\n                }\n                prevClipPaths = clipPaths;\n                var ret = brush(displayable, scope);\n                if (ret) {\n                    (currentClipPathGroup ? currentClipPathGroup.children : out).push(ret);\n                }\n            }\n        }\n    };\n    SVGPainter.prototype.resize = function (width, height) {\n        var opts = this._opts;\n        var root = this.root;\n        var viewport = this._viewport;\n        width != null && (opts.width = width);\n        height != null && (opts.height = height);\n        if (root && viewport) {\n            viewport.style.display = 'none';\n            width = getSize(root, 0, opts);\n            height = getSize(root, 1, opts);\n            viewport.style.display = '';\n        }\n        if (this._width !== width || this._height !== height) {\n            this._width = width;\n            this._height = height;\n            if (viewport) {\n                var viewportStyle = viewport.style;\n                viewportStyle.width = width + 'px';\n                viewportStyle.height = height + 'px';\n            }\n            if (!isPattern(this._backgroundColor)) {\n                var svgDom = this._svgDom;\n                if (svgDom) {\n                    svgDom.setAttribute('width', width);\n                    svgDom.setAttribute('height', height);\n                }\n                var bgEl = this._bgVNode && this._bgVNode.elm;\n                if (bgEl) {\n                    bgEl.setAttribute('width', width);\n                    bgEl.setAttribute('height', height);\n                }\n            }\n            else {\n                this.refresh();\n            }\n        }\n    };\n    SVGPainter.prototype.getWidth = function () {\n        return this._width;\n    };\n    SVGPainter.prototype.getHeight = function () {\n        return this._height;\n    };\n    SVGPainter.prototype.dispose = function () {\n        if (this.root) {\n            this.root.innerHTML = '';\n        }\n        this._svgDom =\n            this._viewport =\n                this.storage =\n                    this._oldVNode =\n                        this._bgVNode =\n                            this._mainVNode = null;\n    };\n    SVGPainter.prototype.clear = function () {\n        if (this._svgDom) {\n            this._svgDom.innerHTML = null;\n        }\n        this._oldVNode = null;\n    };\n    SVGPainter.prototype.toDataURL = function (base64) {\n        var str = this.renderToString();\n        var prefix = 'data:image/svg+xml;';\n        if (base64) {\n            str = encodeBase64(str);\n            return str && prefix + 'base64,' + str;\n        }\n        return prefix + 'charset=UTF-8,' + encodeURIComponent(str);\n    };\n    return SVGPainter;\n}());\nfunction createMethodNotSupport(method) {\n    return function () {\n        if (process.env.NODE_ENV !== 'production') {\n            logError('In SVG mode painter not support method \"' + method + '\"');\n        }\n    };\n}\nfunction createBackgroundVNode(width, height, backgroundColor, scope) {\n    var bgVNode;\n    if (backgroundColor && backgroundColor !== 'none') {\n        bgVNode = createVNode('rect', 'bg', {\n            width: width,\n            height: height,\n            x: '0',\n            y: '0'\n        });\n        if (isGradient(backgroundColor)) {\n            setGradient({ fill: backgroundColor }, bgVNode.attrs, 'fill', scope);\n        }\n        else if (isPattern(backgroundColor)) {\n            setPattern({\n                style: {\n                    fill: backgroundColor\n                },\n                dirty: noop,\n                getBoundingRect: function () { return ({ width: width, height: height }); }\n            }, bgVNode.attrs, 'fill', scope);\n        }\n        else {\n            var _a = normalizeColor(backgroundColor), color = _a.color, opacity = _a.opacity;\n            bgVNode.attrs.fill = color;\n            opacity < 1 && (bgVNode.attrs['fill-opacity'] = opacity);\n        }\n    }\n    return bgVNode;\n}\nexport default SVGPainter;\n","import { __extends } from \"tslib\";\nimport * as util from '../core/util.js';\nimport { devicePixelRatio } from '../config.js';\nimport Eventful from '../core/Eventful.js';\nimport { getCanvasGradient } from './helper.js';\nimport { createCanvasPattern } from './graphic.js';\nimport BoundingRect from '../core/BoundingRect.js';\nimport { REDRAW_BIT } from '../graphic/constants.js';\nimport { platformApi } from '../core/platform.js';\nfunction createDom(id, painter, dpr) {\n    var newDom = platformApi.createCanvas();\n    var width = painter.getWidth();\n    var height = painter.getHeight();\n    var newDomStyle = newDom.style;\n    if (newDomStyle) {\n        newDomStyle.position = 'absolute';\n        newDomStyle.left = '0';\n        newDomStyle.top = '0';\n        newDomStyle.width = width + 'px';\n        newDomStyle.height = height + 'px';\n        newDom.setAttribute('data-zr-dom-id', id);\n    }\n    newDom.width = width * dpr;\n    newDom.height = height * dpr;\n    return newDom;\n}\n;\nvar Layer = (function (_super) {\n    __extends(Layer, _super);\n    function Layer(id, painter, dpr) {\n        var _this = _super.call(this) || this;\n        _this.motionBlur = false;\n        _this.lastFrameAlpha = 0.7;\n        _this.dpr = 1;\n        _this.virtual = false;\n        _this.config = {};\n        _this.incremental = false;\n        _this.zlevel = 0;\n        _this.maxRepaintRectCount = 5;\n        _this.__dirty = true;\n        _this.__firstTimePaint = true;\n        _this.__used = false;\n        _this.__drawIndex = 0;\n        _this.__startIndex = 0;\n        _this.__endIndex = 0;\n        _this.__prevStartIndex = null;\n        _this.__prevEndIndex = null;\n        var dom;\n        dpr = dpr || devicePixelRatio;\n        if (typeof id === 'string') {\n            dom = createDom(id, painter, dpr);\n        }\n        else if (util.isObject(id)) {\n            dom = id;\n            id = dom.id;\n        }\n        _this.id = id;\n        _this.dom = dom;\n        var domStyle = dom.style;\n        if (domStyle) {\n            util.disableUserSelect(dom);\n            dom.onselectstart = function () { return false; };\n            domStyle.padding = '0';\n            domStyle.margin = '0';\n            domStyle.borderWidth = '0';\n        }\n        _this.painter = painter;\n        _this.dpr = dpr;\n        return _this;\n    }\n    Layer.prototype.getElementCount = function () {\n        return this.__endIndex - this.__startIndex;\n    };\n    Layer.prototype.afterBrush = function () {\n        this.__prevStartIndex = this.__startIndex;\n        this.__prevEndIndex = this.__endIndex;\n    };\n    Layer.prototype.initContext = function () {\n        this.ctx = this.dom.getContext('2d');\n        this.ctx.dpr = this.dpr;\n    };\n    Layer.prototype.setUnpainted = function () {\n        this.__firstTimePaint = true;\n    };\n    Layer.prototype.createBackBuffer = function () {\n        var dpr = this.dpr;\n        this.domBack = createDom('back-' + this.id, this.painter, dpr);\n        this.ctxBack = this.domBack.getContext('2d');\n        if (dpr !== 1) {\n            this.ctxBack.scale(dpr, dpr);\n        }\n    };\n    Layer.prototype.createRepaintRects = function (displayList, prevList, viewWidth, viewHeight) {\n        if (this.__firstTimePaint) {\n            this.__firstTimePaint = false;\n            return null;\n        }\n        var mergedRepaintRects = [];\n        var maxRepaintRectCount = this.maxRepaintRectCount;\n        var full = false;\n        var pendingRect = new BoundingRect(0, 0, 0, 0);\n        function addRectToMergePool(rect) {\n            if (!rect.isFinite() || rect.isZero()) {\n                return;\n            }\n            if (mergedRepaintRects.length === 0) {\n                var boundingRect = new BoundingRect(0, 0, 0, 0);\n                boundingRect.copy(rect);\n                mergedRepaintRects.push(boundingRect);\n            }\n            else {\n                var isMerged = false;\n                var minDeltaArea = Infinity;\n                var bestRectToMergeIdx = 0;\n                for (var i = 0; i < mergedRepaintRects.length; ++i) {\n                    var mergedRect = mergedRepaintRects[i];\n                    if (mergedRect.intersect(rect)) {\n                        var pendingRect_1 = new BoundingRect(0, 0, 0, 0);\n                        pendingRect_1.copy(mergedRect);\n                        pendingRect_1.union(rect);\n                        mergedRepaintRects[i] = pendingRect_1;\n                        isMerged = true;\n                        break;\n                    }\n                    else if (full) {\n                        pendingRect.copy(rect);\n                        pendingRect.union(mergedRect);\n                        var aArea = rect.width * rect.height;\n                        var bArea = mergedRect.width * mergedRect.height;\n                        var pendingArea = pendingRect.width * pendingRect.height;\n                        var deltaArea = pendingArea - aArea - bArea;\n                        if (deltaArea < minDeltaArea) {\n                            minDeltaArea = deltaArea;\n                            bestRectToMergeIdx = i;\n                        }\n                    }\n                }\n                if (full) {\n                    mergedRepaintRects[bestRectToMergeIdx].union(rect);\n                    isMerged = true;\n                }\n                if (!isMerged) {\n                    var boundingRect = new BoundingRect(0, 0, 0, 0);\n                    boundingRect.copy(rect);\n                    mergedRepaintRects.push(boundingRect);\n                }\n                if (!full) {\n                    full = mergedRepaintRects.length >= maxRepaintRectCount;\n                }\n            }\n        }\n        for (var i = this.__startIndex; i < this.__endIndex; ++i) {\n            var el = displayList[i];\n            if (el) {\n                var shouldPaint = el.shouldBePainted(viewWidth, viewHeight, true, true);\n                var prevRect = el.__isRendered && ((el.__dirty & REDRAW_BIT) || !shouldPaint)\n                    ? el.getPrevPaintRect()\n                    : null;\n                if (prevRect) {\n                    addRectToMergePool(prevRect);\n                }\n                var curRect = shouldPaint && ((el.__dirty & REDRAW_BIT) || !el.__isRendered)\n                    ? el.getPaintRect()\n                    : null;\n                if (curRect) {\n                    addRectToMergePool(curRect);\n                }\n            }\n        }\n        for (var i = this.__prevStartIndex; i < this.__prevEndIndex; ++i) {\n            var el = prevList[i];\n            var shouldPaint = el && el.shouldBePainted(viewWidth, viewHeight, true, true);\n            if (el && (!shouldPaint || !el.__zr) && el.__isRendered) {\n                var prevRect = el.getPrevPaintRect();\n                if (prevRect) {\n                    addRectToMergePool(prevRect);\n                }\n            }\n        }\n        var hasIntersections;\n        do {\n            hasIntersections = false;\n            for (var i = 0; i < mergedRepaintRects.length;) {\n                if (mergedRepaintRects[i].isZero()) {\n                    mergedRepaintRects.splice(i, 1);\n                    continue;\n                }\n                for (var j = i + 1; j < mergedRepaintRects.length;) {\n                    if (mergedRepaintRects[i].intersect(mergedRepaintRects[j])) {\n                        hasIntersections = true;\n                        mergedRepaintRects[i].union(mergedRepaintRects[j]);\n                        mergedRepaintRects.splice(j, 1);\n                    }\n                    else {\n                        j++;\n                    }\n                }\n                i++;\n            }\n        } while (hasIntersections);\n        this._paintRects = mergedRepaintRects;\n        return mergedRepaintRects;\n    };\n    Layer.prototype.debugGetPaintRects = function () {\n        return (this._paintRects || []).slice();\n    };\n    Layer.prototype.resize = function (width, height) {\n        var dpr = this.dpr;\n        var dom = this.dom;\n        var domStyle = dom.style;\n        var domBack = this.domBack;\n        if (domStyle) {\n            domStyle.width = width + 'px';\n            domStyle.height = height + 'px';\n        }\n        dom.width = width * dpr;\n        dom.height = height * dpr;\n        if (domBack) {\n            domBack.width = width * dpr;\n            domBack.height = height * dpr;\n            if (dpr !== 1) {\n                this.ctxBack.scale(dpr, dpr);\n            }\n        }\n    };\n    Layer.prototype.clear = function (clearAll, clearColor, repaintRects) {\n        var dom = this.dom;\n        var ctx = this.ctx;\n        var width = dom.width;\n        var height = dom.height;\n        clearColor = clearColor || this.clearColor;\n        var haveMotionBLur = this.motionBlur && !clearAll;\n        var lastFrameAlpha = this.lastFrameAlpha;\n        var dpr = this.dpr;\n        var self = this;\n        if (haveMotionBLur) {\n            if (!this.domBack) {\n                this.createBackBuffer();\n            }\n            this.ctxBack.globalCompositeOperation = 'copy';\n            this.ctxBack.drawImage(dom, 0, 0, width / dpr, height / dpr);\n        }\n        var domBack = this.domBack;\n        function doClear(x, y, width, height) {\n            ctx.clearRect(x, y, width, height);\n            if (clearColor && clearColor !== 'transparent') {\n                var clearColorGradientOrPattern = void 0;\n                if (util.isGradientObject(clearColor)) {\n                    var shouldCache = clearColor.global || (clearColor.__width === width\n                        && clearColor.__height === height);\n                    clearColorGradientOrPattern = shouldCache\n                        && clearColor.__canvasGradient\n                        || getCanvasGradient(ctx, clearColor, {\n                            x: 0,\n                            y: 0,\n                            width: width,\n                            height: height\n                        });\n                    clearColor.__canvasGradient = clearColorGradientOrPattern;\n                    clearColor.__width = width;\n                    clearColor.__height = height;\n                }\n                else if (util.isImagePatternObject(clearColor)) {\n                    clearColor.scaleX = clearColor.scaleX || dpr;\n                    clearColor.scaleY = clearColor.scaleY || dpr;\n                    clearColorGradientOrPattern = createCanvasPattern(ctx, clearColor, {\n                        dirty: function () {\n                            self.setUnpainted();\n                            self.painter.refresh();\n                        }\n                    });\n                }\n                ctx.save();\n                ctx.fillStyle = clearColorGradientOrPattern || clearColor;\n                ctx.fillRect(x, y, width, height);\n                ctx.restore();\n            }\n            if (haveMotionBLur) {\n                ctx.save();\n                ctx.globalAlpha = lastFrameAlpha;\n                ctx.drawImage(domBack, x, y, width, height);\n                ctx.restore();\n            }\n        }\n        ;\n        if (!repaintRects || haveMotionBLur) {\n            doClear(0, 0, width, height);\n        }\n        else if (repaintRects.length) {\n            util.each(repaintRects, function (rect) {\n                doClear(rect.x * dpr, rect.y * dpr, rect.width * dpr, rect.height * dpr);\n            });\n        }\n    };\n    return Layer;\n}(Eventful));\nexport default Layer;\n","import { devicePixelRatio } from '../config.js';\nimport * as util from '../core/util.js';\nimport Layer from './Layer.js';\nimport requestAnimationFrame from '../animation/requestAnimationFrame.js';\nimport env from '../core/env.js';\nimport { brush, brushSingle } from './graphic.js';\nimport { REDRAW_BIT } from '../graphic/constants.js';\nimport { getSize } from './helper.js';\nvar HOVER_LAYER_ZLEVEL = 1e5;\nvar CANVAS_ZLEVEL = 314159;\nvar EL_AFTER_INCREMENTAL_INC = 0.01;\nvar INCREMENTAL_INC = 0.001;\nfunction isLayerValid(layer) {\n    if (!layer) {\n        return false;\n    }\n    if (layer.__builtin__) {\n        return true;\n    }\n    if (typeof (layer.resize) !== 'function'\n        || typeof (layer.refresh) !== 'function') {\n        return false;\n    }\n    return true;\n}\nfunction createRoot(width, height) {\n    var domRoot = document.createElement('div');\n    domRoot.style.cssText = [\n        'position:relative',\n        'width:' + width + 'px',\n        'height:' + height + 'px',\n        'padding:0',\n        'margin:0',\n        'border-width:0'\n    ].join(';') + ';';\n    return domRoot;\n}\nvar CanvasPainter = (function () {\n    function CanvasPainter(root, storage, opts, id) {\n        this.type = 'canvas';\n        this._zlevelList = [];\n        this._prevDisplayList = [];\n        this._layers = {};\n        this._layerConfig = {};\n        this._needsManuallyCompositing = false;\n        this.type = 'canvas';\n        var singleCanvas = !root.nodeName\n            || root.nodeName.toUpperCase() === 'CANVAS';\n        this._opts = opts = util.extend({}, opts || {});\n        this.dpr = opts.devicePixelRatio || devicePixelRatio;\n        this._singleCanvas = singleCanvas;\n        this.root = root;\n        var rootStyle = root.style;\n        if (rootStyle) {\n            util.disableUserSelect(root);\n            root.innerHTML = '';\n        }\n        this.storage = storage;\n        var zlevelList = this._zlevelList;\n        this._prevDisplayList = [];\n        var layers = this._layers;\n        if (!singleCanvas) {\n            this._width = getSize(root, 0, opts);\n            this._height = getSize(root, 1, opts);\n            var domRoot = this._domRoot = createRoot(this._width, this._height);\n            root.appendChild(domRoot);\n        }\n        else {\n            var rootCanvas = root;\n            var width = rootCanvas.width;\n            var height = rootCanvas.height;\n            if (opts.width != null) {\n                width = opts.width;\n            }\n            if (opts.height != null) {\n                height = opts.height;\n            }\n            this.dpr = opts.devicePixelRatio || 1;\n            rootCanvas.width = width * this.dpr;\n            rootCanvas.height = height * this.dpr;\n            this._width = width;\n            this._height = height;\n            var mainLayer = new Layer(rootCanvas, this, this.dpr);\n            mainLayer.__builtin__ = true;\n            mainLayer.initContext();\n            layers[CANVAS_ZLEVEL] = mainLayer;\n            mainLayer.zlevel = CANVAS_ZLEVEL;\n            zlevelList.push(CANVAS_ZLEVEL);\n            this._domRoot = root;\n        }\n    }\n    CanvasPainter.prototype.getType = function () {\n        return 'canvas';\n    };\n    CanvasPainter.prototype.isSingleCanvas = function () {\n        return this._singleCanvas;\n    };\n    CanvasPainter.prototype.getViewportRoot = function () {\n        return this._domRoot;\n    };\n    CanvasPainter.prototype.getViewportRootOffset = function () {\n        var viewportRoot = this.getViewportRoot();\n        if (viewportRoot) {\n            return {\n                offsetLeft: viewportRoot.offsetLeft || 0,\n                offsetTop: viewportRoot.offsetTop || 0\n            };\n        }\n    };\n    CanvasPainter.prototype.refresh = function (paintAll) {\n        var list = this.storage.getDisplayList(true);\n        var prevList = this._prevDisplayList;\n        var zlevelList = this._zlevelList;\n        this._redrawId = Math.random();\n        this._paintList(list, prevList, paintAll, this._redrawId);\n        for (var i = 0; i < zlevelList.length; i++) {\n            var z = zlevelList[i];\n            var layer = this._layers[z];\n            if (!layer.__builtin__ && layer.refresh) {\n                var clearColor = i === 0 ? this._backgroundColor : null;\n                layer.refresh(clearColor);\n            }\n        }\n        if (this._opts.useDirtyRect) {\n            this._prevDisplayList = list.slice();\n        }\n        return this;\n    };\n    CanvasPainter.prototype.refreshHover = function () {\n        this._paintHoverList(this.storage.getDisplayList(false));\n    };\n    CanvasPainter.prototype._paintHoverList = function (list) {\n        var len = list.length;\n        var hoverLayer = this._hoverlayer;\n        hoverLayer && hoverLayer.clear();\n        if (!len) {\n            return;\n        }\n        var scope = {\n            inHover: true,\n            viewWidth: this._width,\n            viewHeight: this._height\n        };\n        var ctx;\n        for (var i = 0; i < len; i++) {\n            var el = list[i];\n            if (el.__inHover) {\n                if (!hoverLayer) {\n                    hoverLayer = this._hoverlayer = this.getLayer(HOVER_LAYER_ZLEVEL);\n                }\n                if (!ctx) {\n                    ctx = hoverLayer.ctx;\n                    ctx.save();\n                }\n                brush(ctx, el, scope, i === len - 1);\n            }\n        }\n        if (ctx) {\n            ctx.restore();\n        }\n    };\n    CanvasPainter.prototype.getHoverLayer = function () {\n        return this.getLayer(HOVER_LAYER_ZLEVEL);\n    };\n    CanvasPainter.prototype.paintOne = function (ctx, el) {\n        brushSingle(ctx, el);\n    };\n    CanvasPainter.prototype._paintList = function (list, prevList, paintAll, redrawId) {\n        if (this._redrawId !== redrawId) {\n            return;\n        }\n        paintAll = paintAll || false;\n        this._updateLayerStatus(list);\n        var _a = this._doPaintList(list, prevList, paintAll), finished = _a.finished, needsRefreshHover = _a.needsRefreshHover;\n        if (this._needsManuallyCompositing) {\n            this._compositeManually();\n        }\n        if (needsRefreshHover) {\n            this._paintHoverList(list);\n        }\n        if (!finished) {\n            var self_1 = this;\n            requestAnimationFrame(function () {\n                self_1._paintList(list, prevList, paintAll, redrawId);\n            });\n        }\n        else {\n            this.eachLayer(function (layer) {\n                layer.afterBrush && layer.afterBrush();\n            });\n        }\n    };\n    CanvasPainter.prototype._compositeManually = function () {\n        var ctx = this.getLayer(CANVAS_ZLEVEL).ctx;\n        var width = this._domRoot.width;\n        var height = this._domRoot.height;\n        ctx.clearRect(0, 0, width, height);\n        this.eachBuiltinLayer(function (layer) {\n            if (layer.virtual) {\n                ctx.drawImage(layer.dom, 0, 0, width, height);\n            }\n        });\n    };\n    CanvasPainter.prototype._doPaintList = function (list, prevList, paintAll) {\n        var _this = this;\n        var layerList = [];\n        var useDirtyRect = this._opts.useDirtyRect;\n        for (var zi = 0; zi < this._zlevelList.length; zi++) {\n            var zlevel = this._zlevelList[zi];\n            var layer = this._layers[zlevel];\n            if (layer.__builtin__\n                && layer !== this._hoverlayer\n                && (layer.__dirty || paintAll)) {\n                layerList.push(layer);\n            }\n        }\n        var finished = true;\n        var needsRefreshHover = false;\n        var _loop_1 = function (k) {\n            var layer = layerList[k];\n            var ctx = layer.ctx;\n            var repaintRects = useDirtyRect\n                && layer.createRepaintRects(list, prevList, this_1._width, this_1._height);\n            var start = paintAll ? layer.__startIndex : layer.__drawIndex;\n            var useTimer = !paintAll && layer.incremental && Date.now;\n            var startTime = useTimer && Date.now();\n            var clearColor = layer.zlevel === this_1._zlevelList[0]\n                ? this_1._backgroundColor : null;\n            if (layer.__startIndex === layer.__endIndex) {\n                layer.clear(false, clearColor, repaintRects);\n            }\n            else if (start === layer.__startIndex) {\n                var firstEl = list[start];\n                if (!firstEl.incremental || !firstEl.notClear || paintAll) {\n                    layer.clear(false, clearColor, repaintRects);\n                }\n            }\n            if (start === -1) {\n                console.error('For some unknown reason. drawIndex is -1');\n                start = layer.__startIndex;\n            }\n            var i;\n            var repaint = function (repaintRect) {\n                var scope = {\n                    inHover: false,\n                    allClipped: false,\n                    prevEl: null,\n                    viewWidth: _this._width,\n                    viewHeight: _this._height\n                };\n                for (i = start; i < layer.__endIndex; i++) {\n                    var el = list[i];\n                    if (el.__inHover) {\n                        needsRefreshHover = true;\n                    }\n                    _this._doPaintEl(el, layer, useDirtyRect, repaintRect, scope, i === layer.__endIndex - 1);\n                    if (useTimer) {\n                        var dTime = Date.now() - startTime;\n                        if (dTime > 15) {\n                            break;\n                        }\n                    }\n                }\n                if (scope.prevElClipPaths) {\n                    ctx.restore();\n                }\n            };\n            if (repaintRects) {\n                if (repaintRects.length === 0) {\n                    i = layer.__endIndex;\n                }\n                else {\n                    var dpr = this_1.dpr;\n                    for (var r = 0; r < repaintRects.length; ++r) {\n                        var rect = repaintRects[r];\n                        ctx.save();\n                        ctx.beginPath();\n                        ctx.rect(rect.x * dpr, rect.y * dpr, rect.width * dpr, rect.height * dpr);\n                        ctx.clip();\n                        repaint(rect);\n                        ctx.restore();\n                    }\n                }\n            }\n            else {\n                ctx.save();\n                repaint();\n                ctx.restore();\n            }\n            layer.__drawIndex = i;\n            if (layer.__drawIndex < layer.__endIndex) {\n                finished = false;\n            }\n        };\n        var this_1 = this;\n        for (var k = 0; k < layerList.length; k++) {\n            _loop_1(k);\n        }\n        if (env.wxa) {\n            util.each(this._layers, function (layer) {\n                if (layer && layer.ctx && layer.ctx.draw) {\n                    layer.ctx.draw();\n                }\n            });\n        }\n        return {\n            finished: finished,\n            needsRefreshHover: needsRefreshHover\n        };\n    };\n    CanvasPainter.prototype._doPaintEl = function (el, currentLayer, useDirtyRect, repaintRect, scope, isLast) {\n        var ctx = currentLayer.ctx;\n        if (useDirtyRect) {\n            var paintRect = el.getPaintRect();\n            if (!repaintRect || paintRect && paintRect.intersect(repaintRect)) {\n                brush(ctx, el, scope, isLast);\n                el.setPrevPaintRect(paintRect);\n            }\n        }\n        else {\n            brush(ctx, el, scope, isLast);\n        }\n    };\n    CanvasPainter.prototype.getLayer = function (zlevel, virtual) {\n        if (this._singleCanvas && !this._needsManuallyCompositing) {\n            zlevel = CANVAS_ZLEVEL;\n        }\n        var layer = this._layers[zlevel];\n        if (!layer) {\n            layer = new Layer('zr_' + zlevel, this, this.dpr);\n            layer.zlevel = zlevel;\n            layer.__builtin__ = true;\n            if (this._layerConfig[zlevel]) {\n                util.merge(layer, this._layerConfig[zlevel], true);\n            }\n            else if (this._layerConfig[zlevel - EL_AFTER_INCREMENTAL_INC]) {\n                util.merge(layer, this._layerConfig[zlevel - EL_AFTER_INCREMENTAL_INC], true);\n            }\n            if (virtual) {\n                layer.virtual = virtual;\n            }\n            this.insertLayer(zlevel, layer);\n            layer.initContext();\n        }\n        return layer;\n    };\n    CanvasPainter.prototype.insertLayer = function (zlevel, layer) {\n        var layersMap = this._layers;\n        var zlevelList = this._zlevelList;\n        var len = zlevelList.length;\n        var domRoot = this._domRoot;\n        var prevLayer = null;\n        var i = -1;\n        if (layersMap[zlevel]) {\n            if (process.env.NODE_ENV !== 'production') {\n                util.logError('ZLevel ' + zlevel + ' has been used already');\n            }\n            return;\n        }\n        if (!isLayerValid(layer)) {\n            if (process.env.NODE_ENV !== 'production') {\n                util.logError('Layer of zlevel ' + zlevel + ' is not valid');\n            }\n            return;\n        }\n        if (len > 0 && zlevel > zlevelList[0]) {\n            for (i = 0; i < len - 1; i++) {\n                if (zlevelList[i] < zlevel\n                    && zlevelList[i + 1] > zlevel) {\n                    break;\n                }\n            }\n            prevLayer = layersMap[zlevelList[i]];\n        }\n        zlevelList.splice(i + 1, 0, zlevel);\n        layersMap[zlevel] = layer;\n        if (!layer.virtual) {\n            if (prevLayer) {\n                var prevDom = prevLayer.dom;\n                if (prevDom.nextSibling) {\n                    domRoot.insertBefore(layer.dom, prevDom.nextSibling);\n                }\n                else {\n                    domRoot.appendChild(layer.dom);\n                }\n            }\n            else {\n                if (domRoot.firstChild) {\n                    domRoot.insertBefore(layer.dom, domRoot.firstChild);\n                }\n                else {\n                    domRoot.appendChild(layer.dom);\n                }\n            }\n        }\n        layer.painter || (layer.painter = this);\n    };\n    CanvasPainter.prototype.eachLayer = function (cb, context) {\n        var zlevelList = this._zlevelList;\n        for (var i = 0; i < zlevelList.length; i++) {\n            var z = zlevelList[i];\n            cb.call(context, this._layers[z], z);\n        }\n    };\n    CanvasPainter.prototype.eachBuiltinLayer = function (cb, context) {\n        var zlevelList = this._zlevelList;\n        for (var i = 0; i < zlevelList.length; i++) {\n            var z = zlevelList[i];\n            var layer = this._layers[z];\n            if (layer.__builtin__) {\n                cb.call(context, layer, z);\n            }\n        }\n    };\n    CanvasPainter.prototype.eachOtherLayer = function (cb, context) {\n        var zlevelList = this._zlevelList;\n        for (var i = 0; i < zlevelList.length; i++) {\n            var z = zlevelList[i];\n            var layer = this._layers[z];\n            if (!layer.__builtin__) {\n                cb.call(context, layer, z);\n            }\n        }\n    };\n    CanvasPainter.prototype.getLayers = function () {\n        return this._layers;\n    };\n    CanvasPainter.prototype._updateLayerStatus = function (list) {\n        this.eachBuiltinLayer(function (layer, z) {\n            layer.__dirty = layer.__used = false;\n        });\n        function updatePrevLayer(idx) {\n            if (prevLayer) {\n                if (prevLayer.__endIndex !== idx) {\n                    prevLayer.__dirty = true;\n                }\n                prevLayer.__endIndex = idx;\n            }\n        }\n        if (this._singleCanvas) {\n            for (var i_1 = 1; i_1 < list.length; i_1++) {\n                var el = list[i_1];\n                if (el.zlevel !== list[i_1 - 1].zlevel || el.incremental) {\n                    this._needsManuallyCompositing = true;\n                    break;\n                }\n            }\n        }\n        var prevLayer = null;\n        var incrementalLayerCount = 0;\n        var prevZlevel;\n        var i;\n        for (i = 0; i < list.length; i++) {\n            var el = list[i];\n            var zlevel = el.zlevel;\n            var layer = void 0;\n            if (prevZlevel !== zlevel) {\n                prevZlevel = zlevel;\n                incrementalLayerCount = 0;\n            }\n            if (el.incremental) {\n                layer = this.getLayer(zlevel + INCREMENTAL_INC, this._needsManuallyCompositing);\n                layer.incremental = true;\n                incrementalLayerCount = 1;\n            }\n            else {\n                layer = this.getLayer(zlevel + (incrementalLayerCount > 0 ? EL_AFTER_INCREMENTAL_INC : 0), this._needsManuallyCompositing);\n            }\n            if (!layer.__builtin__) {\n                util.logError('ZLevel ' + zlevel + ' has been used by unkown layer ' + layer.id);\n            }\n            if (layer !== prevLayer) {\n                layer.__used = true;\n                if (layer.__startIndex !== i) {\n                    layer.__dirty = true;\n                }\n                layer.__startIndex = i;\n                if (!layer.incremental) {\n                    layer.__drawIndex = i;\n                }\n                else {\n                    layer.__drawIndex = -1;\n                }\n                updatePrevLayer(i);\n                prevLayer = layer;\n            }\n            if ((el.__dirty & REDRAW_BIT) && !el.__inHover) {\n                layer.__dirty = true;\n                if (layer.incremental && layer.__drawIndex < 0) {\n                    layer.__drawIndex = i;\n                }\n            }\n        }\n        updatePrevLayer(i);\n        this.eachBuiltinLayer(function (layer, z) {\n            if (!layer.__used && layer.getElementCount() > 0) {\n                layer.__dirty = true;\n                layer.__startIndex = layer.__endIndex = layer.__drawIndex = 0;\n            }\n            if (layer.__dirty && layer.__drawIndex < 0) {\n                layer.__drawIndex = layer.__startIndex;\n            }\n        });\n    };\n    CanvasPainter.prototype.clear = function () {\n        this.eachBuiltinLayer(this._clearLayer);\n        return this;\n    };\n    CanvasPainter.prototype._clearLayer = function (layer) {\n        layer.clear();\n    };\n    CanvasPainter.prototype.setBackgroundColor = function (backgroundColor) {\n        this._backgroundColor = backgroundColor;\n        util.each(this._layers, function (layer) {\n            layer.setUnpainted();\n        });\n    };\n    CanvasPainter.prototype.configLayer = function (zlevel, config) {\n        if (config) {\n            var layerConfig = this._layerConfig;\n            if (!layerConfig[zlevel]) {\n                layerConfig[zlevel] = config;\n            }\n            else {\n                util.merge(layerConfig[zlevel], config, true);\n            }\n            for (var i = 0; i < this._zlevelList.length; i++) {\n                var _zlevel = this._zlevelList[i];\n                if (_zlevel === zlevel || _zlevel === zlevel + EL_AFTER_INCREMENTAL_INC) {\n                    var layer = this._layers[_zlevel];\n                    util.merge(layer, layerConfig[zlevel], true);\n                }\n            }\n        }\n    };\n    CanvasPainter.prototype.delLayer = function (zlevel) {\n        var layers = this._layers;\n        var zlevelList = this._zlevelList;\n        var layer = layers[zlevel];\n        if (!layer) {\n            return;\n        }\n        layer.dom.parentNode.removeChild(layer.dom);\n        delete layers[zlevel];\n        zlevelList.splice(util.indexOf(zlevelList, zlevel), 1);\n    };\n    CanvasPainter.prototype.resize = function (width, height) {\n        if (!this._domRoot.style) {\n            if (width == null || height == null) {\n                return;\n            }\n            this._width = width;\n            this._height = height;\n            this.getLayer(CANVAS_ZLEVEL).resize(width, height);\n        }\n        else {\n            var domRoot = this._domRoot;\n            domRoot.style.display = 'none';\n            var opts = this._opts;\n            var root = this.root;\n            width != null && (opts.width = width);\n            height != null && (opts.height = height);\n            width = getSize(root, 0, opts);\n            height = getSize(root, 1, opts);\n            domRoot.style.display = '';\n            if (this._width !== width || height !== this._height) {\n                domRoot.style.width = width + 'px';\n                domRoot.style.height = height + 'px';\n                for (var id in this._layers) {\n                    if (this._layers.hasOwnProperty(id)) {\n                        this._layers[id].resize(width, height);\n                    }\n                }\n                this.refresh(true);\n            }\n            this._width = width;\n            this._height = height;\n        }\n        return this;\n    };\n    CanvasPainter.prototype.clearLayer = function (zlevel) {\n        var layer = this._layers[zlevel];\n        if (layer) {\n            layer.clear();\n        }\n    };\n    CanvasPainter.prototype.dispose = function () {\n        this.root.innerHTML = '';\n        this.root =\n            this.storage =\n                this._domRoot =\n                    this._layers = null;\n    };\n    CanvasPainter.prototype.getRenderedCanvas = function (opts) {\n        opts = opts || {};\n        if (this._singleCanvas && !this._compositeManually) {\n            return this._layers[CANVAS_ZLEVEL].dom;\n        }\n        var imageLayer = new Layer('image', this, opts.pixelRatio || this.dpr);\n        imageLayer.initContext();\n        imageLayer.clear(false, opts.backgroundColor || this._backgroundColor);\n        var ctx = imageLayer.ctx;\n        if (opts.pixelRatio <= this.dpr) {\n            this.refresh();\n            var width_1 = imageLayer.dom.width;\n            var height_1 = imageLayer.dom.height;\n            this.eachLayer(function (layer) {\n                if (layer.__builtin__) {\n                    ctx.drawImage(layer.dom, 0, 0, width_1, height_1);\n                }\n                else if (layer.renderToCanvas) {\n                    ctx.save();\n                    layer.renderToCanvas(ctx);\n                    ctx.restore();\n                }\n            });\n        }\n        else {\n            var scope = {\n                inHover: false,\n                viewWidth: this._width,\n                viewHeight: this._height\n            };\n            var displayList = this.storage.getDisplayList(true);\n            for (var i = 0, len = displayList.length; i < len; i++) {\n                var el = displayList[i];\n                brush(ctx, el, scope, i === len - 1);\n            }\n        }\n        return imageLayer.dom;\n    };\n    CanvasPainter.prototype.getWidth = function () {\n        return this._width;\n    };\n    CanvasPainter.prototype.getHeight = function () {\n        return this._height;\n    };\n    return CanvasPainter;\n}());\nexport default CanvasPainter;\n;\n","import Group from '../graphic/Group.js';\nimport ZRImage from '../graphic/Image.js';\nimport Circle from '../graphic/shape/Circle.js';\nimport Rect from '../graphic/shape/Rect.js';\nimport Ellipse from '../graphic/shape/Ellipse.js';\nimport Line from '../graphic/shape/Line.js';\nimport Polygon from '../graphic/shape/Polygon.js';\nimport Polyline from '../graphic/shape/Polyline.js';\nimport * as matrix from '../core/matrix.js';\nimport { createFromString } from './path.js';\nimport { defaults, trim, each, map, keys, hasOwn } from '../core/util.js';\nimport LinearGradient from '../graphic/LinearGradient.js';\nimport RadialGradient from '../graphic/RadialGradient.js';\nimport TSpan from '../graphic/TSpan.js';\nimport { parseXML } from './parseXML.js';\n;\nvar nodeParsers;\nvar INHERITABLE_STYLE_ATTRIBUTES_MAP = {\n    'fill': 'fill',\n    'stroke': 'stroke',\n    'stroke-width': 'lineWidth',\n    'opacity': 'opacity',\n    'fill-opacity': 'fillOpacity',\n    'stroke-opacity': 'strokeOpacity',\n    'stroke-dasharray': 'lineDash',\n    'stroke-dashoffset': 'lineDashOffset',\n    'stroke-linecap': 'lineCap',\n    'stroke-linejoin': 'lineJoin',\n    'stroke-miterlimit': 'miterLimit',\n    'font-family': 'fontFamily',\n    'font-size': 'fontSize',\n    'font-style': 'fontStyle',\n    'font-weight': 'fontWeight',\n    'text-anchor': 'textAlign',\n    'visibility': 'visibility',\n    'display': 'display'\n};\nvar INHERITABLE_STYLE_ATTRIBUTES_MAP_KEYS = keys(INHERITABLE_STYLE_ATTRIBUTES_MAP);\nvar SELF_STYLE_ATTRIBUTES_MAP = {\n    'alignment-baseline': 'textBaseline',\n    'stop-color': 'stopColor'\n};\nvar SELF_STYLE_ATTRIBUTES_MAP_KEYS = keys(SELF_STYLE_ATTRIBUTES_MAP);\nvar SVGParser = (function () {\n    function SVGParser() {\n        this._defs = {};\n        this._root = null;\n    }\n    SVGParser.prototype.parse = function (xml, opt) {\n        opt = opt || {};\n        var svg = parseXML(xml);\n        if (process.env.NODE_ENV !== 'production') {\n            if (!svg) {\n                throw new Error('Illegal svg');\n            }\n        }\n        this._defsUsePending = [];\n        var root = new Group();\n        this._root = root;\n        var named = [];\n        var viewBox = svg.getAttribute('viewBox') || '';\n        var width = parseFloat((svg.getAttribute('width') || opt.width));\n        var height = parseFloat((svg.getAttribute('height') || opt.height));\n        isNaN(width) && (width = null);\n        isNaN(height) && (height = null);\n        parseAttributes(svg, root, null, true, false);\n        var child = svg.firstChild;\n        while (child) {\n            this._parseNode(child, root, named, null, false, false);\n            child = child.nextSibling;\n        }\n        applyDefs(this._defs, this._defsUsePending);\n        this._defsUsePending = [];\n        var viewBoxRect;\n        var viewBoxTransform;\n        if (viewBox) {\n            var viewBoxArr = splitNumberSequence(viewBox);\n            if (viewBoxArr.length >= 4) {\n                viewBoxRect = {\n                    x: parseFloat((viewBoxArr[0] || 0)),\n                    y: parseFloat((viewBoxArr[1] || 0)),\n                    width: parseFloat(viewBoxArr[2]),\n                    height: parseFloat(viewBoxArr[3])\n                };\n            }\n        }\n        if (viewBoxRect && width != null && height != null) {\n            viewBoxTransform = makeViewBoxTransform(viewBoxRect, { x: 0, y: 0, width: width, height: height });\n            if (!opt.ignoreViewBox) {\n                var elRoot = root;\n                root = new Group();\n                root.add(elRoot);\n                elRoot.scaleX = elRoot.scaleY = viewBoxTransform.scale;\n                elRoot.x = viewBoxTransform.x;\n                elRoot.y = viewBoxTransform.y;\n            }\n        }\n        if (!opt.ignoreRootClip && width != null && height != null) {\n            root.setClipPath(new Rect({\n                shape: { x: 0, y: 0, width: width, height: height }\n            }));\n        }\n        return {\n            root: root,\n            width: width,\n            height: height,\n            viewBoxRect: viewBoxRect,\n            viewBoxTransform: viewBoxTransform,\n            named: named\n        };\n    };\n    SVGParser.prototype._parseNode = function (xmlNode, parentGroup, named, namedFrom, isInDefs, isInText) {\n        var nodeName = xmlNode.nodeName.toLowerCase();\n        var el;\n        var namedFromForSub = namedFrom;\n        if (nodeName === 'defs') {\n            isInDefs = true;\n        }\n        if (nodeName === 'text') {\n            isInText = true;\n        }\n        if (nodeName === 'defs' || nodeName === 'switch') {\n            el = parentGroup;\n        }\n        else {\n            if (!isInDefs) {\n                var parser_1 = nodeParsers[nodeName];\n                if (parser_1 && hasOwn(nodeParsers, nodeName)) {\n                    el = parser_1.call(this, xmlNode, parentGroup);\n                    var nameAttr = xmlNode.getAttribute('name');\n                    if (nameAttr) {\n                        var newNamed = {\n                            name: nameAttr,\n                            namedFrom: null,\n                            svgNodeTagLower: nodeName,\n                            el: el\n                        };\n                        named.push(newNamed);\n                        if (nodeName === 'g') {\n                            namedFromForSub = newNamed;\n                        }\n                    }\n                    else if (namedFrom) {\n                        named.push({\n                            name: namedFrom.name,\n                            namedFrom: namedFrom,\n                            svgNodeTagLower: nodeName,\n                            el: el\n                        });\n                    }\n                    parentGroup.add(el);\n                }\n            }\n            var parser = paintServerParsers[nodeName];\n            if (parser && hasOwn(paintServerParsers, nodeName)) {\n                var def = parser.call(this, xmlNode);\n                var id = xmlNode.getAttribute('id');\n                if (id) {\n                    this._defs[id] = def;\n                }\n            }\n        }\n        if (el && el.isGroup) {\n            var child = xmlNode.firstChild;\n            while (child) {\n                if (child.nodeType === 1) {\n                    this._parseNode(child, el, named, namedFromForSub, isInDefs, isInText);\n                }\n                else if (child.nodeType === 3 && isInText) {\n                    this._parseText(child, el);\n                }\n                child = child.nextSibling;\n            }\n        }\n    };\n    SVGParser.prototype._parseText = function (xmlNode, parentGroup) {\n        var text = new TSpan({\n            style: {\n                text: xmlNode.textContent\n            },\n            silent: true,\n            x: this._textX || 0,\n            y: this._textY || 0\n        });\n        inheritStyle(parentGroup, text);\n        parseAttributes(xmlNode, text, this._defsUsePending, false, false);\n        applyTextAlignment(text, parentGroup);\n        var textStyle = text.style;\n        var fontSize = textStyle.fontSize;\n        if (fontSize && fontSize < 9) {\n            textStyle.fontSize = 9;\n            text.scaleX *= fontSize / 9;\n            text.scaleY *= fontSize / 9;\n        }\n        var font = (textStyle.fontSize || textStyle.fontFamily) && [\n            textStyle.fontStyle,\n            textStyle.fontWeight,\n            (textStyle.fontSize || 12) + 'px',\n            textStyle.fontFamily || 'sans-serif'\n        ].join(' ');\n        textStyle.font = font;\n        var rect = text.getBoundingRect();\n        this._textX += rect.width;\n        parentGroup.add(text);\n        return text;\n    };\n    SVGParser.internalField = (function () {\n        nodeParsers = {\n            'g': function (xmlNode, parentGroup) {\n                var g = new Group();\n                inheritStyle(parentGroup, g);\n                parseAttributes(xmlNode, g, this._defsUsePending, false, false);\n                return g;\n            },\n            'rect': function (xmlNode, parentGroup) {\n                var rect = new Rect();\n                inheritStyle(parentGroup, rect);\n                parseAttributes(xmlNode, rect, this._defsUsePending, false, false);\n                rect.setShape({\n                    x: parseFloat(xmlNode.getAttribute('x') || '0'),\n                    y: parseFloat(xmlNode.getAttribute('y') || '0'),\n                    width: parseFloat(xmlNode.getAttribute('width') || '0'),\n                    height: parseFloat(xmlNode.getAttribute('height') || '0')\n                });\n                rect.silent = true;\n                return rect;\n            },\n            'circle': function (xmlNode, parentGroup) {\n                var circle = new Circle();\n                inheritStyle(parentGroup, circle);\n                parseAttributes(xmlNode, circle, this._defsUsePending, false, false);\n                circle.setShape({\n                    cx: parseFloat(xmlNode.getAttribute('cx') || '0'),\n                    cy: parseFloat(xmlNode.getAttribute('cy') || '0'),\n                    r: parseFloat(xmlNode.getAttribute('r') || '0')\n                });\n                circle.silent = true;\n                return circle;\n            },\n            'line': function (xmlNode, parentGroup) {\n                var line = new Line();\n                inheritStyle(parentGroup, line);\n                parseAttributes(xmlNode, line, this._defsUsePending, false, false);\n                line.setShape({\n                    x1: parseFloat(xmlNode.getAttribute('x1') || '0'),\n                    y1: parseFloat(xmlNode.getAttribute('y1') || '0'),\n                    x2: parseFloat(xmlNode.getAttribute('x2') || '0'),\n                    y2: parseFloat(xmlNode.getAttribute('y2') || '0')\n                });\n                line.silent = true;\n                return line;\n            },\n            'ellipse': function (xmlNode, parentGroup) {\n                var ellipse = new Ellipse();\n                inheritStyle(parentGroup, ellipse);\n                parseAttributes(xmlNode, ellipse, this._defsUsePending, false, false);\n                ellipse.setShape({\n                    cx: parseFloat(xmlNode.getAttribute('cx') || '0'),\n                    cy: parseFloat(xmlNode.getAttribute('cy') || '0'),\n                    rx: parseFloat(xmlNode.getAttribute('rx') || '0'),\n                    ry: parseFloat(xmlNode.getAttribute('ry') || '0')\n                });\n                ellipse.silent = true;\n                return ellipse;\n            },\n            'polygon': function (xmlNode, parentGroup) {\n                var pointsStr = xmlNode.getAttribute('points');\n                var pointsArr;\n                if (pointsStr) {\n                    pointsArr = parsePoints(pointsStr);\n                }\n                var polygon = new Polygon({\n                    shape: {\n                        points: pointsArr || []\n                    },\n                    silent: true\n                });\n                inheritStyle(parentGroup, polygon);\n                parseAttributes(xmlNode, polygon, this._defsUsePending, false, false);\n                return polygon;\n            },\n            'polyline': function (xmlNode, parentGroup) {\n                var pointsStr = xmlNode.getAttribute('points');\n                var pointsArr;\n                if (pointsStr) {\n                    pointsArr = parsePoints(pointsStr);\n                }\n                var polyline = new Polyline({\n                    shape: {\n                        points: pointsArr || []\n                    },\n                    silent: true\n                });\n                inheritStyle(parentGroup, polyline);\n                parseAttributes(xmlNode, polyline, this._defsUsePending, false, false);\n                return polyline;\n            },\n            'image': function (xmlNode, parentGroup) {\n                var img = new ZRImage();\n                inheritStyle(parentGroup, img);\n                parseAttributes(xmlNode, img, this._defsUsePending, false, false);\n                img.setStyle({\n                    image: xmlNode.getAttribute('xlink:href') || xmlNode.getAttribute('href'),\n                    x: +xmlNode.getAttribute('x'),\n                    y: +xmlNode.getAttribute('y'),\n                    width: +xmlNode.getAttribute('width'),\n                    height: +xmlNode.getAttribute('height')\n                });\n                img.silent = true;\n                return img;\n            },\n            'text': function (xmlNode, parentGroup) {\n                var x = xmlNode.getAttribute('x') || '0';\n                var y = xmlNode.getAttribute('y') || '0';\n                var dx = xmlNode.getAttribute('dx') || '0';\n                var dy = xmlNode.getAttribute('dy') || '0';\n                this._textX = parseFloat(x) + parseFloat(dx);\n                this._textY = parseFloat(y) + parseFloat(dy);\n                var g = new Group();\n                inheritStyle(parentGroup, g);\n                parseAttributes(xmlNode, g, this._defsUsePending, false, true);\n                return g;\n            },\n            'tspan': function (xmlNode, parentGroup) {\n                var x = xmlNode.getAttribute('x');\n                var y = xmlNode.getAttribute('y');\n                if (x != null) {\n                    this._textX = parseFloat(x);\n                }\n                if (y != null) {\n                    this._textY = parseFloat(y);\n                }\n                var dx = xmlNode.getAttribute('dx') || '0';\n                var dy = xmlNode.getAttribute('dy') || '0';\n                var g = new Group();\n                inheritStyle(parentGroup, g);\n                parseAttributes(xmlNode, g, this._defsUsePending, false, true);\n                this._textX += parseFloat(dx);\n                this._textY += parseFloat(dy);\n                return g;\n            },\n            'path': function (xmlNode, parentGroup) {\n                var d = xmlNode.getAttribute('d') || '';\n                var path = createFromString(d);\n                inheritStyle(parentGroup, path);\n                parseAttributes(xmlNode, path, this._defsUsePending, false, false);\n                path.silent = true;\n                return path;\n            }\n        };\n    })();\n    return SVGParser;\n}());\nvar paintServerParsers = {\n    'lineargradient': function (xmlNode) {\n        var x1 = parseInt(xmlNode.getAttribute('x1') || '0', 10);\n        var y1 = parseInt(xmlNode.getAttribute('y1') || '0', 10);\n        var x2 = parseInt(xmlNode.getAttribute('x2') || '10', 10);\n        var y2 = parseInt(xmlNode.getAttribute('y2') || '0', 10);\n        var gradient = new LinearGradient(x1, y1, x2, y2);\n        parsePaintServerUnit(xmlNode, gradient);\n        parseGradientColorStops(xmlNode, gradient);\n        return gradient;\n    },\n    'radialgradient': function (xmlNode) {\n        var cx = parseInt(xmlNode.getAttribute('cx') || '0', 10);\n        var cy = parseInt(xmlNode.getAttribute('cy') || '0', 10);\n        var r = parseInt(xmlNode.getAttribute('r') || '0', 10);\n        var gradient = new RadialGradient(cx, cy, r);\n        parsePaintServerUnit(xmlNode, gradient);\n        parseGradientColorStops(xmlNode, gradient);\n        return gradient;\n    }\n};\nfunction parsePaintServerUnit(xmlNode, gradient) {\n    var gradientUnits = xmlNode.getAttribute('gradientUnits');\n    if (gradientUnits === 'userSpaceOnUse') {\n        gradient.global = true;\n    }\n}\nfunction parseGradientColorStops(xmlNode, gradient) {\n    var stop = xmlNode.firstChild;\n    while (stop) {\n        if (stop.nodeType === 1\n            && stop.nodeName.toLocaleLowerCase() === 'stop') {\n            var offsetStr = stop.getAttribute('offset');\n            var offset = void 0;\n            if (offsetStr && offsetStr.indexOf('%') > 0) {\n                offset = parseInt(offsetStr, 10) / 100;\n            }\n            else if (offsetStr) {\n                offset = parseFloat(offsetStr);\n            }\n            else {\n                offset = 0;\n            }\n            var styleVals = {};\n            parseInlineStyle(stop, styleVals, styleVals);\n            var stopColor = styleVals.stopColor\n                || stop.getAttribute('stop-color')\n                || '#000000';\n            gradient.colorStops.push({\n                offset: offset,\n                color: stopColor\n            });\n        }\n        stop = stop.nextSibling;\n    }\n}\nfunction inheritStyle(parent, child) {\n    if (parent && parent.__inheritedStyle) {\n        if (!child.__inheritedStyle) {\n            child.__inheritedStyle = {};\n        }\n        defaults(child.__inheritedStyle, parent.__inheritedStyle);\n    }\n}\nfunction parsePoints(pointsString) {\n    var list = splitNumberSequence(pointsString);\n    var points = [];\n    for (var i = 0; i < list.length; i += 2) {\n        var x = parseFloat(list[i]);\n        var y = parseFloat(list[i + 1]);\n        points.push([x, y]);\n    }\n    return points;\n}\nfunction parseAttributes(xmlNode, el, defsUsePending, onlyInlineStyle, isTextGroup) {\n    var disp = el;\n    var inheritedStyle = disp.__inheritedStyle = disp.__inheritedStyle || {};\n    var selfStyle = {};\n    if (xmlNode.nodeType === 1) {\n        parseTransformAttribute(xmlNode, el);\n        parseInlineStyle(xmlNode, inheritedStyle, selfStyle);\n        if (!onlyInlineStyle) {\n            parseAttributeStyle(xmlNode, inheritedStyle, selfStyle);\n        }\n    }\n    disp.style = disp.style || {};\n    if (inheritedStyle.fill != null) {\n        disp.style.fill = getFillStrokeStyle(disp, 'fill', inheritedStyle.fill, defsUsePending);\n    }\n    if (inheritedStyle.stroke != null) {\n        disp.style.stroke = getFillStrokeStyle(disp, 'stroke', inheritedStyle.stroke, defsUsePending);\n    }\n    each([\n        'lineWidth', 'opacity', 'fillOpacity', 'strokeOpacity', 'miterLimit', 'fontSize'\n    ], function (propName) {\n        if (inheritedStyle[propName] != null) {\n            disp.style[propName] = parseFloat(inheritedStyle[propName]);\n        }\n    });\n    each([\n        'lineDashOffset', 'lineCap', 'lineJoin', 'fontWeight', 'fontFamily', 'fontStyle', 'textAlign'\n    ], function (propName) {\n        if (inheritedStyle[propName] != null) {\n            disp.style[propName] = inheritedStyle[propName];\n        }\n    });\n    if (isTextGroup) {\n        disp.__selfStyle = selfStyle;\n    }\n    if (inheritedStyle.lineDash) {\n        disp.style.lineDash = map(splitNumberSequence(inheritedStyle.lineDash), function (str) {\n            return parseFloat(str);\n        });\n    }\n    if (inheritedStyle.visibility === 'hidden' || inheritedStyle.visibility === 'collapse') {\n        disp.invisible = true;\n    }\n    if (inheritedStyle.display === 'none') {\n        disp.ignore = true;\n    }\n}\nfunction applyTextAlignment(text, parentGroup) {\n    var parentSelfStyle = parentGroup.__selfStyle;\n    if (parentSelfStyle) {\n        var textBaseline = parentSelfStyle.textBaseline;\n        var zrTextBaseline = textBaseline;\n        if (!textBaseline || textBaseline === 'auto') {\n            zrTextBaseline = 'alphabetic';\n        }\n        else if (textBaseline === 'baseline') {\n            zrTextBaseline = 'alphabetic';\n        }\n        else if (textBaseline === 'before-edge' || textBaseline === 'text-before-edge') {\n            zrTextBaseline = 'top';\n        }\n        else if (textBaseline === 'after-edge' || textBaseline === 'text-after-edge') {\n            zrTextBaseline = 'bottom';\n        }\n        else if (textBaseline === 'central' || textBaseline === 'mathematical') {\n            zrTextBaseline = 'middle';\n        }\n        text.style.textBaseline = zrTextBaseline;\n    }\n    var parentInheritedStyle = parentGroup.__inheritedStyle;\n    if (parentInheritedStyle) {\n        var textAlign = parentInheritedStyle.textAlign;\n        var zrTextAlign = textAlign;\n        if (textAlign) {\n            if (textAlign === 'middle') {\n                zrTextAlign = 'center';\n            }\n            text.style.textAlign = zrTextAlign;\n        }\n    }\n}\nvar urlRegex = /^url\\(\\s*#(.*?)\\)/;\nfunction getFillStrokeStyle(el, method, str, defsUsePending) {\n    var urlMatch = str && str.match(urlRegex);\n    if (urlMatch) {\n        var url = trim(urlMatch[1]);\n        defsUsePending.push([el, method, url]);\n        return;\n    }\n    if (str === 'none') {\n        str = null;\n    }\n    return str;\n}\nfunction applyDefs(defs, defsUsePending) {\n    for (var i = 0; i < defsUsePending.length; i++) {\n        var item = defsUsePending[i];\n        item[0].style[item[1]] = defs[item[2]];\n    }\n}\nvar numberReg = /-?([0-9]*\\.)?[0-9]+([eE]-?[0-9]+)?/g;\nfunction splitNumberSequence(rawStr) {\n    return rawStr.match(numberReg) || [];\n}\nvar transformRegex = /(translate|scale|rotate|skewX|skewY|matrix)\\(([\\-\\s0-9\\.eE,]*)\\)/g;\nvar DEGREE_TO_ANGLE = Math.PI / 180;\nfunction parseTransformAttribute(xmlNode, node) {\n    var transform = xmlNode.getAttribute('transform');\n    if (transform) {\n        transform = transform.replace(/,/g, ' ');\n        var transformOps_1 = [];\n        var mt = null;\n        transform.replace(transformRegex, function (str, type, value) {\n            transformOps_1.push(type, value);\n            return '';\n        });\n        for (var i = transformOps_1.length - 1; i > 0; i -= 2) {\n            var value = transformOps_1[i];\n            var type = transformOps_1[i - 1];\n            var valueArr = splitNumberSequence(value);\n            mt = mt || matrix.create();\n            switch (type) {\n                case 'translate':\n                    matrix.translate(mt, mt, [parseFloat(valueArr[0]), parseFloat(valueArr[1] || '0')]);\n                    break;\n                case 'scale':\n                    matrix.scale(mt, mt, [parseFloat(valueArr[0]), parseFloat(valueArr[1] || valueArr[0])]);\n                    break;\n                case 'rotate':\n                    matrix.rotate(mt, mt, -parseFloat(valueArr[0]) * DEGREE_TO_ANGLE, [\n                        parseFloat(valueArr[1] || '0'),\n                        parseFloat(valueArr[2] || '0')\n                    ]);\n                    break;\n                case 'skewX':\n                    var sx = Math.tan(parseFloat(valueArr[0]) * DEGREE_TO_ANGLE);\n                    matrix.mul(mt, [1, 0, sx, 1, 0, 0], mt);\n                    break;\n                case 'skewY':\n                    var sy = Math.tan(parseFloat(valueArr[0]) * DEGREE_TO_ANGLE);\n                    matrix.mul(mt, [1, sy, 0, 1, 0, 0], mt);\n                    break;\n                case 'matrix':\n                    mt[0] = parseFloat(valueArr[0]);\n                    mt[1] = parseFloat(valueArr[1]);\n                    mt[2] = parseFloat(valueArr[2]);\n                    mt[3] = parseFloat(valueArr[3]);\n                    mt[4] = parseFloat(valueArr[4]);\n                    mt[5] = parseFloat(valueArr[5]);\n                    break;\n            }\n        }\n        node.setLocalTransform(mt);\n    }\n}\nvar styleRegex = /([^\\s:;]+)\\s*:\\s*([^:;]+)/g;\nfunction parseInlineStyle(xmlNode, inheritableStyleResult, selfStyleResult) {\n    var style = xmlNode.getAttribute('style');\n    if (!style) {\n        return;\n    }\n    styleRegex.lastIndex = 0;\n    var styleRegResult;\n    while ((styleRegResult = styleRegex.exec(style)) != null) {\n        var svgStlAttr = styleRegResult[1];\n        var zrInheritableStlAttr = hasOwn(INHERITABLE_STYLE_ATTRIBUTES_MAP, svgStlAttr)\n            ? INHERITABLE_STYLE_ATTRIBUTES_MAP[svgStlAttr]\n            : null;\n        if (zrInheritableStlAttr) {\n            inheritableStyleResult[zrInheritableStlAttr] = styleRegResult[2];\n        }\n        var zrSelfStlAttr = hasOwn(SELF_STYLE_ATTRIBUTES_MAP, svgStlAttr)\n            ? SELF_STYLE_ATTRIBUTES_MAP[svgStlAttr]\n            : null;\n        if (zrSelfStlAttr) {\n            selfStyleResult[zrSelfStlAttr] = styleRegResult[2];\n        }\n    }\n}\nfunction parseAttributeStyle(xmlNode, inheritableStyleResult, selfStyleResult) {\n    for (var i = 0; i < INHERITABLE_STYLE_ATTRIBUTES_MAP_KEYS.length; i++) {\n        var svgAttrName = INHERITABLE_STYLE_ATTRIBUTES_MAP_KEYS[i];\n        var attrValue = xmlNode.getAttribute(svgAttrName);\n        if (attrValue != null) {\n            inheritableStyleResult[INHERITABLE_STYLE_ATTRIBUTES_MAP[svgAttrName]] = attrValue;\n        }\n    }\n    for (var i = 0; i < SELF_STYLE_ATTRIBUTES_MAP_KEYS.length; i++) {\n        var svgAttrName = SELF_STYLE_ATTRIBUTES_MAP_KEYS[i];\n        var attrValue = xmlNode.getAttribute(svgAttrName);\n        if (attrValue != null) {\n            selfStyleResult[SELF_STYLE_ATTRIBUTES_MAP[svgAttrName]] = attrValue;\n        }\n    }\n}\nexport function makeViewBoxTransform(viewBoxRect, boundingRect) {\n    var scaleX = boundingRect.width / viewBoxRect.width;\n    var scaleY = boundingRect.height / viewBoxRect.height;\n    var scale = Math.min(scaleX, scaleY);\n    return {\n        scale: scale,\n        x: -(viewBoxRect.x + viewBoxRect.width / 2) * scale + (boundingRect.x + boundingRect.width / 2),\n        y: -(viewBoxRect.y + viewBoxRect.height / 2) * scale + (boundingRect.y + boundingRect.height / 2)\n    };\n}\nexport function parseSVG(xml, opt) {\n    var parser = new SVGParser();\n    return parser.parse(xml, opt);\n}\nexport { parseXML };\n","import { isString } from '../core/util.js';\nexport function parseXML(svg) {\n    if (isString(svg)) {\n        var parser = new DOMParser();\n        svg = parser.parseFromString(svg, 'text/xml');\n    }\n    var svgNode = svg;\n    if (svgNode.nodeType === 9) {\n        svgNode = svgNode.firstChild;\n    }\n    while (svgNode.nodeName.toLowerCase() !== 'svg' || svgNode.nodeType !== 1) {\n        svgNode = svgNode.nextSibling;\n    }\n    return svgNode;\n}\n","import { cubicSubdivide } from '../core/curve.js';\nimport PathProxy from '../core/PathProxy.js';\nvar CMD = PathProxy.CMD;\nfunction aroundEqual(a, b) {\n    return Math.abs(a - b) < 1e-5;\n}\nexport function pathToBezierCurves(path) {\n    var data = path.data;\n    var len = path.len();\n    var bezierArrayGroups = [];\n    var currentSubpath;\n    var xi = 0;\n    var yi = 0;\n    var x0 = 0;\n    var y0 = 0;\n    function createNewSubpath(x, y) {\n        if (currentSubpath && currentSubpath.length > 2) {\n            bezierArrayGroups.push(currentSubpath);\n        }\n        currentSubpath = [x, y];\n    }\n    function addLine(x0, y0, x1, y1) {\n        if (!(aroundEqual(x0, x1) && aroundEqual(y0, y1))) {\n            currentSubpath.push(x0, y0, x1, y1, x1, y1);\n        }\n    }\n    function addArc(startAngle, endAngle, cx, cy, rx, ry) {\n        var delta = Math.abs(endAngle - startAngle);\n        var len = Math.tan(delta / 4) * 4 / 3;\n        var dir = endAngle < startAngle ? -1 : 1;\n        var c1 = Math.cos(startAngle);\n        var s1 = Math.sin(startAngle);\n        var c2 = Math.cos(endAngle);\n        var s2 = Math.sin(endAngle);\n        var x1 = c1 * rx + cx;\n        var y1 = s1 * ry + cy;\n        var x4 = c2 * rx + cx;\n        var y4 = s2 * ry + cy;\n        var hx = rx * len * dir;\n        var hy = ry * len * dir;\n        currentSubpath.push(x1 - hx * s1, y1 + hy * c1, x4 + hx * s2, y4 - hy * c2, x4, y4);\n    }\n    var x1;\n    var y1;\n    var x2;\n    var y2;\n    for (var i = 0; i < len;) {\n        var cmd = data[i++];\n        var isFirst = i === 1;\n        if (isFirst) {\n            xi = data[i];\n            yi = data[i + 1];\n            x0 = xi;\n            y0 = yi;\n            if (cmd === CMD.L || cmd === CMD.C || cmd === CMD.Q) {\n                currentSubpath = [x0, y0];\n            }\n        }\n        switch (cmd) {\n            case CMD.M:\n                xi = x0 = data[i++];\n                yi = y0 = data[i++];\n                createNewSubpath(x0, y0);\n                break;\n            case CMD.L:\n                x1 = data[i++];\n                y1 = data[i++];\n                addLine(xi, yi, x1, y1);\n                xi = x1;\n                yi = y1;\n                break;\n            case CMD.C:\n                currentSubpath.push(data[i++], data[i++], data[i++], data[i++], xi = data[i++], yi = data[i++]);\n                break;\n            case CMD.Q:\n                x1 = data[i++];\n                y1 = data[i++];\n                x2 = data[i++];\n                y2 = data[i++];\n                currentSubpath.push(xi + 2 / 3 * (x1 - xi), yi + 2 / 3 * (y1 - yi), x2 + 2 / 3 * (x1 - x2), y2 + 2 / 3 * (y1 - y2), x2, y2);\n                xi = x2;\n                yi = y2;\n                break;\n            case CMD.A:\n                var cx = data[i++];\n                var cy = data[i++];\n                var rx = data[i++];\n                var ry = data[i++];\n                var startAngle = data[i++];\n                var endAngle = data[i++] + startAngle;\n                i += 1;\n                var anticlockwise = !data[i++];\n                x1 = Math.cos(startAngle) * rx + cx;\n                y1 = Math.sin(startAngle) * ry + cy;\n                if (isFirst) {\n                    x0 = x1;\n                    y0 = y1;\n                    createNewSubpath(x0, y0);\n                }\n                else {\n                    addLine(xi, yi, x1, y1);\n                }\n                xi = Math.cos(endAngle) * rx + cx;\n                yi = Math.sin(endAngle) * ry + cy;\n                var step = (anticlockwise ? -1 : 1) * Math.PI / 2;\n                for (var angle = startAngle; anticlockwise ? angle > endAngle : angle < endAngle; angle += step) {\n                    var nextAngle = anticlockwise ? Math.max(angle + step, endAngle)\n                        : Math.min(angle + step, endAngle);\n                    addArc(angle, nextAngle, cx, cy, rx, ry);\n                }\n                break;\n            case CMD.R:\n                x0 = xi = data[i++];\n                y0 = yi = data[i++];\n                x1 = x0 + data[i++];\n                y1 = y0 + data[i++];\n                createNewSubpath(x1, y0);\n                addLine(x1, y0, x1, y1);\n                addLine(x1, y1, x0, y1);\n                addLine(x0, y1, x0, y0);\n                addLine(x0, y0, x1, y0);\n                break;\n            case CMD.Z:\n                currentSubpath && addLine(xi, yi, x0, y0);\n                xi = x0;\n                yi = y0;\n                break;\n        }\n    }\n    if (currentSubpath && currentSubpath.length > 2) {\n        bezierArrayGroups.push(currentSubpath);\n    }\n    return bezierArrayGroups;\n}\nfunction adpativeBezier(x0, y0, x1, y1, x2, y2, x3, y3, out, scale) {\n    if (aroundEqual(x0, x1) && aroundEqual(y0, y1) && aroundEqual(x2, x3) && aroundEqual(y2, y3)) {\n        out.push(x3, y3);\n        return;\n    }\n    var PIXEL_DISTANCE = 2 / scale;\n    var PIXEL_DISTANCE_SQR = PIXEL_DISTANCE * PIXEL_DISTANCE;\n    var dx = x3 - x0;\n    var dy = y3 - y0;\n    var d = Math.sqrt(dx * dx + dy * dy);\n    dx /= d;\n    dy /= d;\n    var dx1 = x1 - x0;\n    var dy1 = y1 - y0;\n    var dx2 = x2 - x3;\n    var dy2 = y2 - y3;\n    var cp1LenSqr = dx1 * dx1 + dy1 * dy1;\n    var cp2LenSqr = dx2 * dx2 + dy2 * dy2;\n    if (cp1LenSqr < PIXEL_DISTANCE_SQR && cp2LenSqr < PIXEL_DISTANCE_SQR) {\n        out.push(x3, y3);\n        return;\n    }\n    var projLen1 = dx * dx1 + dy * dy1;\n    var projLen2 = -dx * dx2 - dy * dy2;\n    var d1Sqr = cp1LenSqr - projLen1 * projLen1;\n    var d2Sqr = cp2LenSqr - projLen2 * projLen2;\n    if (d1Sqr < PIXEL_DISTANCE_SQR && projLen1 >= 0\n        && d2Sqr < PIXEL_DISTANCE_SQR && projLen2 >= 0) {\n        out.push(x3, y3);\n        return;\n    }\n    var tmpSegX = [];\n    var tmpSegY = [];\n    cubicSubdivide(x0, x1, x2, x3, 0.5, tmpSegX);\n    cubicSubdivide(y0, y1, y2, y3, 0.5, tmpSegY);\n    adpativeBezier(tmpSegX[0], tmpSegY[0], tmpSegX[1], tmpSegY[1], tmpSegX[2], tmpSegY[2], tmpSegX[3], tmpSegY[3], out, scale);\n    adpativeBezier(tmpSegX[4], tmpSegY[4], tmpSegX[5], tmpSegY[5], tmpSegX[6], tmpSegY[6], tmpSegX[7], tmpSegY[7], out, scale);\n}\nexport function pathToPolygons(path, scale) {\n    var bezierArrayGroups = pathToBezierCurves(path);\n    var polygons = [];\n    scale = scale || 1;\n    for (var i = 0; i < bezierArrayGroups.length; i++) {\n        var beziers = bezierArrayGroups[i];\n        var polygon = [];\n        var x0 = beziers[0];\n        var y0 = beziers[1];\n        polygon.push(x0, y0);\n        for (var k = 2; k < beziers.length;) {\n            var x1 = beziers[k++];\n            var y1 = beziers[k++];\n            var x2 = beziers[k++];\n            var y2 = beziers[k++];\n            var x3 = beziers[k++];\n            var y3 = beziers[k++];\n            adpativeBezier(x0, y0, x1, y1, x2, y2, x3, y3, polygon, scale);\n            x0 = x3;\n            y0 = y3;\n        }\n        polygons.push(polygon);\n    }\n    return polygons;\n}\n","import { fromPoints } from '../core/bbox.js';\nimport BoundingRect from '../core/BoundingRect.js';\nimport Point from '../core/Point.js';\nimport { map } from '../core/util.js';\nimport Polygon from '../graphic/shape/Polygon.js';\nimport Rect from '../graphic/shape/Rect.js';\nimport Sector from '../graphic/shape/Sector.js';\nimport { pathToPolygons } from './convertPath.js';\nimport { clonePath } from './path.js';\nfunction getDividingGrids(dimSize, rowDim, count) {\n    var rowSize = dimSize[rowDim];\n    var columnSize = dimSize[1 - rowDim];\n    var ratio = Math.abs(rowSize / columnSize);\n    var rowCount = Math.ceil(Math.sqrt(ratio * count));\n    var columnCount = Math.floor(count / rowCount);\n    if (columnCount === 0) {\n        columnCount = 1;\n        rowCount = count;\n    }\n    var grids = [];\n    for (var i = 0; i < rowCount; i++) {\n        grids.push(columnCount);\n    }\n    var currentCount = rowCount * columnCount;\n    var remained = count - currentCount;\n    if (remained > 0) {\n        for (var i = 0; i < remained; i++) {\n            grids[i % rowCount] += 1;\n        }\n    }\n    return grids;\n}\nfunction divideSector(sectorShape, count, outShapes) {\n    var r0 = sectorShape.r0;\n    var r = sectorShape.r;\n    var startAngle = sectorShape.startAngle;\n    var endAngle = sectorShape.endAngle;\n    var angle = Math.abs(endAngle - startAngle);\n    var arcLen = angle * r;\n    var deltaR = r - r0;\n    var isAngleRow = arcLen > Math.abs(deltaR);\n    var grids = getDividingGrids([arcLen, deltaR], isAngleRow ? 0 : 1, count);\n    var rowSize = (isAngleRow ? angle : deltaR) / grids.length;\n    for (var row = 0; row < grids.length; row++) {\n        var columnSize = (isAngleRow ? deltaR : angle) / grids[row];\n        for (var column = 0; column < grids[row]; column++) {\n            var newShape = {};\n            if (isAngleRow) {\n                newShape.startAngle = startAngle + rowSize * row;\n                newShape.endAngle = startAngle + rowSize * (row + 1);\n                newShape.r0 = r0 + columnSize * column;\n                newShape.r = r0 + columnSize * (column + 1);\n            }\n            else {\n                newShape.startAngle = startAngle + columnSize * column;\n                newShape.endAngle = startAngle + columnSize * (column + 1);\n                newShape.r0 = r0 + rowSize * row;\n                newShape.r = r0 + rowSize * (row + 1);\n            }\n            newShape.clockwise = sectorShape.clockwise;\n            newShape.cx = sectorShape.cx;\n            newShape.cy = sectorShape.cy;\n            outShapes.push(newShape);\n        }\n    }\n}\nfunction divideRect(rectShape, count, outShapes) {\n    var width = rectShape.width;\n    var height = rectShape.height;\n    var isHorizontalRow = width > height;\n    var grids = getDividingGrids([width, height], isHorizontalRow ? 0 : 1, count);\n    var rowSizeDim = isHorizontalRow ? 'width' : 'height';\n    var columnSizeDim = isHorizontalRow ? 'height' : 'width';\n    var rowDim = isHorizontalRow ? 'x' : 'y';\n    var columnDim = isHorizontalRow ? 'y' : 'x';\n    var rowSize = rectShape[rowSizeDim] / grids.length;\n    for (var row = 0; row < grids.length; row++) {\n        var columnSize = rectShape[columnSizeDim] / grids[row];\n        for (var column = 0; column < grids[row]; column++) {\n            var newShape = {};\n            newShape[rowDim] = row * rowSize;\n            newShape[columnDim] = column * columnSize;\n            newShape[rowSizeDim] = rowSize;\n            newShape[columnSizeDim] = columnSize;\n            newShape.x += rectShape.x;\n            newShape.y += rectShape.y;\n            outShapes.push(newShape);\n        }\n    }\n}\nfunction crossProduct2d(x1, y1, x2, y2) {\n    return x1 * y2 - x2 * y1;\n}\nfunction lineLineIntersect(a1x, a1y, a2x, a2y, b1x, b1y, b2x, b2y) {\n    var mx = a2x - a1x;\n    var my = a2y - a1y;\n    var nx = b2x - b1x;\n    var ny = b2y - b1y;\n    var nmCrossProduct = crossProduct2d(nx, ny, mx, my);\n    if (Math.abs(nmCrossProduct) < 1e-6) {\n        return null;\n    }\n    var b1a1x = a1x - b1x;\n    var b1a1y = a1y - b1y;\n    var p = crossProduct2d(b1a1x, b1a1y, nx, ny) / nmCrossProduct;\n    if (p < 0 || p > 1) {\n        return null;\n    }\n    return new Point(p * mx + a1x, p * my + a1y);\n}\nfunction projPtOnLine(pt, lineA, lineB) {\n    var dir = new Point();\n    Point.sub(dir, lineB, lineA);\n    dir.normalize();\n    var dir2 = new Point();\n    Point.sub(dir2, pt, lineA);\n    var len = dir2.dot(dir);\n    return len;\n}\nfunction addToPoly(poly, pt) {\n    var last = poly[poly.length - 1];\n    if (last && last[0] === pt[0] && last[1] === pt[1]) {\n        return;\n    }\n    poly.push(pt);\n}\nfunction splitPolygonByLine(points, lineA, lineB) {\n    var len = points.length;\n    var intersections = [];\n    for (var i = 0; i < len; i++) {\n        var p0 = points[i];\n        var p1 = points[(i + 1) % len];\n        var intersectionPt = lineLineIntersect(p0[0], p0[1], p1[0], p1[1], lineA.x, lineA.y, lineB.x, lineB.y);\n        if (intersectionPt) {\n            intersections.push({\n                projPt: projPtOnLine(intersectionPt, lineA, lineB),\n                pt: intersectionPt,\n                idx: i\n            });\n        }\n    }\n    if (intersections.length < 2) {\n        return [{ points: points }, { points: points }];\n    }\n    intersections.sort(function (a, b) {\n        return a.projPt - b.projPt;\n    });\n    var splitPt0 = intersections[0];\n    var splitPt1 = intersections[intersections.length - 1];\n    if (splitPt1.idx < splitPt0.idx) {\n        var tmp = splitPt0;\n        splitPt0 = splitPt1;\n        splitPt1 = tmp;\n    }\n    var splitPt0Arr = [splitPt0.pt.x, splitPt0.pt.y];\n    var splitPt1Arr = [splitPt1.pt.x, splitPt1.pt.y];\n    var newPolyA = [splitPt0Arr];\n    var newPolyB = [splitPt1Arr];\n    for (var i = splitPt0.idx + 1; i <= splitPt1.idx; i++) {\n        addToPoly(newPolyA, points[i].slice());\n    }\n    addToPoly(newPolyA, splitPt1Arr);\n    addToPoly(newPolyA, splitPt0Arr);\n    for (var i = splitPt1.idx + 1; i <= splitPt0.idx + len; i++) {\n        addToPoly(newPolyB, points[i % len].slice());\n    }\n    addToPoly(newPolyB, splitPt0Arr);\n    addToPoly(newPolyB, splitPt1Arr);\n    return [{\n            points: newPolyA\n        }, {\n            points: newPolyB\n        }];\n}\nfunction binaryDividePolygon(polygonShape) {\n    var points = polygonShape.points;\n    var min = [];\n    var max = [];\n    fromPoints(points, min, max);\n    var boundingRect = new BoundingRect(min[0], min[1], max[0] - min[0], max[1] - min[1]);\n    var width = boundingRect.width;\n    var height = boundingRect.height;\n    var x = boundingRect.x;\n    var y = boundingRect.y;\n    var pt0 = new Point();\n    var pt1 = new Point();\n    if (width > height) {\n        pt0.x = pt1.x = x + width / 2;\n        pt0.y = y;\n        pt1.y = y + height;\n    }\n    else {\n        pt0.y = pt1.y = y + height / 2;\n        pt0.x = x;\n        pt1.x = x + width;\n    }\n    return splitPolygonByLine(points, pt0, pt1);\n}\nfunction binaryDivideRecursive(divider, shape, count, out) {\n    if (count === 1) {\n        out.push(shape);\n    }\n    else {\n        var mid = Math.floor(count / 2);\n        var sub = divider(shape);\n        binaryDivideRecursive(divider, sub[0], mid, out);\n        binaryDivideRecursive(divider, sub[1], count - mid, out);\n    }\n    return out;\n}\nexport function clone(path, count) {\n    var paths = [];\n    for (var i = 0; i < count; i++) {\n        paths.push(clonePath(path));\n    }\n    return paths;\n}\nfunction copyPathProps(source, target) {\n    target.setStyle(source.style);\n    target.z = source.z;\n    target.z2 = source.z2;\n    target.zlevel = source.zlevel;\n}\nfunction polygonConvert(points) {\n    var out = [];\n    for (var i = 0; i < points.length;) {\n        out.push([points[i++], points[i++]]);\n    }\n    return out;\n}\nexport function split(path, count) {\n    var outShapes = [];\n    var shape = path.shape;\n    var OutShapeCtor;\n    switch (path.type) {\n        case 'rect':\n            divideRect(shape, count, outShapes);\n            OutShapeCtor = Rect;\n            break;\n        case 'sector':\n            divideSector(shape, count, outShapes);\n            OutShapeCtor = Sector;\n            break;\n        case 'circle':\n            divideSector({\n                r0: 0, r: shape.r, startAngle: 0, endAngle: Math.PI * 2,\n                cx: shape.cx, cy: shape.cy\n            }, count, outShapes);\n            OutShapeCtor = Sector;\n            break;\n        default:\n            var m = path.getComputedTransform();\n            var scale = m ? Math.sqrt(Math.max(m[0] * m[0] + m[1] * m[1], m[2] * m[2] + m[3] * m[3])) : 1;\n            var polygons = map(pathToPolygons(path.getUpdatedPathProxy(), scale), function (poly) { return polygonConvert(poly); });\n            var polygonCount = polygons.length;\n            if (polygonCount === 0) {\n                binaryDivideRecursive(binaryDividePolygon, {\n                    points: polygons[0]\n                }, count, outShapes);\n            }\n            else if (polygonCount === count) {\n                for (var i = 0; i < polygonCount; i++) {\n                    outShapes.push({\n                        points: polygons[i]\n                    });\n                }\n            }\n            else {\n                var totalArea_1 = 0;\n                var items = map(polygons, function (poly) {\n                    var min = [];\n                    var max = [];\n                    fromPoints(poly, min, max);\n                    var area = (max[1] - min[1]) * (max[0] - min[0]);\n                    totalArea_1 += area;\n                    return { poly: poly, area: area };\n                });\n                items.sort(function (a, b) { return b.area - a.area; });\n                var left = count;\n                for (var i = 0; i < polygonCount; i++) {\n                    var item = items[i];\n                    if (left <= 0) {\n                        break;\n                    }\n                    var selfCount = i === polygonCount - 1\n                        ? left\n                        : Math.ceil(item.area / totalArea_1 * count);\n                    if (selfCount < 0) {\n                        continue;\n                    }\n                    binaryDivideRecursive(binaryDividePolygon, {\n                        points: item.poly\n                    }, selfCount, outShapes);\n                    left -= selfCount;\n                }\n                ;\n            }\n            OutShapeCtor = Polygon;\n            break;\n    }\n    if (!OutShapeCtor) {\n        return clone(path, count);\n    }\n    var out = [];\n    for (var i = 0; i < outShapes.length; i++) {\n        var subPath = new OutShapeCtor();\n        subPath.setShape(outShapes[i]);\n        copyPathProps(path, subPath);\n        out.push(subPath);\n    }\n    return out;\n}\n","import { cubicSubdivide } from '../core/curve.js';\nimport Path from '../graphic/Path.js';\nimport { defaults, map } from '../core/util.js';\nimport { lerp } from '../core/vector.js';\nimport { clonePath } from './path.js';\nimport Transformable from '../core/Transformable.js';\nimport { split } from './dividePath.js';\nimport { pathToBezierCurves } from './convertPath.js';\nfunction alignSubpath(subpath1, subpath2) {\n    var len1 = subpath1.length;\n    var len2 = subpath2.length;\n    if (len1 === len2) {\n        return [subpath1, subpath2];\n    }\n    var tmpSegX = [];\n    var tmpSegY = [];\n    var shorterPath = len1 < len2 ? subpath1 : subpath2;\n    var shorterLen = Math.min(len1, len2);\n    var diff = Math.abs(len2 - len1) / 6;\n    var shorterBezierCount = (shorterLen - 2) / 6;\n    var eachCurveSubDivCount = Math.ceil(diff / shorterBezierCount) + 1;\n    var newSubpath = [shorterPath[0], shorterPath[1]];\n    var remained = diff;\n    for (var i = 2; i < shorterLen;) {\n        var x0 = shorterPath[i - 2];\n        var y0 = shorterPath[i - 1];\n        var x1 = shorterPath[i++];\n        var y1 = shorterPath[i++];\n        var x2 = shorterPath[i++];\n        var y2 = shorterPath[i++];\n        var x3 = shorterPath[i++];\n        var y3 = shorterPath[i++];\n        if (remained <= 0) {\n            newSubpath.push(x1, y1, x2, y2, x3, y3);\n            continue;\n        }\n        var actualSubDivCount = Math.min(remained, eachCurveSubDivCount - 1) + 1;\n        for (var k = 1; k <= actualSubDivCount; k++) {\n            var p = k / actualSubDivCount;\n            cubicSubdivide(x0, x1, x2, x3, p, tmpSegX);\n            cubicSubdivide(y0, y1, y2, y3, p, tmpSegY);\n            x0 = tmpSegX[3];\n            y0 = tmpSegY[3];\n            newSubpath.push(tmpSegX[1], tmpSegY[1], tmpSegX[2], tmpSegY[2], x0, y0);\n            x1 = tmpSegX[5];\n            y1 = tmpSegY[5];\n            x2 = tmpSegX[6];\n            y2 = tmpSegY[6];\n        }\n        remained -= actualSubDivCount - 1;\n    }\n    return shorterPath === subpath1 ? [newSubpath, subpath2] : [subpath1, newSubpath];\n}\nfunction createSubpath(lastSubpathSubpath, otherSubpath) {\n    var len = lastSubpathSubpath.length;\n    var lastX = lastSubpathSubpath[len - 2];\n    var lastY = lastSubpathSubpath[len - 1];\n    var newSubpath = [];\n    for (var i = 0; i < otherSubpath.length;) {\n        newSubpath[i++] = lastX;\n        newSubpath[i++] = lastY;\n    }\n    return newSubpath;\n}\nexport function alignBezierCurves(array1, array2) {\n    var _a;\n    var lastSubpath1;\n    var lastSubpath2;\n    var newArray1 = [];\n    var newArray2 = [];\n    for (var i = 0; i < Math.max(array1.length, array2.length); i++) {\n        var subpath1 = array1[i];\n        var subpath2 = array2[i];\n        var newSubpath1 = void 0;\n        var newSubpath2 = void 0;\n        if (!subpath1) {\n            newSubpath1 = createSubpath(lastSubpath1 || subpath2, subpath2);\n            newSubpath2 = subpath2;\n        }\n        else if (!subpath2) {\n            newSubpath2 = createSubpath(lastSubpath2 || subpath1, subpath1);\n            newSubpath1 = subpath1;\n        }\n        else {\n            _a = alignSubpath(subpath1, subpath2), newSubpath1 = _a[0], newSubpath2 = _a[1];\n            lastSubpath1 = newSubpath1;\n            lastSubpath2 = newSubpath2;\n        }\n        newArray1.push(newSubpath1);\n        newArray2.push(newSubpath2);\n    }\n    return [newArray1, newArray2];\n}\nexport function centroid(array) {\n    var signedArea = 0;\n    var cx = 0;\n    var cy = 0;\n    var len = array.length;\n    for (var i = 0, j = len - 2; i < len; j = i, i += 2) {\n        var x0 = array[j];\n        var y0 = array[j + 1];\n        var x1 = array[i];\n        var y1 = array[i + 1];\n        var a = x0 * y1 - x1 * y0;\n        signedArea += a;\n        cx += (x0 + x1) * a;\n        cy += (y0 + y1) * a;\n    }\n    if (signedArea === 0) {\n        return [array[0] || 0, array[1] || 0];\n    }\n    return [cx / signedArea / 3, cy / signedArea / 3, signedArea];\n}\nfunction findBestRingOffset(fromSubBeziers, toSubBeziers, fromCp, toCp) {\n    var bezierCount = (fromSubBeziers.length - 2) / 6;\n    var bestScore = Infinity;\n    var bestOffset = 0;\n    var len = fromSubBeziers.length;\n    var len2 = len - 2;\n    for (var offset = 0; offset < bezierCount; offset++) {\n        var cursorOffset = offset * 6;\n        var score = 0;\n        for (var k = 0; k < len; k += 2) {\n            var idx = k === 0 ? cursorOffset : ((cursorOffset + k - 2) % len2 + 2);\n            var x0 = fromSubBeziers[idx] - fromCp[0];\n            var y0 = fromSubBeziers[idx + 1] - fromCp[1];\n            var x1 = toSubBeziers[k] - toCp[0];\n            var y1 = toSubBeziers[k + 1] - toCp[1];\n            var dx = x1 - x0;\n            var dy = y1 - y0;\n            score += dx * dx + dy * dy;\n        }\n        if (score < bestScore) {\n            bestScore = score;\n            bestOffset = offset;\n        }\n    }\n    return bestOffset;\n}\nfunction reverse(array) {\n    var newArr = [];\n    var len = array.length;\n    for (var i = 0; i < len; i += 2) {\n        newArr[i] = array[len - i - 2];\n        newArr[i + 1] = array[len - i - 1];\n    }\n    return newArr;\n}\nfunction findBestMorphingRotation(fromArr, toArr, searchAngleIteration, searchAngleRange) {\n    var result = [];\n    var fromNeedsReverse;\n    for (var i = 0; i < fromArr.length; i++) {\n        var fromSubpathBezier = fromArr[i];\n        var toSubpathBezier = toArr[i];\n        var fromCp = centroid(fromSubpathBezier);\n        var toCp = centroid(toSubpathBezier);\n        if (fromNeedsReverse == null) {\n            fromNeedsReverse = fromCp[2] < 0 !== toCp[2] < 0;\n        }\n        var newFromSubpathBezier = [];\n        var newToSubpathBezier = [];\n        var bestAngle = 0;\n        var bestScore = Infinity;\n        var tmpArr = [];\n        var len = fromSubpathBezier.length;\n        if (fromNeedsReverse) {\n            fromSubpathBezier = reverse(fromSubpathBezier);\n        }\n        var offset = findBestRingOffset(fromSubpathBezier, toSubpathBezier, fromCp, toCp) * 6;\n        var len2 = len - 2;\n        for (var k = 0; k < len2; k += 2) {\n            var idx = (offset + k) % len2 + 2;\n            newFromSubpathBezier[k + 2] = fromSubpathBezier[idx] - fromCp[0];\n            newFromSubpathBezier[k + 3] = fromSubpathBezier[idx + 1] - fromCp[1];\n        }\n        newFromSubpathBezier[0] = fromSubpathBezier[offset] - fromCp[0];\n        newFromSubpathBezier[1] = fromSubpathBezier[offset + 1] - fromCp[1];\n        if (searchAngleIteration > 0) {\n            var step = searchAngleRange / searchAngleIteration;\n            for (var angle = -searchAngleRange / 2; angle <= searchAngleRange / 2; angle += step) {\n                var sa = Math.sin(angle);\n                var ca = Math.cos(angle);\n                var score = 0;\n                for (var k = 0; k < fromSubpathBezier.length; k += 2) {\n                    var x0 = newFromSubpathBezier[k];\n                    var y0 = newFromSubpathBezier[k + 1];\n                    var x1 = toSubpathBezier[k] - toCp[0];\n                    var y1 = toSubpathBezier[k + 1] - toCp[1];\n                    var newX1 = x1 * ca - y1 * sa;\n                    var newY1 = x1 * sa + y1 * ca;\n                    tmpArr[k] = newX1;\n                    tmpArr[k + 1] = newY1;\n                    var dx = newX1 - x0;\n                    var dy = newY1 - y0;\n                    score += dx * dx + dy * dy;\n                }\n                if (score < bestScore) {\n                    bestScore = score;\n                    bestAngle = angle;\n                    for (var m = 0; m < tmpArr.length; m++) {\n                        newToSubpathBezier[m] = tmpArr[m];\n                    }\n                }\n            }\n        }\n        else {\n            for (var i_1 = 0; i_1 < len; i_1 += 2) {\n                newToSubpathBezier[i_1] = toSubpathBezier[i_1] - toCp[0];\n                newToSubpathBezier[i_1 + 1] = toSubpathBezier[i_1 + 1] - toCp[1];\n            }\n        }\n        result.push({\n            from: newFromSubpathBezier,\n            to: newToSubpathBezier,\n            fromCp: fromCp,\n            toCp: toCp,\n            rotation: -bestAngle\n        });\n    }\n    return result;\n}\nexport function isCombineMorphing(path) {\n    return path.__isCombineMorphing;\n}\nexport function isMorphing(el) {\n    return el.__morphT >= 0;\n}\nvar SAVED_METHOD_PREFIX = '__mOriginal_';\nfunction saveAndModifyMethod(obj, methodName, modifiers) {\n    var savedMethodName = SAVED_METHOD_PREFIX + methodName;\n    var originalMethod = obj[savedMethodName] || obj[methodName];\n    if (!obj[savedMethodName]) {\n        obj[savedMethodName] = obj[methodName];\n    }\n    var replace = modifiers.replace;\n    var after = modifiers.after;\n    var before = modifiers.before;\n    obj[methodName] = function () {\n        var args = arguments;\n        var res;\n        before && before.apply(this, args);\n        if (replace) {\n            res = replace.apply(this, args);\n        }\n        else {\n            res = originalMethod.apply(this, args);\n        }\n        after && after.apply(this, args);\n        return res;\n    };\n}\nfunction restoreMethod(obj, methodName) {\n    var savedMethodName = SAVED_METHOD_PREFIX + methodName;\n    if (obj[savedMethodName]) {\n        obj[methodName] = obj[savedMethodName];\n        obj[savedMethodName] = null;\n    }\n}\nfunction applyTransformOnBeziers(bezierCurves, mm) {\n    for (var i = 0; i < bezierCurves.length; i++) {\n        var subBeziers = bezierCurves[i];\n        for (var k = 0; k < subBeziers.length;) {\n            var x = subBeziers[k];\n            var y = subBeziers[k + 1];\n            subBeziers[k++] = mm[0] * x + mm[2] * y + mm[4];\n            subBeziers[k++] = mm[1] * x + mm[3] * y + mm[5];\n        }\n    }\n}\nfunction prepareMorphPath(fromPath, toPath) {\n    var fromPathProxy = fromPath.getUpdatedPathProxy();\n    var toPathProxy = toPath.getUpdatedPathProxy();\n    var _a = alignBezierCurves(pathToBezierCurves(fromPathProxy), pathToBezierCurves(toPathProxy)), fromBezierCurves = _a[0], toBezierCurves = _a[1];\n    var fromPathTransform = fromPath.getComputedTransform();\n    var toPathTransform = toPath.getComputedTransform();\n    function updateIdentityTransform() {\n        this.transform = null;\n    }\n    fromPathTransform && applyTransformOnBeziers(fromBezierCurves, fromPathTransform);\n    toPathTransform && applyTransformOnBeziers(toBezierCurves, toPathTransform);\n    saveAndModifyMethod(toPath, 'updateTransform', { replace: updateIdentityTransform });\n    toPath.transform = null;\n    var morphingData = findBestMorphingRotation(fromBezierCurves, toBezierCurves, 10, Math.PI);\n    var tmpArr = [];\n    saveAndModifyMethod(toPath, 'buildPath', { replace: function (path) {\n            var t = toPath.__morphT;\n            var onet = 1 - t;\n            var newCp = [];\n            for (var i = 0; i < morphingData.length; i++) {\n                var item = morphingData[i];\n                var from = item.from;\n                var to = item.to;\n                var angle = item.rotation * t;\n                var fromCp = item.fromCp;\n                var toCp = item.toCp;\n                var sa = Math.sin(angle);\n                var ca = Math.cos(angle);\n                lerp(newCp, fromCp, toCp, t);\n                for (var m = 0; m < from.length; m += 2) {\n                    var x0_1 = from[m];\n                    var y0_1 = from[m + 1];\n                    var x1 = to[m];\n                    var y1 = to[m + 1];\n                    var x = x0_1 * onet + x1 * t;\n                    var y = y0_1 * onet + y1 * t;\n                    tmpArr[m] = (x * ca - y * sa) + newCp[0];\n                    tmpArr[m + 1] = (x * sa + y * ca) + newCp[1];\n                }\n                var x0 = tmpArr[0];\n                var y0 = tmpArr[1];\n                path.moveTo(x0, y0);\n                for (var m = 2; m < from.length;) {\n                    var x1 = tmpArr[m++];\n                    var y1 = tmpArr[m++];\n                    var x2 = tmpArr[m++];\n                    var y2 = tmpArr[m++];\n                    var x3 = tmpArr[m++];\n                    var y3 = tmpArr[m++];\n                    if (x0 === x1 && y0 === y1 && x2 === x3 && y2 === y3) {\n                        path.lineTo(x3, y3);\n                    }\n                    else {\n                        path.bezierCurveTo(x1, y1, x2, y2, x3, y3);\n                    }\n                    x0 = x3;\n                    y0 = y3;\n                }\n            }\n        } });\n}\nexport function morphPath(fromPath, toPath, animationOpts) {\n    if (!fromPath || !toPath) {\n        return toPath;\n    }\n    var oldDone = animationOpts.done;\n    var oldDuring = animationOpts.during;\n    prepareMorphPath(fromPath, toPath);\n    toPath.__morphT = 0;\n    function restoreToPath() {\n        restoreMethod(toPath, 'buildPath');\n        restoreMethod(toPath, 'updateTransform');\n        toPath.__morphT = -1;\n        toPath.createPathProxy();\n        toPath.dirtyShape();\n    }\n    toPath.animateTo({\n        __morphT: 1\n    }, defaults({\n        during: function (p) {\n            toPath.dirtyShape();\n            oldDuring && oldDuring(p);\n        },\n        done: function () {\n            restoreToPath();\n            oldDone && oldDone();\n        }\n    }, animationOpts));\n    return toPath;\n}\nfunction hilbert(x, y, minX, minY, maxX, maxY) {\n    var bits = 16;\n    x = (maxX === minX) ? 0 : Math.round(32767 * (x - minX) / (maxX - minX));\n    y = (maxY === minY) ? 0 : Math.round(32767 * (y - minY) / (maxY - minY));\n    var d = 0;\n    var tmp;\n    for (var s = (1 << bits) / 2; s > 0; s /= 2) {\n        var rx = 0;\n        var ry = 0;\n        if ((x & s) > 0) {\n            rx = 1;\n        }\n        if ((y & s) > 0) {\n            ry = 1;\n        }\n        d += s * s * ((3 * rx) ^ ry);\n        if (ry === 0) {\n            if (rx === 1) {\n                x = s - 1 - x;\n                y = s - 1 - y;\n            }\n            tmp = x;\n            x = y;\n            y = tmp;\n        }\n    }\n    return d;\n}\nfunction sortPaths(pathList) {\n    var xMin = Infinity;\n    var yMin = Infinity;\n    var xMax = -Infinity;\n    var yMax = -Infinity;\n    var cps = map(pathList, function (path) {\n        var rect = path.getBoundingRect();\n        var m = path.getComputedTransform();\n        var x = rect.x + rect.width / 2 + (m ? m[4] : 0);\n        var y = rect.y + rect.height / 2 + (m ? m[5] : 0);\n        xMin = Math.min(x, xMin);\n        yMin = Math.min(y, yMin);\n        xMax = Math.max(x, xMax);\n        yMax = Math.max(y, yMax);\n        return [x, y];\n    });\n    var items = map(cps, function (cp, idx) {\n        return {\n            cp: cp,\n            z: hilbert(cp[0], cp[1], xMin, yMin, xMax, yMax),\n            path: pathList[idx]\n        };\n    });\n    return items.sort(function (a, b) { return a.z - b.z; }).map(function (item) { return item.path; });\n}\n;\nfunction defaultDividePath(param) {\n    return split(param.path, param.count);\n}\nfunction createEmptyReturn() {\n    return {\n        fromIndividuals: [],\n        toIndividuals: [],\n        count: 0\n    };\n}\nexport function combineMorph(fromList, toPath, animationOpts) {\n    var fromPathList = [];\n    function addFromPath(fromList) {\n        for (var i = 0; i < fromList.length; i++) {\n            var from = fromList[i];\n            if (isCombineMorphing(from)) {\n                addFromPath(from.childrenRef());\n            }\n            else if (from instanceof Path) {\n                fromPathList.push(from);\n            }\n        }\n    }\n    addFromPath(fromList);\n    var separateCount = fromPathList.length;\n    if (!separateCount) {\n        return createEmptyReturn();\n    }\n    var dividePath = animationOpts.dividePath || defaultDividePath;\n    var toSubPathList = dividePath({\n        path: toPath, count: separateCount\n    });\n    if (toSubPathList.length !== separateCount) {\n        console.error('Invalid morphing: unmatched splitted path');\n        return createEmptyReturn();\n    }\n    fromPathList = sortPaths(fromPathList);\n    toSubPathList = sortPaths(toSubPathList);\n    var oldDone = animationOpts.done;\n    var oldDuring = animationOpts.during;\n    var individualDelay = animationOpts.individualDelay;\n    var identityTransform = new Transformable();\n    for (var i = 0; i < separateCount; i++) {\n        var from = fromPathList[i];\n        var to = toSubPathList[i];\n        to.parent = toPath;\n        to.copyTransform(identityTransform);\n        if (!individualDelay) {\n            prepareMorphPath(from, to);\n        }\n    }\n    toPath.__isCombineMorphing = true;\n    toPath.childrenRef = function () {\n        return toSubPathList;\n    };\n    function addToSubPathListToZr(zr) {\n        for (var i = 0; i < toSubPathList.length; i++) {\n            toSubPathList[i].addSelfToZr(zr);\n        }\n    }\n    saveAndModifyMethod(toPath, 'addSelfToZr', {\n        after: function (zr) {\n            addToSubPathListToZr(zr);\n        }\n    });\n    saveAndModifyMethod(toPath, 'removeSelfFromZr', {\n        after: function (zr) {\n            for (var i = 0; i < toSubPathList.length; i++) {\n                toSubPathList[i].removeSelfFromZr(zr);\n            }\n        }\n    });\n    function restoreToPath() {\n        toPath.__isCombineMorphing = false;\n        toPath.__morphT = -1;\n        toPath.childrenRef = null;\n        restoreMethod(toPath, 'addSelfToZr');\n        restoreMethod(toPath, 'removeSelfFromZr');\n    }\n    var toLen = toSubPathList.length;\n    if (individualDelay) {\n        var animating_1 = toLen;\n        var eachDone = function () {\n            animating_1--;\n            if (animating_1 === 0) {\n                restoreToPath();\n                oldDone && oldDone();\n            }\n        };\n        for (var i = 0; i < toLen; i++) {\n            var indivdualAnimationOpts = individualDelay ? defaults({\n                delay: (animationOpts.delay || 0) + individualDelay(i, toLen, fromPathList[i], toSubPathList[i]),\n                done: eachDone\n            }, animationOpts) : animationOpts;\n            morphPath(fromPathList[i], toSubPathList[i], indivdualAnimationOpts);\n        }\n    }\n    else {\n        toPath.__morphT = 0;\n        toPath.animateTo({\n            __morphT: 1\n        }, defaults({\n            during: function (p) {\n                for (var i = 0; i < toLen; i++) {\n                    var child = toSubPathList[i];\n                    child.__morphT = toPath.__morphT;\n                    child.dirtyShape();\n                }\n                oldDuring && oldDuring(p);\n            },\n            done: function () {\n                restoreToPath();\n                for (var i = 0; i < fromList.length; i++) {\n                    restoreMethod(fromList[i], 'updateTransform');\n                }\n                oldDone && oldDone();\n            }\n        }, animationOpts));\n    }\n    if (toPath.__zr) {\n        addToSubPathListToZr(toPath.__zr);\n    }\n    return {\n        fromIndividuals: fromPathList,\n        toIndividuals: toSubPathList,\n        count: toLen\n    };\n}\nexport function separateMorph(fromPath, toPathList, animationOpts) {\n    var toLen = toPathList.length;\n    var fromPathList = [];\n    var dividePath = animationOpts.dividePath || defaultDividePath;\n    function addFromPath(fromList) {\n        for (var i = 0; i < fromList.length; i++) {\n            var from = fromList[i];\n            if (isCombineMorphing(from)) {\n                addFromPath(from.childrenRef());\n            }\n            else if (from instanceof Path) {\n                fromPathList.push(from);\n            }\n        }\n    }\n    if (isCombineMorphing(fromPath)) {\n        addFromPath(fromPath.childrenRef());\n        var fromLen = fromPathList.length;\n        if (fromLen < toLen) {\n            var k = 0;\n            for (var i = fromLen; i < toLen; i++) {\n                fromPathList.push(clonePath(fromPathList[k++ % fromLen]));\n            }\n        }\n        fromPathList.length = toLen;\n    }\n    else {\n        fromPathList = dividePath({ path: fromPath, count: toLen });\n        var fromPathTransform = fromPath.getComputedTransform();\n        for (var i = 0; i < fromPathList.length; i++) {\n            fromPathList[i].setLocalTransform(fromPathTransform);\n        }\n        if (fromPathList.length !== toLen) {\n            console.error('Invalid morphing: unmatched splitted path');\n            return createEmptyReturn();\n        }\n    }\n    fromPathList = sortPaths(fromPathList);\n    toPathList = sortPaths(toPathList);\n    var individualDelay = animationOpts.individualDelay;\n    for (var i = 0; i < toLen; i++) {\n        var indivdualAnimationOpts = individualDelay ? defaults({\n            delay: (animationOpts.delay || 0) + individualDelay(i, toLen, fromPathList[i], toPathList[i])\n        }, animationOpts) : animationOpts;\n        morphPath(fromPathList[i], toPathList[i], indivdualAnimationOpts);\n    }\n    return {\n        fromIndividuals: fromPathList,\n        toIndividuals: toPathList,\n        count: toPathList.length\n    };\n}\nexport { split as defaultDividePath };\n","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\nimport { use } from './lib/extension.js';\nexport * from './lib/export/core.js';\n// ----------------------------------------------\n// All of the modules that are allowed to be\n// imported are listed below.\n//\n// Users MUST NOT import other modules that are\n// not included in this list.\n// ----------------------------------------------\nimport { SVGRenderer, CanvasRenderer } from './lib/export/renderers.js';\nimport { LineChart, BarChart, PieChart, ScatterChart, RadarChart, MapChart, TreeChart, TreemapChart, GraphChart, GaugeChart, FunnelChart, ParallelChart, SankeyChart, BoxplotChart, CandlestickChart, EffectScatterChart, LinesChart, HeatmapChart, PictorialBarChart, ThemeRiverChart, SunburstChart, CustomChart } from './lib/export/charts.js';\nimport { GridComponent, PolarComponent, GeoComponent, SingleAxisComponent, ParallelComponent, CalendarComponent, GraphicComponent, ToolboxComponent, TooltipComponent, AxisPointerComponent, BrushComponent, TitleComponent, TimelineComponent, MarkPointComponent, MarkLineComponent, MarkAreaComponent, LegendComponent, DataZoomComponent, DataZoomInsideComponent, DataZoomSliderComponent, VisualMapComponent, VisualMapContinuousComponent, VisualMapPiecewiseComponent, AriaComponent, DatasetComponent, TransformComponent } from './lib/export/components.js';\nimport { UniversalTransition, LabelLayout } from './lib/export/features.js';\n// -----------------\n// Render engines\n// -----------------\n// Render via Canvas.\n// echarts.init(dom, null, { renderer: 'canvas' })\nuse([CanvasRenderer]);\n// Render via SVG.\n// echarts.init(dom, null, { renderer: 'svg' })\nuse([SVGRenderer]);\n// ----------------\n// Charts (series)\n// ----------------\n// All of the series types, for example:\n// chart.setOption({\n//     series: [{\n//         type: 'line' // or 'bar', 'pie', ...\n//     }]\n// });\nuse([LineChart, BarChart, PieChart, ScatterChart, RadarChart, MapChart, TreeChart, TreemapChart, GraphChart, GaugeChart, FunnelChart, ParallelChart, SankeyChart, BoxplotChart, CandlestickChart, EffectScatterChart, LinesChart, HeatmapChart, PictorialBarChart, ThemeRiverChart, SunburstChart, CustomChart]);\n// -------------------\n// Coordinate systems\n// -------------------\n// All of the axis modules have been included in the\n// coordinate system module below, do not need to\n// make extra import.\n// `cartesian` coordinate system. For some historical\n// reasons, it is named as grid, for example:\n// chart.setOption({\n//     grid: {...},\n//     xAxis: {...},\n//     yAxis: {...},\n//     series: [{...}]\n// });\nuse(GridComponent);\n// `polar` coordinate system, for example:\n// chart.setOption({\n//     polar: {...},\n//     radiusAxis: {...},\n//     angleAxis: {...},\n//     series: [{\n//         coordinateSystem: 'polar'\n//     }]\n// });\nuse(PolarComponent);\n// `geo` coordinate system, for example:\n// chart.setOption({\n//     geo: {...},\n//     series: [{\n//         coordinateSystem: 'geo'\n//     }]\n// });\nuse(GeoComponent);\n// `singleAxis` coordinate system (notice, it is a coordinate system\n// with only one axis, work for chart like theme river), for example:\n// chart.setOption({\n//     singleAxis: {...}\n//     series: [{type: 'themeRiver', ...}]\n// });\nuse(SingleAxisComponent);\n// `parallel` coordinate system, only work for parallel series, for example:\n// chart.setOption({\n//     parallel: {...},\n//     parallelAxis: [{...}, ...],\n//     series: [{\n//         type: 'parallel'\n//     }]\n// });\nuse(ParallelComponent);\n// `calendar` coordinate system. for example,\n// chart.setOption({\n//     calendar: {...},\n//     series: [{\n//         coordinateSystem: 'calendar'\n//     }]\n// );\nuse(CalendarComponent);\n// ------------------\n// Other components\n// ------------------\n// `graphic` component, for example:\n// chart.setOption({\n//     graphic: {...}\n// });\nuse(GraphicComponent);\n// `toolbox` component, for example:\n// chart.setOption({\n//     toolbox: {...}\n// });\nuse(ToolboxComponent);\n// `tooltip` component, for example:\n// chart.setOption({\n//     tooltip: {...}\n// });\nuse(TooltipComponent);\n// `axisPointer` component, for example:\n// chart.setOption({\n//     tooltip: {axisPointer: {...}, ...}\n// });\n// Or\n// chart.setOption({\n//     axisPointer: {...}\n// });\nuse(AxisPointerComponent);\n// `brush` component, for example:\n// chart.setOption({\n//     brush: {...}\n// });\n// Or\n// chart.setOption({\n//     tooltip: {feature: {brush: {...}}\n// })\nuse(BrushComponent);\n// `title` component, for example:\n// chart.setOption({\n//     title: {...}\n// });\nuse(TitleComponent);\n// `timeline` component, for example:\n// chart.setOption({\n//     timeline: {...}\n// });\nuse(TimelineComponent);\n// `markPoint` component, for example:\n// chart.setOption({\n//     series: [{markPoint: {...}}]\n// });\nuse(MarkPointComponent);\n// `markLine` component, for example:\n// chart.setOption({\n//     series: [{markLine: {...}}]\n// });\nuse(MarkLineComponent);\n// `markArea` component, for example:\n// chart.setOption({\n//     series: [{markArea: {...}}]\n// });\nuse(MarkAreaComponent);\n// `legend` component not scrollable. for example:\n// chart.setOption({\n//     legend: {...}\n// });\nuse(LegendComponent);\n// `dataZoom` component including both `dataZoomInside` and `dataZoomSlider`.\nuse(DataZoomComponent);\n// `dataZoom` component providing drag, pinch, wheel behaviors\n// inside coordinate system, for example:\n// chart.setOption({\n//     dataZoom: {type: 'inside'}\n// });\nuse(DataZoomInsideComponent);\n// `dataZoom` component providing a slider bar, for example:\n// chart.setOption({\n//     dataZoom: {type: 'slider'}\n// });\nuse(DataZoomSliderComponent);\n// `visualMap` component including both `visualMapContinuous` and `visualMapPiecewise`.\nuse(VisualMapComponent);\n// `visualMap` component providing continuous bar, for example:\n// chart.setOption({\n//     visualMap: {type: 'continuous'}\n// });\nuse(VisualMapContinuousComponent);\n// `visualMap` component providing pieces bar, for example:\n// chart.setOption({\n//     visualMap: {type: 'piecewise'}\n// });\nuse(VisualMapPiecewiseComponent);\n// `aria` component providing aria, for example:\n// chart.setOption({\n//     aria: {...}\n// });\nuse(AriaComponent);\n// dataset transform\n// chart.setOption({\n//     dataset: {\n//          transform: []\n//     }\n// });\nuse(TransformComponent);\nuse(DatasetComponent);\n// universal transition\n// chart.setOption({\n//     series: {\n//         universalTransition: { enabled: true }\n//     }\n// })\nuse(UniversalTransition);\n// label layout\n// chart.setOption({\n//     series: {\n//         labelLayout: { hideOverlap: true }\n//     }\n// })\nuse(LabelLayout);"],"names":["Browser","this","firefox","ie","edge","newEdge","weChat","env","browser","node","wxa","worker","svgSupported","touchEventsSupported","pointerEventsSupported","domSupported","transformSupported","transform3dSupported","hasGlobalWindow","window","wx","getSystemInfoSync","document","self","ua","match","test","version","split","SVGRect","style","documentElement","WebKitCSSMatrix","detect","navigator","userAgent","DEFAULT_FONT_FAMILY","DEFAULT_FONT","DEFAULT_FONT_SIZE","DEFAULT_TEXT_WIDTH_MAP","mapStr","map","JSON","i","length","char","String","fromCharCode","size","charCodeAt","getTextWidthMap","platformApi","createCanvas","createElement","measureText","_ctx","_cachedFont","text","font","canvas","getContext","res","exec","fontSize","width","indexOf","preCalcWidth","loadImage","src","onload","onerror","image","Image","BUILTIN_OBJECT","reduce","obj","val","TYPED_ARRAY","objToString","Object","prototype","toString","arrayProto","Array","nativeForEach","forEach","nativeFilter","filter","nativeSlice","slice","nativeMap","ctorFunction","constructor","protoFunction","protoKey","idStart","guid","logError","args","_i","arguments","console","error","apply","clone","source","result","typeStr","call","isPrimitive","len","Ctor","from","isDom","key","hasOwnProperty","merge","target","overwrite","isObject","targetProp","sourceProp","isArray","isBuiltInObject","mergeAll","targetAndSources","extend","assign","defaults","overlay","keysArr","keys","array","value","inherits","clazz","baseClazz","clazzPrototype","F","prop","superClass","mixin","override","getOwnPropertyNames","keyList","isArrayLike","data","each","arr","cb","context","push","memo","find","bind","isFunction","func","concat","curry","isString","isStringSafe","isNumber","type","isTypedArray","nodeType","ownerDocument","isGradientObject","colorStops","isRegExp","eqNaN","retrieve","retrieve2","value0","value1","retrieve3","value2","normalizeCssArray","assert","condition","message","Error","trim","str","replace","primitiveKey","setAsPrimitive","MapPolyfill","existed","has","get","set","callback","isNativeMapSupported","Map","HashMap","isArr","thisMap","visit","hasKey","removeKey","createHashMap","concatArray","a","b","newArray","offset","createObject","proto","properties","create","StyleCtor","disableUserSelect","dom","domStyle","webkitUserSelect","userSelect","webkitTapHighlightColor","hasOwn","own","noop","RADIAN_TO_DEGREE","Math","PI","x","y","copy","out","v","add","v1","v2","scaleAndAdd","sub","sqrt","lenSquare","scale","s","normalize","d","distance","dist","distSquare","lerp","t","applyTransform","m","min","max","Param","e","topTarget","Draggable","handler","on","_dragStart","_drag","_dragEnd","draggingTarget","draggable","parent","__hostTarget","_draggingTarget","dragging","_x","offsetX","_y","offsetY","dispatchToElement","event","dx","dy","drift","dropTarget","findHover","lastDropTarget","_dropTarget","Eventful","eventProcessors","_$eventProcessor","query","_$handlers","_h","eventProcessor","normalizeQuery","h","wrap","ctx","callAtLast","zrEventfulCallAtLast","lastIndex","lastWrap","splice","isSilent","eventName","off","eventType","newList","l","trigger","argLen","hItem","afterTrigger","triggerWithContext","LN2","log","determinant","rows","rank","rowStart","rowMask","colMask","detCache","cacheKey","fullRank","colStart","round","subRowMask","subRowStart","sum","j","colLocalIdx","colTag","buildTransformer","dest","mA","det","vh","srcPointX","srcPointY","pk","EVENT_SAVED_PROP","_calcOut","transformLocalCoord","elFrom","elTarget","inX","inY","transformCoordWithViewport","el","inverse","getBoundingClientRect","isCanvasEl","saved","markers","propLR","propTB","marker","idxLR","idxTB","cssText","join","appendChild","prepareCoordMarkers","transformer","transformerName","oldSrcCoords","srcCoords","destCoords","oldCoordTheSame","rect","ii","left","top","offsetLeft","offsetTop","preparePointerTransformer","nodeName","toUpperCase","replaceReg","replaceMap","encodeHTML","c","MOUSE_EVENT_REG","firefoxNotSupportOffsetXY","clientToLocal","calculate","calculateZrXY","layerX","zrX","zrY","layerY","ex","clientX","ey","clientY","box","getNativeEvent","normalizeEvent","touch","targetTouches","changedTouches","wheelDelta","rawWheelDelta","deltaX","deltaY","abs","getWheelDeltaMayPolyfill","zrDelta","detail","button","which","addEventListener","name","opt","removeEventListener","stop","preventDefault","stopPropagation","cancelBubble","isMiddleOrRightButtonOnMouseUpDown","GestureMgr","_track","recognize","root","_doTrack","_recognize","clear","touches","trackItem","points","pos","eventUtil.clientToLocal","recognizers","gestureInfo","pointPair","pinch","tracks","trackLen","pinchEnd","pinchPre","pinchScale","isFinite","pinchCenter","pinchX","pinchY","identity","mul","m1","m2","out0","out1","out2","out3","out4","out5","translate","rotate","rad","pivot","aa","ac","atx","ab","ad","aty","st","sin","ct","cos","vx","vy","invert","Point","other","equal","scalar","dot","distanceSquare","negate","transform","toArray","fromArray","input","p","p2","p0","p1","onet","mathMin","mathMax","lt","rb","lb","rt","minTv","maxTv","BoundingRect","height","union","calculateTransform","sx","sy","matrix.translate","matrix.scale","intersect","mtv","ax0","ax1","ay0","ay1","bx0","bx1","by0","by1","overlap","dMin","Infinity","dMax","d0","d1","d2","d3","contain","plain","isZero","tx","ty","maxX","maxY","SILENT","stopEvent","eventTool.stop","EmptyProxy","_super","_this","__extends","dispose","setCursor","HoveredResult","handlerNames","tmpRect","Handler","storage","painter","proxy","painterRoot","pointerSize","_hovered","_pointerSize","setHandlerProxy","_draggingMgr","util.each","mousemove","isOutside","isOutsideBoundary","lastHovered","lastHoveredTarget","__zr","hovered","hoveredTarget","cursor","mouseout","eventControl","zrEventControl","resize","dispatch","eventArgs","setCursorStyle","cursorStyle","targetInfo","silent","eventKey","eventPacket","eveType","gestureEvent","zrByTouch","makeEventPacket","eachOtherLayer","layer","exclude","list","getDisplayList","setHoverTarget","candidates","targetSizeHalf","pointerRect","ignore","ignoreCoarsePointer","getBoundingRect","thetaStep","PI2","r","theta","processGesture","stage","_gestureMgr","gestureMgr","isHover","displayable","rectHover","ignoreClip","clipPath","getClipPath","hostEl","hoverCheckResult","handlerInstance","getWidth","getHeight","_downEl","_downPoint","_upEl","vec2.dist","makeAscendingRun","lo","hi","compare","runHi","reverseRun","binaryInsertionSort","start","mid","right","n","gallopLeft","hint","lastOffset","maxOffset","tmp","gallopRight","TimSort","runStart","runLength","minGallop","stackSize","mergeAt","start1","length1","start2","length2","k","cursor1","cursor2","count1","count2","exit","_minGallop","mergeLow","customCursor","customDest","mergeHigh","mergeRuns","forceMergeRuns","pushRun","_runStart","_runLength","sort","remaining","ts","minRun","minRunLength","force","invalidZErrorLogged","logInvalidZError","warn","shapeCompareFunc","zlevel","z","z2","requestAnimationFrame","Storage","_roots","_displayList","_displayListLen","displayableSortFunc","traverse","update","includeIgnore","displayList","updateDisplayList","roots","_updateAndAddDisplayable","timsort","clipPaths","beforeUpdate","afterUpdate","userSetClipPath","currentClipPath","parentClipPath","updateTransform","childrenRef","children","child","__dirty","disp","__clipPaths","isNaN","decalEl","getDecalElement","textGuide","getTextGuideLine","textEl","getTextContent","addRoot","delRoot","idx","util.indexOf","delAllRoots","getRoots","msRequestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","setTimeout","easingFuncs","linear","quadraticIn","quadraticOut","quadraticInOut","cubicIn","cubicOut","cubicInOut","quarticIn","quarticOut","quarticInOut","quinticIn","quinticOut","quinticInOut","sinusoidalIn","sinusoidalOut","sinusoidalInOut","exponentialIn","pow","exponentialOut","exponentialInOut","circularIn","circularOut","circularInOut","elasticIn","asin","elasticOut","elasticInOut","backIn","backOut","backInOut","bounceIn","bounceOut","bounceInOut","mathPow","mathSqrt","EPSILON","EPSILON_NUMERIC","THREE_SQRT","ONE_THIRD","_v0","v2Create","_v1","_v2","isAroundZero","isNotAroundZero","cubicAt","p3","cubicDerivativeAt","cubicRootAt","A","B","C","t1","disc","K","t2","discSqrt","Y1","Y2","T","acos","ASqrt","t3","cubicExtrema","extrema","cubicSubdivide","p01","p12","p23","p012","p123","p0123","cubicProjectPoint","x0","y0","x1","y1","x2","y2","x3","y3","prev","next","interval","_t","v2DistSquare","cubicLength","iteration","px","py","step","quadraticAt","quadraticDerivativeAt","quadraticExtremum","divider","quadraticSubdivide","quadraticProjectPoint","quadraticLength","regexp","createCubicEasingFunc","cubicEasingStr","cubic","a_1","b_1","c_1","d_1","roots_1","Clip","opts","_inited","_startTime","_pausedTime","_paused","_life","life","_delay","delay","loop","onframe","ondestroy","onrestart","easing","setEasing","globalTime","deltaTime","elapsedTime","percent","easingFunc","schedule","remainder","pause","resume","Entry","LinkedList","_len","insert","entry","insertEntry","head","tail","remove","LRU","maxSize","_list","_maxSize","_map","put","removed","_lastRemovedEntry","leastUsedEntry","kCSSColorTable","transparent","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","clampCssByte","clampCssFloat","f","parseCssInt","charAt","parseFloat","parseInt","parseCssFloat","cssHueToRgb","lerpNumber","setRgba","g","copyRgba","colorCache","lastRemovedArr","putToCache","colorStr","rgbaArr","parse","cached","toLowerCase","iv","strLen","op","ep","fname","substr","params","alpha","pop","hsla2rgba","hsla","rgba","lift","color","level","colorArr","stringify","fastLerp","normalizedValue","colors","leftIndex","floor","rightIndex","ceil","leftColor","rightColor","dv","fullOutput","modifyHSL","H","S","R","G","vMin","vMax","delta","L","deltaR","deltaG","deltaB","rgba2hsla","modifyAlpha","arrColor","lum","backgroundLum","liftedColorCache","liftColor","liftedColor","ret","mathRound","normalizeColor","opacity","round3","round4","TEXT_ALIGN_TO_ANCHOR","center","middle","isImagePattern","isPattern","svgElement","isSVGPattern","isLinearGradient","isRadialGradient","isGradient","getIdURL","id","getPathPrecision","getGlobalScale","getSRTTransformString","rotation","scaleX","scaleY","skewX","skewY","encodeBase64","btoa","unescape","encodeURIComponent","Buffer","arraySlice","interpolateNumber","interpolate1DArray","add1DArray","sign","add2DArray","len2","fillColorStops","val0","val1","len0","len1","shorterArr","shorterLen","last","fillArray","arrDim","arr0","arr1","arr0Len","arr1Len","cloneValue","rgba2String","isGradientValueType","valType","isArrayValueType","tmpRgba","Track","propName","keyframes","discrete","_invalid","_needsSort","_lastFr","_lastFrP","isFinished","_finished","setFinished","_additiveTrack","needsAnimate","getAdditiveTrack","addKeyframe","time","rawValue","arrayDim","guessArrayDim","colorArray","color.parse","parsedGradient","colorStop","kf","prepare","maxTime","additiveTrack","kfs","kfsLen","lastKf","isDiscrete","lastValue","startValue","additiveValue","frameIdx","frame","nextFrame","isAdditive","valueKey","kfsNum","isValueColor","lastFrame","w","targetArr","_additiveValue","interpolate2DArray","nextVal_1","isLinearGradient_1","nextColorStop","global","_addToTarget","Animator","allowDiscreteAnimation","additiveTo","_tracks","_trackKeys","_maxTime","_started","_clip","_target","_loop","_additiveAnimators","_allowDiscrete","getMaxTime","getDelay","getLoop","getTarget","changeTarget","when","props","whenWithKeys","propNames","track","initialValue","_getAdditiveTrack","addtiveTrackKfs","lastFinalKf","isPaused","duration","_force","_doneCallback","_setTracksFinished","doneList","_doneCbs","_abortedCallback","animation","abortedList","_abortedCbs","removeClip","tracksKeys","trackName","additiveAnimators","getTrack","clip","stillHasAdditiveAnimator","onframeList","_onframeCbs","addClip","forwardToLast","during","done","aborted","getClip","getTracks","stopTracks","allAborted","saveTo","trackKeys","firstOrLast","__changeFinalValue","finalProps","getTime","Date","mouseHandlerNames","pointerEventNameMap","Animation","_running","_time","_pauseStart","_head","_tail","addAnimator","animator","removeAnimator","notTriggerFrameAndStageUpdate","nextClip","_startLoop","animate","options","globalEventSupported","localNativeListenerNames","pointerdown","pointerup","pointermove","pointerout","mouse","pointer","zrUtil.map","nm","globalNativeListenerNames","wheelEventSupported","isPointerFromTouch","pointerType","markTouch","isLocalEl","instance","elTmp","isLocal","domBelongToZr","parentNode","FakeGlobalEvent","zrUtil.noop","stopImmediatePropagation","currentTarget","localDOMHandlers","mousedown","__mayPointerCapture","downPoint","__togglePointerCapture","mouseup","toElement","relatedTarget","__pointerCapturing","wheel","mousewheel","touchstart","__lastTouchMoment","touchmove","touchend","click","zrUtil.each","globalDOMHandlers","pointerCaptureReleasing","mountLocalDOMEventListeners","scope","domHandlers","nativeEventName","mountSingleDOMEventListener","touching","touchTimer","clearTimeout","setTouchTimer","mountGlobalDOMEventListeners","mount","normalizeGlobalEvent","capture","listener","mounted","listenerOpts","domTarget","unmountDOMEventListeners","DOMHandlerScope","HandlerDomProxy","_localHandlerScope","_globalHandlerScope","isPointerCapturing","globalHandlerScope","dpr","devicePixelRatio","screen","deviceXDPI","logicalXDPI","DARK_LABEL_COLOR","LIGHT_LABEL_COLOR","mIdentity","matrix.identity","scaleTmp","tmpTransform","originTransform","Transformable","getLocalTransform","setPosition","setScale","setSkew","setOrigin","originX","originY","needLocalTransform","parentTransform","matrix.mul","matrix.copy","_resolveGlobalScaleRatio","invTransform","globalScaleRatio","relX","relY","matrix.invert","getComputedTransform","transformNode","ancestors","setLocalTransform","atan2","shearX","decomposeTransform","ox","oy","transformCoordToLocal","vector.applyTransform","transformCoordToGlobal","getLineScale","copyTransform","ax","anchorX","ay","anchorY","matrix.rotate","initDefaultProps","TRANSFORMABLE_PROPS","textWidthCache","cacheOfFont","innerGetBoundingRect","textAlign","textBaseline","getLineHeight","adjustTextX","adjustTextY","textLines","uniondRect","verticalAlign","parsePercent","maxValue","lastIndexOf","calculateTextPosition","textPosition","position","halfHeight","textVerticalAlign","align","PRESERVED_NORMAL_STATE","PRIMARY_STATES_KEYS","DEFAULT_ANIMATABLE_MAP","tmpTextPosCalcRes","tmpBoundingRect","Element","animators","currentStates","states","_init","attr","markRedraw","updateInnerText","forceUpdate","_textContent","textConfig","local","innerTransformable","textStyleChanged","innerOrigin","layoutRect","textOrigin","origin","relOriginX","relOriginY","textOffset","isInside","inside","innerTextDefaultStyle","_innerTextDefaultStyle","textFill","textStroke","autoStroke","canBeInsideText","insideFill","insideStroke","getInsideTextFill","getInsideTextStroke","outsideFill","outsideStroke","getOutsideFill","getOutsideStroke","fill","stroke","setDefaultTextStyle","dirtyStyle","isDarkMode","backgroundColor","getBackgroundColor","isDark","attrKV","setTextConfig","setTextContent","setClipPath","extra","hide","show","keyOrObj","saveCurrentToNormalState","toState","_innerSaveToNormal","normalState","_normalState","fromStateTransition","__fromStateTransition","targetName","_savePrimaryToNormal","primaryKeys","hasState","getState","ensureState","clearStates","noAnimation","useState","stateName","keepCurrentStates","forceUseHoverLayer","toNormalState","animationCfg","stateTransition","state","stateProxy","useHoverLayer","hoverLayer","_toggleHoverLayerFlag","_applyStateObj","__inHover","textContent","_textGuide","_updateAnimationTargets","useStates","stateObjects","notChange","stateObj","lastStateObj","mergedState","_mergeStates","ancestor","removeState","replaceState","oldState","newState","forceAdd","newStateExists","toggleState","enable","mergedTextConfig","transition","needsRestoreToNormal","transitionTarget","hasTransition","propNeedsTransition","_transitionState","_attachComponent","componentEl","zr","addSelfToZr","_detachComponent","removeSelfFromZr","_clipPath","removeClipPath","previousTextContent","removeTextContent","cfg","removeTextConfig","setTextGuideLine","guideLine","removeTextGuideLine","refreshHover","refresh","dirty","inHover","updateDuringAnimation","wakeUp","stopAnimation","leftAnimators","animateTo","animationProps","animateFrom","getPaintRect","elProto","createLegacyProperty","privateKey","xKey","yKey","enhanceArray","defineProperty","isGroup","animatable","reverse","animateToShallow","finishCount","doneHappened","cfgDone","cfgAborted","doneCb","abortedCb","copyArrShallow","copyValue","sourceArr","topKey","animateObj","targetKeys","additive","setToFinal","animateAll","existsAnimators","animationKeys","innerKey","targetVal","keyLen","val2","is1DArraySame","revertedSource","reversedTarget","sourceClone","Group","_children","childAt","childOfName","childCount","_doAdd","addBefore","nextSibling","oldChild","newChild","zrUtil.indexOf","replaceAt","index","old","removeAll","eachChild","stopped","includeChildren","tmpMat","invisible","childRect","painterCtors","instances","ssrDataGetter","ZRender","_sleepAfterStill","_stillFrameAccum","_needsRefresh","_needsRefreshHover","_darkMode","rendererType","renderer","zrUtil.keys","useDirtyRect","ssrMode","ssr","ssrOnly","handlerProxy","HandlerProxy","getViewportRoot","useCoarsePointer","zrUtil.retrieve2","_flush","_disposed","configLayer","zLevel","config","setBackgroundColor","_backgroundColor","totalLum","setDarkMode","darkMode","refreshImmediately","fromInside","flush","triggerRendered","refreshHoverImmediately","end","setSleepAfterStill","stillFramesCount","getType","clearAnimation","eventHandler","init","zrUtil.guid","registerPainter","registerSSRDataGetter","getter","globalImageCache","findExistImage","newImageOrSrc","cachedImgObj","createOrUpdateImage","cbPayload","__zrImageSrc","pendingWrap","isImageReady","pending","imageOnLoad","__cachedImgObj","STYLE_REG","truncateText2","containerWidth","ellipsis","isTruncated","prepareTruncateOptions","truncateOut","truncateSingleLine","textLine","preparedOpts","maxIterations","minChar","cnCharWidth","ascCharWidth","placeholder","contentWidth","ellipsisWidth","lineWidth","subLength","estimateLength","charCode","RichTextToken","RichTextLine","tokens","RichTextContentBlock","contentHeight","outerWidth","outerHeight","lines","pushTokens","block","wrapInfo","styleName","strLines","linesWidths","isEmptyStr","tokenStyle","rich","newLine","tokenPadding","padding","tokenPaddingH","outerWidth_1","accumWidth","wrapText","breakAll","token","isLineHolder","tokensLen","breakCharMap","ch","isWordBreakChar","code","isAlphabeticLetter","isBreakAll","lastAccumWidth","line","currentWord","currentWordWidth","chWidth","inWord","STYLE_MAGIC_KEY","random","DEFAULT_COMMON_STYLE","shadowBlur","shadowOffsetX","shadowOffsetY","shadowColor","blend","DEFAULT_COMMON_ANIMATION_PROPS","PRIMARY_STATES_KEYS_IN_HOVER_LAYER","Displayable","dispProto","useStyle","beforeBrush","afterBrush","innerBeforeBrush","innerAfterBrush","shouldBePainted","viewWidth","viewHeight","considerClipPath","considerAncestors","culling","viewRect","isDisplayableCulled","isZeroArea","parent_1","rectContain","coord","_paintRect","elRect","shadowSize","tolerance","dirtyRectTolerance","setPrevPaintRect","paintRect","_prevPaintRect","getPrevPaintRect","animateStyle","targetKey","setStyle","notRedraw","_rect","styleChanged","styleUpdated","createStyle","__hoverStyle","isStyleObject","_mergeStyle","targetStyle","sourceStyle","changedKeys","getAnimationStyleProps","statesKeys","mergedStyle","incremental","REDRAW_BIT","mathSin","mathCos","vec2.create","extremity","fromPoints","bottom","fromLine","xDim","yDim","fromCubic","curve.cubicExtrema","curve.cubicAt","fromQuadratic","curve.quadraticExtremum","curve.quadraticAt","fromArc","rx","ry","startAngle","endAngle","anticlockwise","vec2Min","vec2.min","vec2Max","vec2.max","diff","angle","CMD","M","Q","Z","tmpOutX","tmpOutY","min2","max2","mathAbs","hasTypedArray","Float32Array","tmpAngles","modPI2","radian","normalizeArcAngles","angles","newStartAngle","newEndAngle","PathProxy","notSaveData","_xi","_yi","_x0","_y0","_saveData","increaseVersion","_version","getVersion","segmentIgnoreThreshold","_ux","_uy","setDPR","setContext","beginPath","reset","_pathSegLen","_pathLen","moveTo","_drawPendingPt","addData","lineTo","exceedUnit","_pendingPtDist","_pendingPtX","_pendingPtY","bezierCurveTo","quadraticCurveTo","arc","cx","cy","arcTo","radius","closePath","toStatic","setData","appendPath","path","appendSize","appendPathData","cmd","_expandData","newData","Number","MAX_VALUE","xi","yi","isFirst","_calculateLength","ux","uy","pathSegLen","pathTotalLen","segCount","rebuildPath","displayedLength","pendingPtX","pendingPtY","drawPart","accumLength","pendingPtDist","psi","isEllipse","breakBuild","ellipse","newProxy","containStroke","_l","_a","curve.cubicProjectPoint","normalizeRadian","windingLine","dir","x_","swapExtrema","windingCubic","nRoots","curve.cubicRootAt","nExtrema","y0_","y1_","unit","windingQuadratic","curve.quadraticRootAt","y_","windingArc","dTheta","tmp_1","containPath","isStroke","line.containStroke","cubic.containStroke","quadratic.containStroke","arc.containStroke","DEFAULT_PATH_STYLE","strokePercent","fillOpacity","strokeOpacity","lineDashOffset","lineCap","miterLimit","strokeNoScale","strokeFirst","DEFAULT_PATH_ANIMATION_PROPS","pathCopyParams","Path","pathProto","decal","_decalEl","buildPath","shape","decalElStyle","getDefaultShape","defaultStyle","getDefaultStyle","hasFill","pathFill","fillLum","shapeCfg","inBatch","pathUpdated","getUpdatedPathProxy","createPathProxy","hasStroke","needsUpdateRect","firstInvoke","rectStroke","_rectStroke","lineScale","strokeContainThreshold","localPos","pathProxy","pathContain.containStroke","pathContain.contain","dirtyShape","animateShape","setShape","shapeChanged","targetShape","targetShapePrimaryProps","shapeKeys","mergedShape","defaultProps","Sub","subPixelOptimize","autoBatch","DEFAULT_TSPAN_STYLE","TSpan","setBoundingRect","DEFAULT_IMAGE_STYLE","DEFAULT_IMAGE_ANIMATION_PROPS","sWidth","sHeight","ZRImage","_getSize","dim","imageSource","__image","otherDim","otherDimSize","subPixelOptimizeLine","outputShape","inputShape","subPixelOptimizeRect","originWidth","originHeight","positiveOrNegative","doubledPosition","RectShape","subPixelOptimizeOutputShape","Rect","optimizedShape","r1","r2","r3","r4","total","roundRectHelper.buildPath","DEFAULT_RICH_TEXT_COLOR","DEFAULT_TEXT_ANIMATION_PROPS","lineHeight","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","borderColor","borderWidth","borderRadius","ZRText","_defaultStyle","_updateSubTexts","_childCursor","normalizeStyle","_updateRichTexts","_updatePlainTexts","defaultTextStyle","sourceRich","targetRich","_mergeRich","richNames","richName","_getOrCreateChild","textFont","textPadding","contentBlock","overflow","truncate","calculatedLineHeight","bgColorDrawn","truncateLineOverflow","lineOverflow","lineCount","truncateMinChar","singleOut","parsePlainText","getStyleText","needDrawBg","needDrawBackground","baseX","baseY","textX","textY","boxX","boxY","_renderBackground","getTextXForPadding","defaultLineWidth","useDefaultFill","getFill","getStroke","hasShadow","fixedBoundingRect","subElStyle","lineDash","setSeparateFont","topWidth","topHeight","matchedIndex","substring","pendingList","calculatedHeight","calculatedWidth","stlPadding","truncateLine","tmpTruncateOut","finishLine","outer","paddingH","tokenHeight","innerHeight","originalLength","styleTokenWidth","tokenWidthNotSpecified","percentWidth","textBackgroundColor","bgImg","imageHelper.isImageReady","imageHelper.findExistImage","remainTruncWidth","parseRichText","xLeft","lineTop","xRight","tokenCount","remainedWidth","lineXLeft","lineXRight","_placeToken","parentBgColorDrawn","textWidth","textHeight","topStyle","rectEl","imgEl","rectStyle","textBorderWidth","textBorderColor","isImageBg","isPlainOrGradientBg","textBorderRadius","rectShape","imgStyle","borderDash","borderDashOffset","commonStyle","makeFont","hasSeparateFont","fontStyle","fontWeight","parseFontSize","fontFamily","VALID_TEXT_ALIGN","VALID_TEXT_VERTICAL_ALIGN","FONT_PARTS","fontProp","mathAtan2","transformPath","nPoint","v2ApplyTransform","p_1","vMag","vRatio","u","vAngle","processArc","fa","fs","psiDeg","xp","yp","lambda","cxp","cyp","commandReg","numberReg","SVGPath","isPathProxy","createPathOptions","prevCmd","cpx","cpy","subpathX","subpathY","cmdList","cmdText","cmdStr","pLen","ctlPtx","ctlPty","pathData","createPathProxyFromString","innerOpts","createFromString","extendFromString","defaultOpts","mergePath","pathEls","pathList","pathEl","pathBundle","clonePath","sourcePath","bakeTransform","toLocal","CircleShape","Circle","EllipseShape","Ellipse","mathACos","mathATan2","computeCornerTangents","cr","clockwise","x01","y01","x11","y11","x10","y10","x00","y00","cx0","cy0","cx1","cy1","dx0","dy0","dx1","dy1","innerRadius","r0","hasRadius","mod","icrStart","icrEnd","ocrStart","ocrEnd","ocrs","ocre","icrs","icre","ocrMax","icrMax","limitedOcrMax","limitedIcrMax","xre","yre","xirs","yirs","xrs","yrs","xire","yire","hasArc","cornerRadius","normalizeCornerRadius","halfRd","it_1","dx10","dy10","dx32","dy32","crStart","crEnd","ct0","ct1","SectorShape","Sector","roundSectorHelper.buildPath","RingShape","Ring","smooth","controlPoints","isLoop","constraint","prevPoint","nextPoint","cps","v2Min","v2Max","point","v2Clone","v2Sub","v2Scale","v2Distance","cp0","v2Add","cp1","shift","smoothBezier","smoothConstraint","cp2","PolygonShape","Polygon","polyHelper.buildPath","PolylineShape","Polyline","LineShape","Line","pointAt","BezierCurveShape","cpx1","cpy1","someVectorAt","isTangent","cpx2","cpy2","BezierCurve","tangentAt","vec2.normalize","ArcShape","Arc","unitX","unitY","CompoundPath","_updatePathDirty","paths","dirtyPath","Gradient","addColorStop","LinearGradient","globalCoord","RadialGradient","extent","extent2","OrientedBoundingRect","_corners","_axes","_origin","fromBoundingRect","corners","axes","overlapped","noMtv","_intersectCheckOneSide","axis","_getProjMinMaxOnAxis","dist0","dist1","proj","proj_1","IncrementalDisplayable","notClear","_displayables","_temporaryDisplayables","_cursor","getCursor","clearDisplaybles","clearTemporalDisplayables","addDisplayable","notPersistent","addDisplayables","displayables","getDisplayables","getTemporalDisplayables","eachPendingDisplayable","Displayble","wmUniqueIndex","supportDefineProperty","WeakMap","_id","_guard","enumerable","configurable","TypeError","isSafeNum","num","getCanvasGradient","canvasGradient","createRadialGradient","createLinearGradient","parseInt10","getSize","whIdx","wh","cwh","plt","prb","stl","defaultView","getComputedStyle","getLineDash","lineType","lineScale_1","rawVal","pathProxyForDraw","styleHasStroke","isValidStrokeFillStyle","strokeOrFill","styleHasFill","doFillPath","originalGlobalAlpha","globalAlpha","doStrokePath","createCanvasPattern","pattern","canvasPattern","createPattern","repeat","DOMMatrix","setTransform","matrix","translateSelf","rotateSelf","scaleSelf","SHADOW_NUMBER_PROPS","STROKE_PROPS","bindCommonProps","prevStyle","forceSetAll","flushPathDrawn","globalCompositeOperation","bindPathAndTextCommonStyle","prevEl","getStyle","fillStyle","strokeStyle","newLineWidth","setContextTransform","batchFill","batchStroke","brushSingle","brush","isLast","__isRendered","prevElClipPaths","forceSetTransform","forceSetStyle","prevClipPaths","isClipPathChanged","restore","allClipped","save","updateClipStatus","m0","canBatchPath","canPathBatch","lastDrawType","strokePart","firstDraw","dirtyFlag","hasFillGradient","hasStrokeGradient","hasFillPattern","hasStrokePattern","fillGradient","strokeGradient","fillPattern","strokePattern","__canvasFillGradient","__canvasStrokeGradient","__canvasFillPattern","__canvasStrokePattern","setLineDash","needsRebuild","brushPath","strokeText","fillText","brushText","bindImageStyle","aspect","drawImage","brushImage","temporalDisplayables","innerScope","i_1","len_1","brushIncremental","isAroundEqual","degree","SVGPathRebuilder","precision","_start","_d","_str","_p","_add","dThetaPositive","isCircle","unifiedTheta","large","xRot","dTheta_1","vals","generateStr","getStr","NONE","strokeProps","svgStrokeProps","mapStyleToAttrs","updateAttr","pathHasFill","pathHasStroke","strokeScale","strokeWidth","SVGNS","XLINKNS","META_DATA_PREFIX","createElementNS","createVNode","tag","attrs","vNodeToString","newline","convertElToString","attrsStr","part","createElementOpen","createBrushScope","zrId","shadowCache","patternCache","gradientCache","clipPathCache","defs","cssNodes","cssAnims","cssStyleCache","cssAnimIdx","shadowIdx","gradientIdx","patternIdx","clipPathIdx","createSVGVNode","useViewBox","xmlns","baseProfile","viewBox","cssClassIdx","getClassId","EASING_MAP","transformOriginKey","buildPathString","kfShape","svgPathBuilder","setTransformOrigin","ANIMATE_STYLE_MAP","addAnimation","cssAnim","animationName","getEasingFunc","createCSSAnimation","onlyShape","cssAnimations","cssAnimationCfg","cssAnimationName","composedAnim","subScope","animNames","lastAnim","className","createCompoundPathCSSAnimation","groupAnimators","cfgArr","createSingleCSSAnimation","groupAnimator","transformKfs","shapeKfs","finalKfs","animationTimingFunctionAttrName","saveAnimatorTrackToCssKfs","cssKfs","toCssAttrName","attrName","kfEasing","timingFunction","canAnimateShape","newLen","transformOrigin","percents","allTransformOriginSame","setClassAttribute","withHover","styleKey","isImageLike","isCanvasLike","toDataURL","setStyleAttrs","isFillStroke","setGradient","setPattern","shadowKey","globalScale","toFixed","getShadowKey","shadowId","blur_1","stdDeviation","setShadow","setMetaData","metaData","getElementSSRData","noRotateScale","compress","noTranslate","getMatrixStr","convertPolyShape","strArr","validatePolyShape","desc","normalizedDesc","builtinShapesDef","circle","item","polyline","polygon","brushSVGPath","builtinShpDef","svgElType","willUpdate","hasShapeAnimation","needBuildPath","pathVersion","elExt","__svgPathBuilder","__svgPathVersion","__svgPathStrokePercent","emphasis","emphasisStyle","normalFill","selectFill","select","fromFill","createCSSEmphasis","href","brushSVGImage","separatedFontStr","brushSVGTSpan","gradientTag","gradientAttrs","gradientUnits","stopsAttrs","gradientKey","gradientId","boundingRect","patternAttrs","noRepeat","repeatX","repeatY","imageWidth_1","imageWidth","imageHeight_1","imageHeight","imageSrc","patternImage","errMsg","setSizeToVNode_1","vNode","img","svgEl","elm","setAttribute","createdImage","patternVNode","svgWidth","svgHeight","patternWidth","patternHeight","patternUnits","patternTransform","patternKey","patternId","clipPathId","clipPathAttrs","createTextNode","insertBefore","newNode","referenceNode","removeChild","emptyNode","isUndef","isDef","createKeyToOldIdx","beginIdx","endIdx","sameVnode","vnode1","vnode2","isSameKey","createElm","vnode","updateAttrs","api.appendChild","api.createTextNode","addVnodes","parentElm","before","vnodes","startIdx","api.insertBefore","removeVnodes","api.removeChild","api.parentNode","oldVnode","oldAttrs","cur","removeAttribute","setAttributeNS","patchVnode","oldCh","newCh","oldKeyToIdx","idxInOld","elmToMove","oldStartIdx","newStartIdx","oldEndIdx","oldStartVnode","oldEndVnode","newEndIdx","newStartVnode","newEndVnode","api.nextSibling","updateChildren","api.setTextContent","svgId","SVGPainter","_opts","_oldVNode","viewport","_viewport","svgDom","_svgDom","getViewportRootOffset","viewportRoot","getSvgDom","renderToVNode","parent_2","patch","renderOneToVNode","_width","_height","bgVNode","_bgVNode","createBackgroundVNode","mainVNode","_mainVNode","_paintList","animationCssStr","selectorNodes","animationNodes","bracketBegin","bracketEnd","selectors","animations","getCssString","styleNode","renderToString","cssAnimation","cssEmphasis","getSvgRoot","currentClipPathGroup","listLen","clipPathsGroupsStack","clipPathsGroupsStackDepth","clipGroupNodeIdx","prevLen","lca","i_2","groupAttrs","display","viewportStyle","bgEl","innerHTML","base64","prefix","createDom","newDom","newDomStyle","Layer","motionBlur","lastFrameAlpha","virtual","maxRepaintRectCount","__firstTimePaint","__used","__drawIndex","__startIndex","__endIndex","__prevStartIndex","__prevEndIndex","util.isObject","util.disableUserSelect","onselectstart","margin","getElementCount","initContext","setUnpainted","createBackBuffer","domBack","ctxBack","createRepaintRects","prevList","hasIntersections","mergedRepaintRects","full","pendingRect","addRectToMergePool","isMerged","minDeltaArea","bestRectToMergeIdx","mergedRect","pendingRect_1","aArea","bArea","deltaArea","shouldPaint","prevRect","curRect","_paintRects","debugGetPaintRects","clearAll","clearColor","repaintRects","haveMotionBLur","doClear","clearRect","clearColorGradientOrPattern","util.isGradientObject","__width","__height","__canvasGradient","fillRect","HOVER_LAYER_ZLEVEL","CANVAS_ZLEVEL","EL_AFTER_INCREMENTAL_INC","nodeParsers","CanvasPainter","_zlevelList","_prevDisplayList","_layers","_layerConfig","_needsManuallyCompositing","singleCanvas","util.extend","_singleCanvas","zlevelList","layers","rootCanvas","mainLayer","__builtin__","_domRoot","domRoot","createRoot","isSingleCanvas","paintAll","_redrawId","_paintHoverList","_hoverlayer","getLayer","getHoverLayer","paintOne","redrawId","_updateLayerStatus","_doPaintList","finished","needsRefreshHover","_compositeManually","eachLayer","self_1","eachBuiltinLayer","layerList","zi","_loop_1","this_1","useTimer","now","startTime","firstEl","repaint","repaintRect","_doPaintEl","draw","currentLayer","util.merge","insertLayer","layersMap","prevLayer","isLayerValid","prevDom","firstChild","getLayers","updatePrevLayer","prevZlevel","incrementalLayerCount","util.logError","_clearLayer","layerConfig","_zlevel","delLayer","clearLayer","getRenderedCanvas","imageLayer","pixelRatio","width_1","height_1","renderToCanvas","parseXML","svg","DOMParser","parseFromString","svgNode","INHERITABLE_STYLE_ATTRIBUTES_MAP","visibility","INHERITABLE_STYLE_ATTRIBUTES_MAP_KEYS","SELF_STYLE_ATTRIBUTES_MAP","SELF_STYLE_ATTRIBUTES_MAP_KEYS","SVGParser","_defs","_root","xml","_defsUsePending","named","getAttribute","parseAttributes","viewBoxRect","viewBoxTransform","_parseNode","defsUsePending","applyDefs","viewBoxArr","splitNumberSequence","makeViewBoxTransform","ignoreViewBox","elRoot","ignoreRootClip","xmlNode","parentGroup","namedFrom","isInDefs","isInText","namedFromForSub","parser_1","nameAttr","newNamed","svgNodeTagLower","parser","paintServerParsers","def","_parseText","_textX","_textY","inheritStyle","parentSelfStyle","__selfStyle","zrTextBaseline","parentInheritedStyle","__inheritedStyle","zrTextAlign","applyTextAlignment","textStyle","internalField","pointsArr","pointsStr","parsePoints","tspan","lineargradient","gradient","parsePaintServerUnit","parseGradientColorStops","radialgradient","toLocaleLowerCase","offsetStr","styleVals","parseInlineStyle","stopColor","pointsString","onlyInlineStyle","isTextGroup","inheritedStyle","selfStyle","transformOps_1","mt","transformRegex","valueArr","matrix.create","DEGREE_TO_ANGLE","parseTransformAttribute","inheritableStyleResult","selfStyleResult","svgAttrName","attrValue","parseAttributeStyle","getFillStrokeStyle","urlRegex","method","urlMatch","url","rawStr","styleRegex","styleRegResult","svgStlAttr","zrInheritableStlAttr","zrSelfStlAttr","parseSVG","aroundEqual","pathToBezierCurves","currentSubpath","bezierArrayGroups","createNewSubpath","addLine","addArc","c1","s1","c2","s2","x4","y4","hx","hy","adpativeBezier","PIXEL_DISTANCE","PIXEL_DISTANCE_SQR","dx2","dy2","cp1LenSqr","cp2LenSqr","projLen1","projLen2","tmpSegX","tmpSegY","getDividingGrids","dimSize","rowDim","count","rowSize","columnSize","ratio","rowCount","columnCount","grids","remained","divideSector","sectorShape","outShapes","arcLen","isAngleRow","row","column","newShape","crossProduct2d","lineLineIntersect","a1x","a1y","a2x","a2y","b1x","b1y","b2x","b2y","mx","my","nx","ny","nmCrossProduct","projPtOnLine","pt","lineA","lineB","dir2","addToPoly","poly","binaryDividePolygon","polygonShape","pt0","pt1","intersections","intersectionPt","projPt","splitPt0","splitPt1","splitPt0Arr","splitPt1Arr","newPolyA","newPolyB","splitPolygonByLine","binaryDivideRecursive","copyPathProps","OutShapeCtor","isHorizontalRow","rowSizeDim","columnSizeDim","columnDim","divideRect","polygons","beziers","pathToPolygons","polygonConvert","polygonCount","totalArea_1","items","area","selfCount","subPath","alignSubpath","subpath1","subpath2","shorterPath","shorterBezierCount","eachCurveSubDivCount","newSubpath","actualSubDivCount","createSubpath","lastSubpathSubpath","otherSubpath","lastX","lastY","centroid","signedArea","findBestRingOffset","fromSubBeziers","toSubBeziers","fromCp","toCp","bezierCount","bestScore","bestOffset","cursorOffset","score","newArr","isCombineMorphing","__isCombineMorphing","SAVED_METHOD_PREFIX","saveAndModifyMethod","methodName","modifiers","savedMethodName","originalMethod","after","restoreMethod","applyTransformOnBeziers","bezierCurves","mm","subBeziers","prepareMorphPath","fromPath","toPath","fromPathProxy","toPathProxy","array1","array2","lastSubpath1","lastSubpath2","newArray1","newArray2","newSubpath1","newSubpath2","alignBezierCurves","fromBezierCurves","toBezierCurves","fromPathTransform","toPathTransform","morphingData","fromArr","toArr","searchAngleIteration","searchAngleRange","fromNeedsReverse","fromSubpathBezier","toSubpathBezier","newFromSubpathBezier","newToSubpathBezier","bestAngle","tmpArr","sa","ca","newX1","newY1","to","findBestMorphingRotation","__morphT","newCp","x0_1","y0_1","morphPath","animationOpts","oldDone","oldDuring","hilbert","minX","minY","sortPaths","xMin","yMin","xMax","yMax","cp","defaultDividePath","param","combineMorph","fromList","fromPathList","addFromPath","separateCount","fromIndividuals","toIndividuals","toSubPathList","dividePath","individualDelay","identityTransform","addToSubPathListToZr","restoreToPath","toLen","animating_1","eachDone","indivdualAnimationOpts","separateMorph","toPathList","fromLen","use","CanvasRenderer","SVGRenderer","LineChart","BarChart","PieChart","ScatterChart","RadarChart","MapChart","TreeChart","TreemapChart","GraphChart","GaugeChart","FunnelChart","ParallelChart","SankeyChart","BoxplotChart","CandlestickChart","EffectScatterChart","LinesChart","HeatmapChart","PictorialBarChart","ThemeRiverChart","SunburstChart","CustomChart","GridComponent","PolarComponent","GeoComponent","SingleAxisComponent","ParallelComponent","CalendarComponent","GraphicComponent","ToolboxComponent","TooltipComponent","AxisPointerComponent","BrushComponent","TitleComponent","TimelineComponent","MarkPointComponent","MarkLineComponent","MarkAreaComponent","LegendComponent","DataZoomComponent","DataZoomInsideComponent","DataZoomSliderComponent","VisualMapComponent","VisualMapContinuousComponent","VisualMapPiecewiseComponent","AriaComponent","TransformComponent","DatasetComponent","UniversalTransition","LabelLayout"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95]}