import{m as e,u as t,a5 as o,c as n,a6 as r,_ as i,a7 as a,Q as l,a8 as s,a9 as c,aa as d}from"./vendor-CG-KndAb.js";import{R as u,r as p,c as b}from"./react-vendor-XKB30K_c.js";import{d as g,o as f,p as h,q as m,r as $,s as v,t as y,u as w}from"./antd-icons-Cd9MHNVc.js";import{e as x,ae as k,I as S,r as E,af as N,C as I,K as C,W as O}from"./antd-vendor-BEPv5fMA.js";const j=({treeCls:e,treeNodeCls:t,directoryNodeSelectedBg:o,directoryNodeSelectedColor:n,motionDurationMid:r,borderRadius:i,controlItemBgHover:a})=>({[`${e}${e}-directory ${t}`]:{[`${e}-node-content-wrapper`]:{position:"static",[`&:has(${e}-drop-indicator)`]:{position:"relative"},[`> *:not(${e}-drop-indicator)`]:{position:"relative"},"&:hover":{background:"transparent"},"&:before":{position:"absolute",inset:0,transition:`background-color ${r}`,content:'""',borderRadius:i},"&:hover:before":{background:a}},[`${e}-switcher, ${e}-checkbox, ${e}-draggable-icon`]:{zIndex:1},"&-selected":{background:o,borderRadius:i,[`${e}-switcher, ${e}-draggable-icon`]:{color:n},[`${e}-node-content-wrapper`]:{color:n,background:"transparent","&:before, &:hover:before":{background:o}}}}}),K=new o("ant-tree-node-fx-do-not-use",{"0%":{opacity:0},"100%":{opacity:1}}),B=(e,t)=>({[`.${e}-switcher-icon`]:{display:"inline-block",fontSize:10,verticalAlign:"baseline",svg:{transition:`transform ${t.motionDurationSlow}`}}}),P=(e,o)=>({[`.${e}-drop-indicator`]:{position:"absolute",zIndex:1,height:2,backgroundColor:o.colorPrimary,borderRadius:1,pointerEvents:"none","&:after":{position:"absolute",top:-3,insetInlineStart:-6,width:8,height:8,backgroundColor:"transparent",border:`${t(o.lineWidthBold)} solid ${o.colorPrimary}`,borderRadius:"50%",content:'""'}}}),R=(e,o)=>{const{treeCls:n,treeNodeCls:r,treeNodePadding:i,titleHeight:a,indentSize:l,nodeSelectedBg:s,nodeHoverBg:c,colorTextQuaternary:d,controlItemBgActiveDisabled:u}=o;return{[n]:Object.assign(Object.assign({},E(o)),{"--rc-virtual-list-scrollbar-bg":o.colorSplit,background:o.colorBgContainer,borderRadius:o.borderRadius,transition:`background-color ${o.motionDurationSlow}`,"&-rtl":{direction:"rtl"},[`&${n}-rtl ${n}-switcher_close ${n}-switcher-icon svg`]:{transform:"rotate(90deg)"},[`&-focused:not(:hover):not(${n}-active-focused)`]:Object.assign({},N(o)),[`${n}-list-holder-inner`]:{alignItems:"flex-start"},[`&${n}-block-node`]:{[`${n}-list-holder-inner`]:{alignItems:"stretch",[`${n}-node-content-wrapper`]:{flex:"auto"},[`${r}.dragging:after`]:{position:"absolute",inset:0,border:`1px solid ${o.colorPrimary}`,opacity:0,animationName:K,animationDuration:o.motionDurationSlow,animationPlayState:"running",animationFillMode:"forwards",content:'""',pointerEvents:"none",borderRadius:o.borderRadius}}},[r]:{display:"flex",alignItems:"flex-start",marginBottom:i,lineHeight:t(a),position:"relative","&:before":{content:'""',position:"absolute",zIndex:1,insetInlineStart:0,width:"100%",top:"100%",height:i},[`&-disabled ${n}-node-content-wrapper`]:{color:o.colorTextDisabled,cursor:"not-allowed","&:hover":{background:"transparent"}},[`${n}-checkbox-disabled + ${n}-node-selected,&${r}-disabled${r}-selected ${n}-node-content-wrapper`]:{backgroundColor:u},[`${n}-checkbox-disabled`]:{pointerEvents:"unset"},[`&:not(${r}-disabled)`]:{[`${n}-node-content-wrapper`]:{"&:hover":{color:o.nodeHoverColor}}},[`&-active ${n}-node-content-wrapper`]:{background:o.controlItemBgHover},[`&:not(${r}-disabled).filter-node ${n}-title`]:{color:o.colorPrimary,fontWeight:o.fontWeightStrong},"&-draggable":{cursor:"grab",[`${n}-draggable-icon`]:{flexShrink:0,width:a,textAlign:"center",visibility:"visible",color:d},[`&${r}-disabled ${n}-draggable-icon`]:{visibility:"hidden"}}},[`${n}-indent`]:{alignSelf:"stretch",whiteSpace:"nowrap",userSelect:"none","&-unit":{display:"inline-block",width:l}},[`${n}-draggable-icon`]:{visibility:"hidden"},[`${n}-switcher, ${n}-checkbox`]:{marginInlineEnd:o.calc(o.calc(a).sub(o.controlInteractiveSize)).div(2).equal()},[`${n}-switcher`]:Object.assign(Object.assign({},B(e,o)),{position:"relative",flex:"none",alignSelf:"stretch",width:a,textAlign:"center",cursor:"pointer",userSelect:"none",transition:`all ${o.motionDurationSlow}`,"&-noop":{cursor:"unset"},"&:before":{pointerEvents:"none",content:'""',width:a,height:a,position:"absolute",left:{_skip_check_:!0,value:0},top:0,borderRadius:o.borderRadius,transition:`all ${o.motionDurationSlow}`},[`&:not(${n}-switcher-noop):hover:before`]:{backgroundColor:o.colorBgTextHover},[`&_close ${n}-switcher-icon svg`]:{transform:"rotate(-90deg)"},"&-loading-icon":{color:o.colorPrimary},"&-leaf-line":{position:"relative",zIndex:1,display:"inline-block",width:"100%",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:o.calc(a).div(2).equal(),bottom:o.calc(i).mul(-1).equal(),marginInlineStart:-1,borderInlineEnd:`1px solid ${o.colorBorder}`,content:'""'},"&:after":{position:"absolute",width:o.calc(o.calc(a).div(2).equal()).mul(.8).equal(),height:o.calc(a).div(2).equal(),borderBottom:`1px solid ${o.colorBorder}`,content:'""'}}}),[`${n}-node-content-wrapper`]:Object.assign(Object.assign({position:"relative",minHeight:a,paddingBlock:0,paddingInline:o.paddingXS,background:"transparent",borderRadius:o.borderRadius,cursor:"pointer",transition:`all ${o.motionDurationMid}, border 0s, line-height 0s, box-shadow 0s`},P(e,o)),{"&:hover":{backgroundColor:c},[`&${n}-node-selected`]:{color:o.nodeSelectedColor,backgroundColor:s},[`${n}-iconEle`]:{display:"inline-block",width:a,height:a,textAlign:"center",verticalAlign:"top","&:empty":{display:"none"}}}),[`${n}-unselectable ${n}-node-content-wrapper:hover`]:{backgroundColor:"transparent"},[`${r}.drop-container > [draggable]`]:{boxShadow:`0 0 0 2px ${o.colorPrimary}`},"&-show-line":{[`${n}-indent-unit`]:{position:"relative",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:o.calc(a).div(2).equal(),bottom:o.calc(i).mul(-1).equal(),borderInlineEnd:`1px solid ${o.colorBorder}`,content:'""'},"&-end:before":{display:"none"}},[`${n}-switcher`]:{background:"transparent","&-line-icon":{verticalAlign:"-0.15em"}}},[`${r}-leaf-last ${n}-switcher-leaf-line:before`]:{top:"auto !important",bottom:"auto !important",height:`${t(o.calc(a).div(2).equal())} !important`}})}},H=(t,o,n=!0)=>{const r=`.${t}`,i=`${r}-treenode`,a=o.calc(o.paddingXS).div(2).equal(),l=e(o,{treeCls:r,treeNodeCls:i,treeNodePadding:a});return[R(t,l),n&&j(l)].filter(Boolean)},A=x("Tree",(e,{prefixCls:t})=>[{[e.componentCls]:k(`${t}-checkbox`,e)},H(t,e),S(e)],e=>{const{colorTextLightSolid:t,colorPrimary:o}=e;return Object.assign(Object.assign({},(e=>{const{controlHeightSM:t,controlItemBgHover:o,controlItemBgActive:n}=e;return{titleHeight:t,indentSize:t,nodeHoverBg:o,nodeHoverColor:e.colorText,nodeSelectedBg:n,nodeSelectedColor:e.colorText}})(e)),{directoryNodeSelectedColor:t,directoryNodeSelectedBg:o})});function D(e){const{dropPosition:t,dropLevelOffset:o,prefixCls:n,indent:r,direction:i="ltr"}=e,a="ltr"===i?"left":"right",l="ltr"===i?"right":"left",s={[a]:-o*r+4,[l]:0};switch(t){case-1:s.top=-3;break;case 1:s.bottom=-3;break;default:s.bottom=-3,s[a]=r+4}return u.createElement("div",{style:s,className:`${n}-drop-indicator`})}const L=e=>{var t,o;const{prefixCls:r,switcherIcon:i,treeNodeProps:a,showLine:l,switcherLoadingIcon:s}=e,{isLeaf:c,expanded:d,loading:u}=a;if(u)return p.isValidElement(s)?s:p.createElement(g,{className:`${r}-switcher-loading-icon`});let v;if(l&&"object"==typeof l&&(v=l.showLeafIcon),c){if(!l)return null;if("boolean"!=typeof v&&v){const e="function"==typeof v?v(a):v,o=`${r}-switcher-line-custom-icon`;return p.isValidElement(e)?b(e,{className:n(null===(t=e.props)||void 0===t?void 0:t.className,o)}):e}return v?p.createElement(f,{className:`${r}-switcher-line-icon`}):p.createElement("span",{className:`${r}-switcher-leaf-line`})}const y=`${r}-switcher-icon`,w="function"==typeof i?i(a):i;return p.isValidElement(w)?b(w,{className:n(null===(o=w.props)||void 0===o?void 0:o.className,y)}):void 0!==w?w:l?d?p.createElement(h,{className:`${r}-switcher-line-icon`}):p.createElement(m,{className:`${r}-switcher-line-icon`}):p.createElement($,{className:y})},q=u.forwardRef((e,t)=>{var o;const{getPrefixCls:i,direction:a,virtual:l,tree:s}=u.useContext(I),{prefixCls:c,className:d,showIcon:p=!1,showLine:b,switcherIcon:g,switcherLoadingIcon:f,blockNode:h=!1,children:m,checkable:$=!1,selectable:y=!0,draggable:w,motion:x,style:k}=e,S=i("tree",c),E=i(),N=null!=x?x:Object.assign(Object.assign({},C(E)),{motionAppear:!1}),j=Object.assign(Object.assign({},e),{checkable:$,selectable:y,showIcon:p,motion:N,blockNode:h,showLine:Boolean(b),dropIndicatorRender:D}),[K,B,P]=A(S),[,R]=O(),H=R.paddingXS/2+((null===(o=R.Tree)||void 0===o?void 0:o.titleHeight)||R.controlHeightSM),q=u.useMemo(()=>{if(!w)return!1;let e={};switch(typeof w){case"function":e.nodeDraggable=w;break;case"object":e=Object.assign({},w)}return!1!==e.icon&&(e.icon=e.icon||u.createElement(v,null)),e},[w]);return K(u.createElement(r,Object.assign({itemHeight:H,ref:t,virtual:l},j,{style:Object.assign(Object.assign({},null==s?void 0:s.style),k),prefixCls:S,className:n({[`${S}-icon-hide`]:!p,[`${S}-block-node`]:h,[`${S}-unselectable`]:!y,[`${S}-rtl`]:"rtl"===a},null==s?void 0:s.className,d,B,P),direction:a,checkable:$?u.createElement("span",{className:`${S}-checkbox-inner`}):$,selectable:y,switcherIcon:e=>u.createElement(L,{prefixCls:S,switcherIcon:g,switcherLoadingIcon:f,treeNodeProps:e,showLine:b}),draggable:q}),m))});function T(e,t,o){const{key:n,children:r}=o;e.forEach(function(e){const i=e[n],a=e[r];!1!==t(i,e)&&T(a||[],t,o)})}function z({treeData:e,expandedKeys:t,startKey:o,endKey:n,fieldNames:r}){const i=[];let l=0;if(o&&o===n)return[o];if(!o||!n)return[];return T(e,e=>{if(2===l)return!1;if(function(e){return e===o||e===n}(e)){if(i.push(e),0===l)l=1;else if(1===l)return l=2,!1}else 1===l&&i.push(e);return t.includes(e)},a(r)),i}function M(e,t,o){const n=i(t),r=[];return T(e,(e,t)=>{const o=n.indexOf(e);return-1!==o&&(r.push(t),n.splice(o,1)),!!n.length},a(o)),r}var _=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(o[n[r]]=e[n[r]])}return o};function W(e){const{isLeaf:t,expanded:o}=e;return t?p.createElement(f,null):o?p.createElement(y,null):p.createElement(w,null)}function V({treeData:e,children:t}){return e||c(t)}const X=(e,t)=>{var{defaultExpandAll:o,defaultExpandParent:r,defaultExpandedKeys:a}=e,c=_(e,["defaultExpandAll","defaultExpandParent","defaultExpandedKeys"]);const d=p.useRef(null),u=p.useRef(null),[b,g]=p.useState(c.selectedKeys||c.defaultSelectedKeys||[]),[f,h]=p.useState(()=>(()=>{const{keyEntities:e}=l(V(c));let t;return t=o?Object.keys(e):r?s(c.expandedKeys||a||[],e):c.expandedKeys||a||[],t})());p.useEffect(()=>{"selectedKeys"in c&&g(c.selectedKeys)},[c.selectedKeys]),p.useEffect(()=>{"expandedKeys"in c&&h(c.expandedKeys)},[c.expandedKeys]);const{getPrefixCls:m,direction:$}=p.useContext(I),{prefixCls:v,className:y,showIcon:w=!0,expandAction:x="click"}=c,k=_(c,["prefixCls","className","showIcon","expandAction"]),S=m("tree",v),E=n(`${S}-directory`,{[`${S}-directory-rtl`]:"rtl"===$},y);return p.createElement(q,Object.assign({icon:W,ref:t,blockNode:!0},k,{showIcon:w,expandAction:x,prefixCls:S,className:E,expandedKeys:f,selectedKeys:b,onSelect:(e,t)=>{var o;const{multiple:n,fieldNames:r}=c,{node:a,nativeEvent:l}=t,{key:s=""}=a,p=V(c),b=Object.assign(Object.assign({},t),{selected:!0}),h=(null==l?void 0:l.ctrlKey)||(null==l?void 0:l.metaKey),m=null==l?void 0:l.shiftKey;let $;n&&h?($=e,d.current=s,u.current=$,b.selectedNodes=M(p,$,r)):n&&m?($=Array.from(new Set([].concat(i(u.current||[]),i(z({treeData:p,expandedKeys:f,startKey:s,endKey:d.current,fieldNames:r}))))),b.selectedNodes=M(p,$,r)):($=[s],d.current=s,u.current=$,b.selectedNodes=M(p,$,r)),null===(o=c.onSelect)||void 0===o||o.call(c,$,b),"selectedKeys"in c||g($)},onExpand:(e,t)=>{var o;return"expandedKeys"in c||h(e),null===(o=c.onExpand)||void 0===o?void 0:o.call(c,e,t)}}))},Q=p.forwardRef(X),F=q;F.DirectoryTree=Q,F.TreeNode=d;export{F as T};
//# sourceMappingURL=antd-tree-U-o4Fj3K.js.map
