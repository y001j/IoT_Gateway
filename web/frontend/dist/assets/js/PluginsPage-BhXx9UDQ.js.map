{"version":3,"file":"PluginsPage-BhXx9UDQ.js","sources":["../../../src/components/plugins/PluginLogViewer.tsx","../../../src/pages/PluginsPage.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport {\r\n  Table,\r\n  Card,\r\n  Select,\r\n  DatePicker,\r\n  Tag,\r\n  Typography,\r\n  Row,\r\n  Col,\r\n  Button,\r\n  message\r\n} from 'antd';\r\nimport type { ColumnsType } from 'antd/es/table';\r\nimport { ReloadOutlined } from '@ant-design/icons';\r\nimport { pluginService } from '../../services/pluginService';\r\nimport type { PluginLog, PluginLogRequest } from '../../types/plugin';\r\nimport dayjs from 'dayjs';\r\n\r\nconst { Option } = Select;\r\nconst { RangePicker } = DatePicker;\r\nconst { Text } = Typography;\r\n\r\ninterface PluginLogViewerProps {\r\n  pluginName: string;\r\n}\r\n\r\nconst PluginLogViewer: React.FC<PluginLogViewerProps> = ({ pluginName }) => {\r\n  const [logs, setLogs] = useState<PluginLog[]>([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [pagination, setPagination] = useState({\r\n    current: 1,\r\n    pageSize: 20,\r\n    total: 0\r\n  });\r\n  const [filters, setFilters] = useState({\r\n    level: '',\r\n    source: '',\r\n    dateRange: null as [dayjs.Dayjs, dayjs.Dayjs] | null\r\n  });\r\n\r\n  // 获取日志列表\r\n  const fetchLogs = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const params: PluginLogRequest = {\r\n        page: pagination.current,\r\n        page_size: pagination.pageSize,\r\n        level: filters.level || undefined,\r\n        source: filters.source || undefined,\r\n        from: filters.dateRange?.[0]?.toISOString(),\r\n        to: filters.dateRange?.[1]?.toISOString()\r\n      };\r\n\r\n      const response = await pluginService.getPluginLogs(pluginName, params);\r\n      setLogs(response.data);\r\n      setPagination(prev => ({\r\n        ...prev,\r\n        total: response.total\r\n      }));\r\n    } catch (error: any) {\r\n      message.error('获取日志失败：' + (error.message || '未知错误'));\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // 获取日志级别标签\r\n  const getLevelTag = (level: string) => {\r\n    switch (level.toLowerCase()) {\r\n      case 'error':\r\n        return <Tag color=\"red\">{level.toUpperCase()}</Tag>;\r\n      case 'warn':\r\n      case 'warning':\r\n        return <Tag color=\"orange\">{level.toUpperCase()}</Tag>;\r\n      case 'info':\r\n        return <Tag color=\"blue\">{level.toUpperCase()}</Tag>;\r\n      case 'debug':\r\n        return <Tag color=\"default\">{level.toUpperCase()}</Tag>;\r\n      default:\r\n        return <Tag>{level.toUpperCase()}</Tag>;\r\n    }\r\n  };\r\n\r\n  // 表格列定义\r\n  const columns: ColumnsType<PluginLog> = [\r\n    {\r\n      title: '时间',\r\n      dataIndex: 'timestamp',\r\n      key: 'timestamp',\r\n      width: 180,\r\n      render: (timestamp: string) => (\r\n        <Text style={{ fontSize: 12, fontFamily: 'monospace' }}>\r\n          {dayjs(timestamp).format('YYYY-MM-DD HH:mm:ss')}\r\n        </Text>\r\n      )\r\n    },\r\n    {\r\n      title: '级别',\r\n      dataIndex: 'level',\r\n      key: 'level',\r\n      width: 80,\r\n      render: (level: string) => getLevelTag(level)\r\n    },\r\n    {\r\n      title: '来源',\r\n      dataIndex: 'source',\r\n      key: 'source',\r\n      width: 120,\r\n      render: (source: string) => (\r\n        <Tag color=\"geekblue\">{source}</Tag>\r\n      )\r\n    },\r\n    {\r\n      title: '消息',\r\n      dataIndex: 'message',\r\n      key: 'message',\r\n      render: (message: string) => (\r\n        <Text\r\n          style={{\r\n            fontFamily: 'monospace',\r\n            fontSize: 12,\r\n            wordBreak: 'break-all'\r\n          }}\r\n        >\r\n          {message}\r\n        </Text>\r\n      )\r\n    }\r\n  ];\r\n\r\n  // 处理分页变化\r\n  const handleTableChange = (paginationConfig: any) => {\r\n    setPagination(prev => ({\r\n      ...prev,\r\n      current: paginationConfig.current || 1,\r\n      pageSize: paginationConfig.pageSize || 20\r\n    }));\r\n  };\r\n\r\n  // 处理筛选变化\r\n  const handleFilterChange = (key: string, value: any) => {\r\n    setFilters(prev => ({\r\n      ...prev,\r\n      [key]: value\r\n    }));\r\n    setPagination(prev => ({\r\n      ...prev,\r\n      current: 1 // 重置到第一页\r\n    }));\r\n  };\r\n\r\n  // 初始化和依赖更新\r\n  useEffect(() => {\r\n    fetchLogs();\r\n  }, [pagination.current, pagination.pageSize, filters]);\r\n\r\n  return (\r\n    <Card title={`插件日志 - ${pluginName}`}>\r\n      {/* 筛选栏 */}\r\n      <Row gutter={16} style={{ marginBottom: 16 }}>\r\n        <Col span={4}>\r\n          <Select\r\n            placeholder=\"日志级别\"\r\n            allowClear\r\n            style={{ width: '100%' }}\r\n            value={filters.level}\r\n            onChange={(value) => handleFilterChange('level', value)}\r\n          >\r\n            <Option value=\"error\">ERROR</Option>\r\n            <Option value=\"warn\">WARN</Option>\r\n            <Option value=\"info\">INFO</Option>\r\n            <Option value=\"debug\">DEBUG</Option>\r\n          </Select>\r\n        </Col>\r\n        <Col span={4}>\r\n          <Select\r\n            placeholder=\"日志来源\"\r\n            allowClear\r\n            style={{ width: '100%' }}\r\n            value={filters.source}\r\n            onChange={(value) => handleFilterChange('source', value)}\r\n          >\r\n            <Option value=\"main\">主程序</Option>\r\n            <Option value=\"plugin\">插件</Option>\r\n            <Option value=\"system\">系统</Option>\r\n          </Select>\r\n        </Col>\r\n        <Col span={8}>\r\n          <RangePicker\r\n            style={{ width: '100%' }}\r\n            value={filters.dateRange}\r\n            onChange={(dates) => handleFilterChange('dateRange', dates)}\r\n            showTime\r\n            format=\"YYYY-MM-DD HH:mm:ss\"\r\n          />\r\n        </Col>\r\n        <Col span={4}>\r\n          <Button\r\n            icon={<ReloadOutlined />}\r\n            onClick={fetchLogs}\r\n            style={{ width: '100%' }}\r\n          >\r\n            刷新\r\n          </Button>\r\n        </Col>\r\n      </Row>\r\n\r\n      {/* 日志表格 */}\r\n      <Table\r\n        columns={columns}\r\n        dataSource={logs}\r\n        rowKey=\"id\"\r\n        loading={loading}\r\n        size=\"small\"\r\n        pagination={{\r\n          current: pagination.current,\r\n          pageSize: pagination.pageSize,\r\n          total: pagination.total,\r\n          showSizeChanger: true,\r\n          showQuickJumper: true,\r\n          showTotal: (total, range) => `第 ${range[0]}-${range[1]} 条，共 ${total} 条`,\r\n          pageSizeOptions: ['20', '50', '100']\r\n        }}\r\n        onChange={handleTableChange}\r\n        scroll={{ y: 400 }}\r\n      />\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default PluginLogViewer; ","import React, { useState, useEffect } from 'react';\r\nimport {\r\n  Table,\r\n  Card,\r\n  Button,\r\n  Tag,\r\n  Input,\r\n  Select,\r\n  Modal,\r\n  Drawer,\r\n  Descriptions,\r\n  Row,\r\n  Col,\r\n  Typography,\r\n  message,\r\n  Popconfirm,\r\n  Tooltip,\r\n  Avatar,\r\n  Form,\r\n  Switch,\r\n  Tabs,\r\n  Space,\r\n  Badge,\r\n  Statistic\r\n} from 'antd';\r\nimport type { ColumnsType, TablePaginationConfig } from 'antd/es/table';\r\nimport {\r\n  PauseCircleOutlined,\r\n  ReloadOutlined,\r\n  DeleteOutlined,\r\n  PlusOutlined,\r\n  CheckCircleOutlined,\r\n  ExclamationCircleOutlined,\r\n  PlayCircleOutlined,\r\n  EyeOutlined,\r\n  SettingOutlined,\r\n  WarningOutlined\r\n} from '@ant-design/icons';\r\nimport { pluginService } from '../services/pluginService';\r\nimport PluginLogViewer from '../components/plugins/PluginLogViewer';\r\nimport type {\r\n  Plugin,\r\n  PluginListRequest,\r\n  PluginAction,\r\n  PluginStatus,\r\n  PluginType,\r\n  PluginStats\r\n} from '../types/plugin';\r\n\r\nconst { Title, Text } = Typography;\r\nconst { Search } = Input;\r\nconst { Option } = Select;\r\n\r\nconst PluginsPage: React.FC = () => {\r\n  const [plugins, setPlugins] = useState<Plugin[]>([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [searchText, setSearchText] = useState('');\r\n  const [filterType, setFilterType] = useState<string>('');\r\n  const [filterStatus, setFilterStatus] = useState<string>('');\r\n  const [pagination, setPagination] = useState({\r\n    current: 1,\r\n    pageSize: 10,\r\n    total: 0\r\n  });\r\n\r\n  // 详情抽屉状态\r\n  const [detailDrawerVisible, setDetailDrawerVisible] = useState(false);\r\n  const [selectedPlugin, setSelectedPlugin] = useState<Plugin | null>(null);\r\n  const [pluginStats, setPluginStats] = useState<PluginStats | null>(null);\r\n\r\n  // 配置模态框状态\r\n  const [configModalVisible, setConfigModalVisible] = useState(false);\r\n  const [configForm] = Form.useForm();\r\n\r\n  // 获取插件列表\r\n  const fetchPlugins = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const params: PluginListRequest = {\r\n        page: pagination.current,\r\n        page_size: pagination.pageSize,\r\n        search: searchText || undefined,\r\n        type: filterType || undefined,\r\n        status: filterStatus || undefined\r\n      };\r\n\r\n      const response = await pluginService.getPlugins(params);\r\n      setPlugins(response.data);\r\n      setPagination(prev => ({\r\n        ...prev,\r\n        total: response.pagination.total\r\n      }));\r\n    } catch (error: any) {\r\n      message.error('获取插件列表失败：' + (error.message || '未知错误'));\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // 获取插件统计\r\n  const fetchPluginStats = async (pluginName: string) => {\r\n    try {\r\n      const stats = await pluginService.getPluginStats(pluginName);\r\n      setPluginStats(stats);\r\n    } catch (error) {\r\n      console.error('获取插件统计失败:', error);\r\n    }\r\n  };\r\n\r\n  // 执行插件操作\r\n  const handlePluginAction = async (plugin: Plugin, action: PluginAction) => {\r\n    try {\r\n      const result = await pluginService.executePluginAction(plugin.name, action);\r\n      if (result.success) {\r\n        message.success(`${getActionText(action)}成功`);\r\n        await fetchPlugins(); // 刷新列表\r\n      } else {\r\n        message.error(result.message || `${getActionText(action)}失败`);\r\n      }\r\n    } catch (error: any) {\r\n      message.error(`${getActionText(action)}失败：` + (error.message || '未知错误'));\r\n    }\r\n  };\r\n\r\n  // 删除插件\r\n  const handleDeletePlugin = async (plugin: Plugin) => {\r\n    try {\r\n      await pluginService.deletePlugin(plugin.name);\r\n      message.success('删除插件成功');\r\n      await fetchPlugins();\r\n    } catch (error: any) {\r\n      message.error('删除插件失败：' + (error.message || '未知错误'));\r\n    }\r\n  };\r\n\r\n  // 显示插件详情\r\n  const showPluginDetails = async (plugin: Plugin) => {\r\n    setSelectedPlugin(plugin);\r\n    setDetailDrawerVisible(true);\r\n    await fetchPluginStats(plugin.name);\r\n  };\r\n\r\n  // 显示配置模态框\r\n  const showConfigModal = async (plugin: Plugin) => {\r\n    try {\r\n      const config = await pluginService.getPluginConfig(plugin.name);\r\n      setSelectedPlugin(plugin);\r\n      configForm.setFieldsValue({ config: JSON.stringify(config, null, 2) });\r\n      setConfigModalVisible(true);\r\n    } catch (error: any) {\r\n      message.error('获取插件配置失败：' + (error.message || '未知错误'));\r\n    }\r\n  };\r\n\r\n  // 保存配置\r\n  const handleSaveConfig = async () => {\r\n    if (!selectedPlugin) return;\r\n\r\n    try {\r\n      const values = await configForm.validateFields();\r\n      const config = JSON.parse(values.config);\r\n      \r\n      await pluginService.updatePluginConfig(selectedPlugin.name, config);\r\n      message.success('配置保存成功');\r\n      setConfigModalVisible(false);\r\n      await fetchPlugins();\r\n    } catch (error: any) {\r\n      if (error instanceof SyntaxError) {\r\n        message.error('配置格式错误，请检查 JSON 格式');\r\n      } else {\r\n        message.error('保存配置失败：' + (error.message || '未知错误'));\r\n      }\r\n    }\r\n  };\r\n\r\n  // 工具函数\r\n  const getActionText = (action: PluginAction): string => {\r\n    switch (action) {\r\n      case 'start': return '启动';\r\n      case 'stop': return '停止';\r\n      case 'restart': return '重启';\r\n      default: return '操作';\r\n    }\r\n  };\r\n\r\n  const getStatusTag = (status: PluginStatus) => {\r\n    switch (status) {\r\n      case 'running':\r\n        return <Tag color=\"green\" icon={<CheckCircleOutlined />}>运行中</Tag>;\r\n      case 'stopped':\r\n        return <Tag color=\"default\" icon={<PauseCircleOutlined />}>已停止</Tag>;\r\n      case 'error':\r\n        return <Tag color=\"red\" icon={<ExclamationCircleOutlined />}>错误</Tag>;\r\n      default:\r\n        return <Tag color=\"default\">{status}</Tag>;\r\n    }\r\n  };\r\n\r\n  const getTypeTag = (type: PluginType) => {\r\n    switch (type) {\r\n      case 'adapter':\r\n        return <Tag color=\"blue\">适配器</Tag>;\r\n      case 'sink':\r\n        return <Tag color=\"purple\">数据汇</Tag>;\r\n      default:\r\n        return <Tag>{type}</Tag>;\r\n    }\r\n  };\r\n\r\n  // 表格列定义\r\n  const columns: ColumnsType<Plugin> = [\r\n    {\r\n      title: '插件名称',\r\n      dataIndex: 'name',\r\n      key: 'name',\r\n      render: (name: string, record: Plugin) => (\r\n        <Space>\r\n          <Avatar shape=\"square\" style={{ backgroundColor: record.type === 'adapter' ? '#1890ff' : '#722ed1' }}>\r\n            {name.charAt(0).toUpperCase()}\r\n          </Avatar>\r\n          <div>\r\n            <div><strong>{name}</strong></div>\r\n            <Text type=\"secondary\" style={{ fontSize: 12 }}>{record.description || '无描述'}</Text>\r\n          </div>\r\n        </Space>\r\n      )\r\n    },\r\n    {\r\n      title: '类型',\r\n      dataIndex: 'type',\r\n      key: 'type',\r\n      render: (type: PluginType) => getTypeTag(type),\r\n      filters: [\r\n        { text: '适配器', value: 'adapter' },\r\n        { text: '数据汇', value: 'sink' }\r\n      ]\r\n    },\r\n    {\r\n      title: '版本',\r\n      dataIndex: 'version',\r\n      key: 'version'\r\n    },\r\n    {\r\n      title: '状态',\r\n      dataIndex: 'status',\r\n      key: 'status',\r\n      render: (status: PluginStatus, record: Plugin) => (\r\n        <Space>\r\n          {getStatusTag(status)}\r\n          {record.error_count > 0 && (\r\n            <Tooltip title={`错误次数: ${record.error_count}`}>\r\n              <Badge count={record.error_count} size=\"small\">\r\n                <WarningOutlined style={{ color: '#ff4d4f' }} />\r\n              </Badge>\r\n            </Tooltip>\r\n          )}\r\n        </Space>\r\n      ),\r\n      filters: [\r\n        { text: '运行中', value: 'running' },\r\n        { text: '已停止', value: 'stopped' },\r\n        { text: '错误', value: 'error' }\r\n      ]\r\n    },\r\n    {\r\n      title: '启用状态',\r\n      dataIndex: 'enabled',\r\n      key: 'enabled',\r\n      render: (enabled: boolean) => (\r\n        <Switch checked={enabled} disabled size=\"small\" />\r\n      )\r\n    },\r\n    {\r\n      title: '端口',\r\n      dataIndex: 'port',\r\n      key: 'port',\r\n      render: (port: number) => port || '-'\r\n    },\r\n    {\r\n      title: '操作',\r\n      key: 'actions',\r\n      width: 200,\r\n      render: (_, record: Plugin) => (\r\n        <Space>\r\n          <Tooltip title=\"查看详情\">\r\n            <Button\r\n              type=\"link\"\r\n              icon={<EyeOutlined />}\r\n              onClick={() => showPluginDetails(record)}\r\n            />\r\n          </Tooltip>\r\n          \r\n          {record.status === 'running' ? (\r\n            <Tooltip title=\"停止\">\r\n              <Button\r\n                type=\"link\"\r\n                icon={<PauseCircleOutlined />}\r\n                onClick={() => handlePluginAction(record, 'stop')}\r\n              />\r\n            </Tooltip>\r\n          ) : (\r\n            <Tooltip title=\"启动\">\r\n              <Button\r\n                type=\"link\"\r\n                icon={<PlayCircleOutlined />}\r\n                onClick={() => handlePluginAction(record, 'start')}\r\n              />\r\n            </Tooltip>\r\n          )}\r\n          \r\n          <Tooltip title=\"重启\">\r\n            <Button\r\n              type=\"link\"\r\n              icon={<ReloadOutlined />}\r\n              onClick={() => handlePluginAction(record, 'restart')}\r\n            />\r\n          </Tooltip>\r\n          \r\n          <Tooltip title=\"配置\">\r\n            <Button\r\n              type=\"link\"\r\n              icon={<SettingOutlined />}\r\n              onClick={() => showConfigModal(record)}\r\n            />\r\n          </Tooltip>\r\n          \r\n          <Popconfirm\r\n            title=\"确定要删除这个插件吗？\"\r\n            description=\"删除后无法恢复\"\r\n            onConfirm={() => handleDeletePlugin(record)}\r\n            okText=\"确定\"\r\n            cancelText=\"取消\"\r\n          >\r\n            <Tooltip title=\"删除\">\r\n              <Button\r\n                type=\"link\"\r\n                danger\r\n                icon={<DeleteOutlined />}\r\n              />\r\n            </Tooltip>\r\n          </Popconfirm>\r\n        </Space>\r\n      )\r\n    }\r\n  ];\r\n\r\n  // 处理表格变化\r\n  const handleTableChange = (paginationConfig: TablePaginationConfig, filters: any) => {\r\n    setPagination(prev => ({\r\n      ...prev,\r\n      current: paginationConfig.current || 1,\r\n      pageSize: paginationConfig.pageSize || 10\r\n    }));\r\n    \r\n    // 处理筛选\r\n    if (filters.type) {\r\n      setFilterType(filters.type[0] || '');\r\n    }\r\n    if (filters.status) {\r\n      setFilterStatus(filters.status[0] || '');\r\n    }\r\n  };\r\n\r\n  // 初始化和依赖更新\r\n  useEffect(() => {\r\n    fetchPlugins();\r\n  }, [pagination.current, pagination.pageSize, searchText, filterType, filterStatus]);\r\n\r\n  return (\r\n    <div>\r\n      <Title level={2}>插件管理</Title>\r\n      \r\n      {/* 操作栏 */}\r\n      <Card style={{ marginBottom: 16 }}>\r\n        <Row gutter={16} align=\"middle\">\r\n          <Col flex=\"auto\">\r\n            <Space>\r\n              <Search\r\n                placeholder=\"搜索插件名称或描述\"\r\n                allowClear\r\n                style={{ width: 300 }}\r\n                onSearch={setSearchText}\r\n                onClear={() => setSearchText('')}\r\n              />\r\n              <Select\r\n                placeholder=\"插件类型\"\r\n                allowClear\r\n                style={{ width: 120 }}\r\n                value={filterType}\r\n                onChange={setFilterType}\r\n              >\r\n                <Option value=\"adapter\">适配器</Option>\r\n                <Option value=\"sink\">数据汇</Option>\r\n              </Select>\r\n              <Select\r\n                placeholder=\"状态\"\r\n                allowClear\r\n                style={{ width: 120 }}\r\n                value={filterStatus}\r\n                onChange={setFilterStatus}\r\n              >\r\n                <Option value=\"running\">运行中</Option>\r\n                <Option value=\"stopped\">已停止</Option>\r\n                <Option value=\"error\">错误</Option>\r\n              </Select>\r\n            </Space>\r\n          </Col>\r\n          <Col>\r\n            <Space>\r\n              <Button icon={<ReloadOutlined />} onClick={fetchPlugins}>\r\n                刷新\r\n              </Button>\r\n              <Button type=\"primary\" icon={<PlusOutlined />}>\r\n                添加插件\r\n              </Button>\r\n            </Space>\r\n          </Col>\r\n        </Row>\r\n      </Card>\r\n\r\n      {/* 插件列表 */}\r\n      <Card>\r\n        <Table\r\n          columns={columns}\r\n          dataSource={plugins}\r\n          rowKey=\"name\"\r\n          loading={loading}\r\n          pagination={{\r\n            current: pagination.current,\r\n            pageSize: pagination.pageSize,\r\n            total: pagination.total,\r\n            showSizeChanger: true,\r\n            showQuickJumper: true,\r\n            showTotal: (total, range) => `第 ${range[0]}-${range[1]} 条，共 ${total} 条`\r\n          }}\r\n          onChange={handleTableChange}\r\n        />\r\n      </Card>\r\n\r\n      {/* 插件详情抽屉 */}\r\n      <Drawer\r\n        title=\"插件详情\"\r\n        width={600}\r\n        open={detailDrawerVisible}\r\n        onClose={() => setDetailDrawerVisible(false)}\r\n      >\r\n        {selectedPlugin && (\r\n          <div>\r\n            <Tabs \r\n              defaultActiveKey=\"1\"\r\n              items={[\r\n                {\r\n                  key: \"1\",\r\n                  label: \"基本信息\",\r\n                  children: (\r\n                    <Descriptions title=\"基本信息\" bordered>\r\n                      <Descriptions.Item label=\"名称\">{selectedPlugin.name}</Descriptions.Item>\r\n                      <Descriptions.Item label=\"类型\">{getTypeTag(selectedPlugin.type as PluginType)}</Descriptions.Item>\r\n                      <Descriptions.Item label=\"版本\">{selectedPlugin.version}</Descriptions.Item>\r\n                      <Descriptions.Item label=\"状态\">{getStatusTag(selectedPlugin.status as PluginStatus)}</Descriptions.Item>\r\n                      <Descriptions.Item label=\"端口\">{selectedPlugin.port || '无'}</Descriptions.Item>\r\n                      <Descriptions.Item label=\"作者\">{selectedPlugin.author || '未知'}</Descriptions.Item>\r\n                      <Descriptions.Item label=\"路径\" span={3}>{selectedPlugin.path}</Descriptions.Item>\r\n                      <Descriptions.Item label=\"描述\" span={3}>{selectedPlugin.description || '无描述'}</Descriptions.Item>\r\n                    </Descriptions>\r\n                  )\r\n                },\r\n                {\r\n                  key: \"2\",\r\n                  label: \"运行统计\",\r\n                  children: pluginStats ? (\r\n                    <div style={{ marginTop: 24 }}>\r\n                      <Title level={4}>运行统计</Title>\r\n                      <Row gutter={16}>\r\n                        <Col span={8}>\r\n                          <Statistic title=\"总数据点\" value={pluginStats.data_points_total} />\r\n                        </Col>\r\n                        <Col span={8}>\r\n                          <Statistic title=\"小时数据点\" value={pluginStats.data_points_hour} />\r\n                        </Col>\r\n                        <Col span={8}>\r\n                          <Statistic title=\"运行时间(秒)\" value={pluginStats.uptime_seconds} />\r\n                        </Col>\r\n                        <Col span={8}>\r\n                          <Statistic title=\"总错误\" value={pluginStats.errors_total} />\r\n                        </Col>\r\n                        <Col span={8}>\r\n                          <Statistic title=\"小时错误\" value={pluginStats.errors_hour} />\r\n                        </Col>\r\n                        <Col span={8}>\r\n                          <Statistic title=\"平均延迟(ms)\" value={pluginStats.average_latency} precision={2} />\r\n                        </Col>\r\n                        <Col span={8}>\r\n                          <Statistic title=\"内存使用(MB)\" value={(pluginStats.memory_usage / 1024 / 1024).toFixed(2)} />\r\n                        </Col>\r\n                        <Col span={8}>\r\n                          <Statistic title=\"CPU使用率\" value={pluginStats.cpu_usage} precision={2} suffix=\"%\" />\r\n                        </Col>\r\n                      </Row>\r\n                    </div>\r\n                  ) : (\r\n                    <div>暂无统计数据</div>\r\n                  )\r\n                },\r\n                {\r\n                  key: \"3\",\r\n                  label: \"插件日志\",\r\n                  children: <PluginLogViewer pluginName={selectedPlugin.name} />\r\n                }\r\n              ]}\r\n            />\r\n          </div>\r\n        )}\r\n      </Drawer>\r\n\r\n      {/* 配置编辑模态框 */}\r\n      <Modal\r\n        title=\"插件配置\"\r\n        open={configModalVisible}\r\n        onOk={handleSaveConfig}\r\n        onCancel={() => setConfigModalVisible(false)}\r\n        width={800}\r\n        okText=\"保存\"\r\n        cancelText=\"取消\"\r\n      >\r\n        {selectedPlugin && (\r\n          <Form form={configForm} layout=\"vertical\">\r\n            <Form.Item\r\n              label=\"配置 (JSON 格式)\"\r\n              name=\"config\"\r\n              rules={[\r\n                { required: true, message: '请输入配置' },\r\n                {\r\n                  validator: (_, value) => {\r\n                    try {\r\n                      JSON.parse(value);\r\n                      return Promise.resolve();\r\n                    } catch {\r\n                      return Promise.reject(new Error('JSON 格式错误'));\r\n                    }\r\n                  }\r\n                }\r\n              ]}\r\n            >\r\n              <Input.TextArea\r\n                rows={20}\r\n                placeholder='{\"key\": \"value\"}'\r\n                style={{ fontFamily: 'monospace' }}\r\n              />\r\n            </Form.Item>\r\n          </Form>\r\n        )}\r\n      </Modal>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PluginsPage; "],"names":["Option","Select","RangePicker","DatePicker","Text","Typography","PluginLogViewer","pluginName","logs","setLogs","useState","loading","setLoading","pagination","setPagination","current","pageSize","total","filters","setFilters","level","source","dateRange","fetchLogs","async","params","page","page_size","from","toISOString","to","response","pluginService","getPluginLogs","data","prev","error","message","columns","title","dataIndex","key","width","render","timestamp","jsx","style","fontSize","fontFamily","children","dayjs","format","toLowerCase","Tag","color","toUpperCase","getLevelTag","wordBreak","handleFilterChange","value","useEffect","jsxs","Card","Row","gutter","marginBottom","Col","span","placeholder","allowClear","onChange","dates","showTime","Button","icon","ReloadOutlined","onClick","Table","dataSource","rowKey","size","showSizeChanger","showQuickJumper","showTotal","range","pageSizeOptions","paginationConfig","scroll","y","Title","Search","Input","PluginsPage","plugins","setPlugins","searchText","setSearchText","filterType","setFilterType","filterStatus","setFilterStatus","detailDrawerVisible","setDetailDrawerVisible","selectedPlugin","setSelectedPlugin","pluginStats","setPluginStats","configModalVisible","setConfigModalVisible","configForm","Form","useForm","fetchPlugins","search","type","status","getPlugins","handlePluginAction","plugin","action","result","executePluginAction","name","success","getActionText","showPluginDetails","stats","getPluginStats","console","fetchPluginStats","getStatusTag","CheckCircleOutlined","PauseCircleOutlined","ExclamationCircleOutlined","getTypeTag","record","Space","Avatar","shape","backgroundColor","charAt","description","text","error_count","Tooltip","Badge","count","WarningOutlined","enabled","Switch","checked","disabled","port","_","EyeOutlined","PlayCircleOutlined","SettingOutlined","config","getPluginConfig","setFieldsValue","JSON","stringify","showConfigModal","Popconfirm","onConfirm","deletePlugin","handleDeletePlugin","okText","cancelText","danger","DeleteOutlined","align","flex","onSearch","onClear","PlusOutlined","Drawer","open","onClose","Tabs","defaultActiveKey","items","label","Descriptions","bordered","Item","version","author","path","marginTop","Statistic","data_points_total","data_points_hour","uptime_seconds","errors_total","errors_hour","average_latency","precision","memory_usage","toFixed","cpu_usage","suffix","Modal","onOk","values","validateFields","parse","updatePluginConfig","SyntaxError","onCancel","form","layout","rules","required","validator","Promise","resolve","reject","Error","TextArea","rows"],"mappings":"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"}