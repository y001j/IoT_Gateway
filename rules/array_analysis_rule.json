{
  "id": "array_analysis_rule",
  "name": "数组数据分析",
  "description": "对数组数据进行统计分析",
  "enabled": true,
  "priority": 60,
  "version": 9,
  "conditions": {
    "type": "simple",
    "field": "key",
    "operator": "eq",
    "value": "measurement_array"
  },
  "actions": [
    {
      "type": "aggregate",
      "config": {
        "forward": true,
        "functions": [
          "avg",
          "max",
          "min",
          "p90",
          "p95"
        ],
        "group_by": [
          "device_id"
        ],
        "output_key": "array_stats",
        "size": 5,
        "window_type": "count"
      }
    },
    {
      "type": "filter",
      "config": {
        "drop_on_match": false,
        "field": "value.elements[0]",
        "max": 80,
        "min": 20,
        "type": "range"
      }
    }
  ],
  "created_at": "2025-08-14T21:46:15.580156+08:00",
  "updated_at": "2025-08-15T19:50:27.3405909+08:00"
}